const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nodeConfig-B-dIOqtf.js","assets/index.esm-o2A1Au2t.js","assets/config-CVZrMBl4.js"])))=>i.map(i=>d[i]);
import{c as dd,d as Ce,s as Or,a as je,q as Ie,g as xe,o as it,b as Wt,u as wt,w as Ht,e as Xt,f as en,h as Xo,i as kp,j as Vt,k as Np,l as hd,m as Sp,n as xn,p as bp,r as zu,t as Bu,v as Ep}from"./index.esm-o2A1Au2t.js";import{auth as Pe,db as ie,initializeFirebase as ei,checkFirebaseConnection as lr}from"./config-CVZrMBl4.js";function Ap(i,c){for(var a=0;a<c.length;a++){const u=c[a];if(typeof u!="string"&&!Array.isArray(u)){for(const h in u)if(h!=="default"&&!(h in i)){const p=Object.getOwnPropertyDescriptor(u,h);p&&Object.defineProperty(i,h,p.get?p:{enumerable:!0,get:()=>u[h]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function a(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(h){if(h.ep)return;h.ep=!0;const p=a(h);fetch(h.href,p)}})();function pd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qa={exports:{}},Es={},Wa={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu;function Lp(){if(qu)return De;qu=1;var i=Symbol.for("react.element"),c=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.iterator;function F(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,O={};function I(k,v,K){this.props=k,this.context=v,this.refs=O,this.updater=K||W}I.prototype.isReactComponent={},I.prototype.setState=function(k,v){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,v,"setState")},I.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function V(){}V.prototype=I.prototype;function $(k,v,K){this.props=k,this.context=v,this.refs=O,this.updater=K||W}var L=$.prototype=new V;L.constructor=$,_(L,I.prototype),L.isPureReactComponent=!0;var z=Array.isArray,re=Object.prototype.hasOwnProperty,X={current:null},pe={key:!0,ref:!0,__self:!0,__source:!0};function ue(k,v,K){var T,ne={},de=null,be=null;if(v!=null)for(T in v.ref!==void 0&&(be=v.ref),v.key!==void 0&&(de=""+v.key),v)re.call(v,T)&&!pe.hasOwnProperty(T)&&(ne[T]=v[T]);var Ee=arguments.length-2;if(Ee===1)ne.children=K;else if(1<Ee){for(var C=Array(Ee),R=0;R<Ee;R++)C[R]=arguments[R+2];ne.children=C}if(k&&k.defaultProps)for(T in Ee=k.defaultProps,Ee)ne[T]===void 0&&(ne[T]=Ee[T]);return{$$typeof:i,type:k,key:de,ref:be,props:ne,_owner:X.current}}function Le(k,v){return{$$typeof:i,type:k.type,key:v,ref:k.ref,props:k.props,_owner:k._owner}}function Fe(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function te(k){var v={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(K){return v[K]})}var fe=/\/+/g;function H(k,v){return typeof k=="object"&&k!==null&&k.key!=null?te(""+k.key):v.toString(36)}function ye(k,v,K,T,ne){var de=typeof k;(de==="undefined"||de==="boolean")&&(k=null);var be=!1;if(k===null)be=!0;else switch(de){case"string":case"number":be=!0;break;case"object":switch(k.$$typeof){case i:case c:be=!0}}if(be)return be=k,ne=ne(be),k=T===""?"."+H(be,0):T,z(ne)?(K="",k!=null&&(K=k.replace(fe,"$&/")+"/"),ye(ne,v,K,"",function(R){return R})):ne!=null&&(Fe(ne)&&(ne=Le(ne,K+(!ne.key||be&&be.key===ne.key?"":(""+ne.key).replace(fe,"$&/")+"/")+k)),v.push(ne)),1;if(be=0,T=T===""?".":T+":",z(k))for(var Ee=0;Ee<k.length;Ee++){de=k[Ee];var C=T+H(de,Ee);be+=ye(de,v,K,C,ne)}else if(C=F(k),typeof C=="function")for(k=C.call(k),Ee=0;!(de=k.next()).done;)de=de.value,C=T+H(de,Ee++),be+=ye(de,v,K,C,ne);else if(de==="object")throw v=String(k),Error("Objects are not valid as a React child (found: "+(v==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":v)+"). If you meant to render a collection of children, use an array instead.");return be}function ke(k,v,K){if(k==null)return k;var T=[],ne=0;return ye(k,T,"","",function(de){return v.call(K,de,ne++)}),T}function b(k){if(k._status===-1){var v=k._result;v=v(),v.then(function(K){(k._status===0||k._status===-1)&&(k._status=1,k._result=K)},function(K){(k._status===0||k._status===-1)&&(k._status=2,k._result=K)}),k._status===-1&&(k._status=0,k._result=v)}if(k._status===1)return k._result.default;throw k._result}var B={current:null},M={transition:null},U={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:M,ReactCurrentOwner:X};function q(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:ke,forEach:function(k,v,K){ke(k,function(){v.apply(this,arguments)},K)},count:function(k){var v=0;return ke(k,function(){v++}),v},toArray:function(k){return ke(k,function(v){return v})||[]},only:function(k){if(!Fe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},De.Component=I,De.Fragment=a,De.Profiler=h,De.PureComponent=$,De.StrictMode=u,De.Suspense=x,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,De.act=q,De.cloneElement=function(k,v,K){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var T=_({},k.props),ne=k.key,de=k.ref,be=k._owner;if(v!=null){if(v.ref!==void 0&&(de=v.ref,be=X.current),v.key!==void 0&&(ne=""+v.key),k.type&&k.type.defaultProps)var Ee=k.type.defaultProps;for(C in v)re.call(v,C)&&!pe.hasOwnProperty(C)&&(T[C]=v[C]===void 0&&Ee!==void 0?Ee[C]:v[C])}var C=arguments.length-2;if(C===1)T.children=K;else if(1<C){Ee=Array(C);for(var R=0;R<C;R++)Ee[R]=arguments[R+2];T.children=Ee}return{$$typeof:i,type:k.type,key:ne,ref:de,props:T,_owner:be}},De.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:p,_context:k},k.Consumer=k},De.createElement=ue,De.createFactory=function(k){var v=ue.bind(null,k);return v.type=k,v},De.createRef=function(){return{current:null}},De.forwardRef=function(k){return{$$typeof:y,render:k}},De.isValidElement=Fe,De.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:b}},De.memo=function(k,v){return{$$typeof:E,type:k,compare:v===void 0?null:v}},De.startTransition=function(k){var v=M.transition;M.transition={};try{k()}finally{M.transition=v}},De.unstable_act=q,De.useCallback=function(k,v){return B.current.useCallback(k,v)},De.useContext=function(k){return B.current.useContext(k)},De.useDebugValue=function(){},De.useDeferredValue=function(k){return B.current.useDeferredValue(k)},De.useEffect=function(k,v){return B.current.useEffect(k,v)},De.useId=function(){return B.current.useId()},De.useImperativeHandle=function(k,v,K){return B.current.useImperativeHandle(k,v,K)},De.useInsertionEffect=function(k,v){return B.current.useInsertionEffect(k,v)},De.useLayoutEffect=function(k,v){return B.current.useLayoutEffect(k,v)},De.useMemo=function(k,v){return B.current.useMemo(k,v)},De.useReducer=function(k,v,K){return B.current.useReducer(k,v,K)},De.useRef=function(k){return B.current.useRef(k)},De.useState=function(k){return B.current.useState(k)},De.useSyncExternalStore=function(k,v,K){return B.current.useSyncExternalStore(k,v,K)},De.useTransition=function(){return B.current.useTransition()},De.version="18.3.1",De}var Wu;function rl(){return Wu||(Wu=1,Wa.exports=Lp()),Wa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu;function Rp(){if(Hu)return Es;Hu=1;var i=rl(),c=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,h=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function f(y,x,E){var w,N={},F=null,W=null;E!==void 0&&(F=""+E),x.key!==void 0&&(F=""+x.key),x.ref!==void 0&&(W=x.ref);for(w in x)u.call(x,w)&&!p.hasOwnProperty(w)&&(N[w]=x[w]);if(y&&y.defaultProps)for(w in x=y.defaultProps,x)N[w]===void 0&&(N[w]=x[w]);return{$$typeof:c,type:y,key:F,ref:W,props:N,_owner:h.current}}return Es.Fragment=a,Es.jsx=f,Es.jsxs=f,Es}var Vu;function Dp(){return Vu||(Vu=1,qa.exports=Rp()),qa.exports}var n=Dp(),m=rl();const Ts=pd(m),Tp=Ap({__proto__:null,default:Ts},[m]);var Qo={},Ha={exports:{}},Et={},Va={exports:{}},$a={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u;function Ip(){return $u||($u=1,function(i){function c(M,U){var q=M.length;M.push(U);e:for(;0<q;){var k=q-1>>>1,v=M[k];if(0<h(v,U))M[k]=U,M[q]=v,q=k;else break e}}function a(M){return M.length===0?null:M[0]}function u(M){if(M.length===0)return null;var U=M[0],q=M.pop();if(q!==U){M[0]=q;e:for(var k=0,v=M.length,K=v>>>1;k<K;){var T=2*(k+1)-1,ne=M[T],de=T+1,be=M[de];if(0>h(ne,q))de<v&&0>h(be,ne)?(M[k]=be,M[de]=q,k=de):(M[k]=ne,M[T]=q,k=T);else if(de<v&&0>h(be,q))M[k]=be,M[de]=q,k=de;else break e}}return U}function h(M,U){var q=M.sortIndex-U.sortIndex;return q!==0?q:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var f=Date,y=f.now();i.unstable_now=function(){return f.now()-y}}var x=[],E=[],w=1,N=null,F=3,W=!1,_=!1,O=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(M){for(var U=a(E);U!==null;){if(U.callback===null)u(E);else if(U.startTime<=M)u(E),U.sortIndex=U.expirationTime,c(x,U);else break;U=a(E)}}function z(M){if(O=!1,L(M),!_)if(a(x)!==null)_=!0,b(re);else{var U=a(E);U!==null&&B(z,U.startTime-M)}}function re(M,U){_=!1,O&&(O=!1,V(ue),ue=-1),W=!0;var q=F;try{for(L(U),N=a(x);N!==null&&(!(N.expirationTime>U)||M&&!te());){var k=N.callback;if(typeof k=="function"){N.callback=null,F=N.priorityLevel;var v=k(N.expirationTime<=U);U=i.unstable_now(),typeof v=="function"?N.callback=v:N===a(x)&&u(x),L(U)}else u(x);N=a(x)}if(N!==null)var K=!0;else{var T=a(E);T!==null&&B(z,T.startTime-U),K=!1}return K}finally{N=null,F=q,W=!1}}var X=!1,pe=null,ue=-1,Le=5,Fe=-1;function te(){return!(i.unstable_now()-Fe<Le)}function fe(){if(pe!==null){var M=i.unstable_now();Fe=M;var U=!0;try{U=pe(!0,M)}finally{U?H():(X=!1,pe=null)}}else X=!1}var H;if(typeof $=="function")H=function(){$(fe)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ke=ye.port2;ye.port1.onmessage=fe,H=function(){ke.postMessage(null)}}else H=function(){I(fe,0)};function b(M){pe=M,X||(X=!0,H())}function B(M,U){ue=I(function(){M(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){_||W||(_=!0,b(re))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return F},i.unstable_getFirstCallbackNode=function(){return a(x)},i.unstable_next=function(M){switch(F){case 1:case 2:case 3:var U=3;break;default:U=F}var q=F;F=U;try{return M()}finally{F=q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=F;F=M;try{return U()}finally{F=q}},i.unstable_scheduleCallback=function(M,U,q){var k=i.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?k+q:k):q=k,M){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=q+v,M={id:w++,callback:U,priorityLevel:M,startTime:q,expirationTime:v,sortIndex:-1},q>k?(M.sortIndex=q,c(E,M),a(x)===null&&M===a(E)&&(O?(V(ue),ue=-1):O=!0,B(z,q-k))):(M.sortIndex=v,c(x,M),_||W||(_=!0,b(re))),M},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(M){var U=F;return function(){var q=F;F=U;try{return M.apply(this,arguments)}finally{F=q}}}}($a)),$a}var Qu;function Pp(){return Qu||(Qu=1,Va.exports=Ip()),Va.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function Fp(){if(Ku)return Et;Ku=1;var i=rl(),c=Pp();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,h={};function p(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(h[e]=t,e=0;e<t.length;e++)u.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},N={};function F(e){return x.call(N,e)?!0:x.call(w,e)?!1:E.test(e)?N[e]=!0:(w[e]=!0,!1)}function W(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,r,s){if(t===null||typeof t>"u"||W(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,r,s,o,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];I[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){I[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,$);I[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,$);I[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,$);I[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),I.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){I[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,r,s){var o=I.hasOwnProperty(t)?I[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,r,o,s)&&(r=null),s||o===null?F(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,s=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var z=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),X=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),te=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,k;function v(e){if(k===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var K=!1;function T(e,t){if(!e||K)return"";K=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var s=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){s=P}e.call(t.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var o=P.stack.split(`
`),l=s.stack.split(`
`),d=o.length-1,g=l.length-1;1<=d&&0<=g&&o[d]!==l[g];)g--;for(;1<=d&&0<=g;d--,g--)if(o[d]!==l[g]){if(d!==1||g!==1)do if(d--,g--,0>g||o[d]!==l[g]){var j=`
`+o[d].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=d&&0<=g);break}}}finally{K=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?v(e):""}function ne(e){switch(e.tag){case 5:return v(e.type);case 16:return v("Lazy");case 13:return v("Suspense");case 19:return v("SuspenseList");case 0:case 2:case 15:return e=T(e.type,!1),e;case 11:return e=T(e.type.render,!1),e;case 1:return e=T(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pe:return"Fragment";case X:return"Portal";case Le:return"Profiler";case ue:return"StrictMode";case H:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case te:return(e.displayName||"Context")+".Consumer";case Fe:return(e._context.displayName||"Context")+".Provider";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ke:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(t);case 8:return t===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R(e){var t=C(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){s=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Q(e){e._valueTracker||(e._valueTracker=R(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=C(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Se(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nt(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ze(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ee(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Re(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function Oe(e,t){Re(e,t);var r=Ee(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vn(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vn(e,t.type,Ee(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ft(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vn(e,t,r){(t!=="number"||Se(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jn=Array.isArray;function At(e,t,r,s){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ee(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ur(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qr(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(a(92));if(jn(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ee(r)}}function Fs(e,t){var r=Ee(t.value),s=Ee(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function ln(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ms(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ms(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dr,Hr=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $n(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){oi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qn[t]=Qn[e]})});function Us(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+t).trim():t+"px"}function Z(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,o=Us(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,o):e[r]=o}}var se=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(se[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Te(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qe=null;function Lt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var we=null,rt=null,ze=null;function ut(e){if(e=hs(e)){if(typeof we!="function")throw Error(a(280));var t=e.stateNode;t&&(t=ao(t),we(e.stateNode,e.type,t))}}function Be(e){rt?ze?ze.push(e):ze=[e]:rt=e}function Me(){if(rt){var e=rt,t=ze;if(ze=rt=null,ut(e),t)for(e=0;e<t.length;e++)ut(t[e])}}function jt(e,t){return e(t)}function Mt(){}var cn=!1;function Os(e,t,r){if(cn)return e(t,r);cn=!0;try{return jt(e,t,r)}finally{cn=!1,(rt!==null||ze!==null)&&(Mt(),Me())}}function Vr(e,t){var r=e.stateNode;if(r===null)return null;var s=ao(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,t,typeof r));return r}var ii=!1;if(y)try{var $r={};Object.defineProperty($r,"passive",{get:function(){ii=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{ii=!1}function Ld(e,t,r,s,o,l,d,g,j){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(G){this.onError(G)}}var Qr=!1,_s=null,zs=!1,ai=null,Rd={onError:function(e){Qr=!0,_s=e}};function Dd(e,t,r,s,o,l,d,g,j){Qr=!1,_s=null,Ld.apply(Rd,arguments)}function Td(e,t,r,s,o,l,d,g,j){if(Dd.apply(this,arguments),Qr){if(Qr){var P=_s;Qr=!1,_s=null}else throw Error(a(198));zs||(zs=!0,ai=P)}}function Kn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ul(e){if(Kn(e)!==e)throw Error(a(188))}function Id(e){var t=e.alternate;if(!t){if(t=Kn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var r=e,s=t;;){var o=r.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){r=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===r)return ul(o),e;if(l===s)return ul(o),t;l=l.sibling}throw Error(a(188))}if(r.return!==s.return)r=o,s=l;else{for(var d=!1,g=o.child;g;){if(g===r){d=!0,r=o,s=l;break}if(g===s){d=!0,s=o,r=l;break}g=g.sibling}if(!d){for(g=l.child;g;){if(g===r){d=!0,r=l,s=o;break}if(g===s){d=!0,s=l,r=o;break}g=g.sibling}if(!d)throw Error(a(189))}}if(r.alternate!==s)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:t}function dl(e){return e=Id(e),e!==null?hl(e):null}function hl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hl(e);if(t!==null)return t;e=e.sibling}return null}var pl=c.unstable_scheduleCallback,ml=c.unstable_cancelCallback,Pd=c.unstable_shouldYield,Fd=c.unstable_requestPaint,Je=c.unstable_now,Md=c.unstable_getCurrentPriorityLevel,li=c.unstable_ImmediatePriority,fl=c.unstable_UserBlockingPriority,Bs=c.unstable_NormalPriority,Ud=c.unstable_LowPriority,gl=c.unstable_IdlePriority,qs=null,tn=null;function Od(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(qs,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Bd,_d=Math.log,zd=Math.LN2;function Bd(e){return e>>>=0,e===0?32:31-(_d(e)/zd|0)|0}var Ws=64,Hs=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vs(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,d=r&268435455;if(d!==0){var g=d&~o;g!==0?s=Kr(g):(l&=d,l!==0&&(s=Kr(l)))}else d=r&~o,d!==0?s=Kr(d):l!==0&&(s=Kr(l));if(s===0)return 0;if(t!==0&&t!==s&&(t&o)===0&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-$t(t),o=1<<r,s|=e[r],t&=~o;return s}function qd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wd(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-$t(l),g=1<<d,j=o[d];j===-1?((g&r)===0||(g&s)!==0)&&(o[d]=qd(g,t)):j<=t&&(e.expiredLanes|=g),l&=~g}}function ci(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vl(){var e=Ws;return Ws<<=1,(Ws&4194240)===0&&(Ws=64),e}function ui(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=r}function Hd(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-$t(r),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,r&=~l}}function di(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-$t(r),o=1<<s;o&t|e[s]&t&&(e[s]|=t),r&=~o}}var qe=0;function yl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xl,hi,wl,jl,Cl,pi=!1,$s=[],Cn=null,kn=null,Nn=null,Gr=new Map,Zr=new Map,Sn=[],Vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kl(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function Jr(e,t,r,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=hs(t),t!==null&&hi(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $d(e,t,r,s,o){switch(t){case"focusin":return Cn=Jr(Cn,e,t,r,s,o),!0;case"dragenter":return kn=Jr(kn,e,t,r,s,o),!0;case"mouseover":return Nn=Jr(Nn,e,t,r,s,o),!0;case"pointerover":var l=o.pointerId;return Gr.set(l,Jr(Gr.get(l)||null,e,t,r,s,o)),!0;case"gotpointercapture":return l=o.pointerId,Zr.set(l,Jr(Zr.get(l)||null,e,t,r,s,o)),!0}return!1}function Nl(e){var t=Yn(e.target);if(t!==null){var r=Kn(t);if(r!==null){if(t=r.tag,t===13){if(t=cl(r),t!==null){e.blockedOn=t,Cl(e.priority,function(){wl(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Qe=s,r.target.dispatchEvent(s),Qe=null}else return t=hs(r),t!==null&&hi(t),e.blockedOn=r,!1;t.shift()}return!0}function Sl(e,t,r){Qs(e)&&r.delete(t)}function Qd(){pi=!1,Cn!==null&&Qs(Cn)&&(Cn=null),kn!==null&&Qs(kn)&&(kn=null),Nn!==null&&Qs(Nn)&&(Nn=null),Gr.forEach(Sl),Zr.forEach(Sl)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,pi||(pi=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Qd)))}function es(e){function t(o){return Xr(o,e)}if(0<$s.length){Xr($s[0],e);for(var r=1;r<$s.length;r++){var s=$s[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Cn!==null&&Xr(Cn,e),kn!==null&&Xr(kn,e),Nn!==null&&Xr(Nn,e),Gr.forEach(t),Zr.forEach(t),r=0;r<Sn.length;r++)s=Sn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Sn.length&&(r=Sn[0],r.blockedOn===null);)Nl(r),r.blockedOn===null&&Sn.shift()}var hr=z.ReactCurrentBatchConfig,Ks=!0;function Kd(e,t,r,s){var o=qe,l=hr.transition;hr.transition=null;try{qe=1,mi(e,t,r,s)}finally{qe=o,hr.transition=l}}function Yd(e,t,r,s){var o=qe,l=hr.transition;hr.transition=null;try{qe=4,mi(e,t,r,s)}finally{qe=o,hr.transition=l}}function mi(e,t,r,s){if(Ks){var o=fi(e,t,r,s);if(o===null)Ti(e,t,s,Ys,r),kl(e,s);else if($d(o,e,t,r,s))s.stopPropagation();else if(kl(e,s),t&4&&-1<Vd.indexOf(e)){for(;o!==null;){var l=hs(o);if(l!==null&&xl(l),l=fi(e,t,r,s),l===null&&Ti(e,t,s,Ys,r),l===o)break;o=l}o!==null&&s.stopPropagation()}else Ti(e,t,s,null,r)}}var Ys=null;function fi(e,t,r,s){if(Ys=null,e=Lt(s),e=Yn(e),e!==null)if(t=Kn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cl(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function bl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Md()){case li:return 1;case fl:return 4;case Bs:case Ud:return 16;case gl:return 536870912;default:return 16}default:return 16}}var bn=null,gi=null,Gs=null;function El(){if(Gs)return Gs;var e,t=gi,r=t.length,s,o="value"in bn?bn.value:bn.textContent,l=o.length;for(e=0;e<r&&t[e]===o[e];e++);var d=r-e;for(s=1;s<=d&&t[r-s]===o[l-s];s++);return Gs=o.slice(e,1<s?1-s:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Js(){return!0}function Al(){return!1}function Rt(e){function t(r,s,o,l,d){this._reactName=r,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(r=e[g],this[g]=r?r(l):l[g]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Js:Al,this.isPropagationStopped=Al,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),t}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Rt(pr),ts=q({},pr,{view:0,detail:0}),Gd=Rt(ts),yi,xi,ns,Xs=q({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(yi=e.screenX-ns.screenX,xi=e.screenY-ns.screenY):xi=yi=0,ns=e),yi)},movementY:function(e){return"movementY"in e?e.movementY:xi}}),Ll=Rt(Xs),Zd=q({},Xs,{dataTransfer:0}),Jd=Rt(Zd),Xd=q({},ts,{relatedTarget:0}),wi=Rt(Xd),eh=q({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),th=Rt(eh),nh=q({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rh=Rt(nh),sh=q({},pr,{data:0}),Rl=Rt(sh),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ah[e])?!!t[e]:!1}function ji(){return lh}var ch=q({},ts,{key:function(e){if(e.key){var t=oh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ih[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uh=Rt(ch),dh=q({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Rt(dh),hh=q({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),ph=Rt(hh),mh=q({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fh=Rt(mh),gh=q({},Xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=Rt(gh),yh=[9,13,27,32],Ci=y&&"CompositionEvent"in window,rs=null;y&&"documentMode"in document&&(rs=document.documentMode);var xh=y&&"TextEvent"in window&&!rs,Tl=y&&(!Ci||rs&&8<rs&&11>=rs),Il=" ",Pl=!1;function Fl(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function wh(e,t){switch(e){case"compositionend":return Ml(t);case"keypress":return t.which!==32?null:(Pl=!0,Il);case"textInput":return e=t.data,e===Il&&Pl?null:e;default:return null}}function jh(e,t){if(mr)return e==="compositionend"||!Ci&&Fl(e,t)?(e=El(),Gs=gi=bn=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tl&&t.locale!=="ko"?null:t.data;default:return null}}var Ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ch[e.type]:t==="textarea"}function Ol(e,t,r,s){Be(s),t=so(t,"onChange"),0<t.length&&(r=new vi("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ss=null,os=null;function kh(e){nc(e,0)}function eo(e){var t=xr(e);if(ae(t))return e}function Nh(e,t){if(e==="change")return t}var _l=!1;if(y){var ki;if(y){var Ni="oninput"in document;if(!Ni){var zl=document.createElement("div");zl.setAttribute("oninput","return;"),Ni=typeof zl.oninput=="function"}ki=Ni}else ki=!1;_l=ki&&(!document.documentMode||9<document.documentMode)}function Bl(){ss&&(ss.detachEvent("onpropertychange",ql),os=ss=null)}function ql(e){if(e.propertyName==="value"&&eo(os)){var t=[];Ol(t,os,e,Lt(e)),Os(kh,t)}}function Sh(e,t,r){e==="focusin"?(Bl(),ss=t,os=r,ss.attachEvent("onpropertychange",ql)):e==="focusout"&&Bl()}function bh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eo(os)}function Eh(e,t){if(e==="click")return eo(t)}function Ah(e,t){if(e==="input"||e==="change")return eo(t)}function Lh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Lh;function is(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var o=r[s];if(!x.call(t,o)||!Qt(e[o],t[o]))return!1}return!0}function Wl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hl(e,t){var r=Wl(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wl(r)}}function Vl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $l(){for(var e=window,t=Se();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Se(e.document)}return t}function Si(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rh(e){var t=$l(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Vl(r.ownerDocument.documentElement,r)){if(s!==null&&Si(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=Hl(r,l);var d=Hl(r,s);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dh=y&&"documentMode"in document&&11>=document.documentMode,fr=null,bi=null,as=null,Ei=!1;function Ql(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ei||fr==null||fr!==Se(s)||(s=fr,"selectionStart"in s&&Si(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),as&&is(as,s)||(as=s,s=so(bi,"onSelect"),0<s.length&&(t=new vi("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=fr)))}function to(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var gr={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},Ai={},Kl={};y&&(Kl=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function no(e){if(Ai[e])return Ai[e];if(!gr[e])return e;var t=gr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kl)return Ai[e]=t[r];return e}var Yl=no("animationend"),Gl=no("animationiteration"),Zl=no("animationstart"),Jl=no("transitionend"),Xl=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Xl.set(e,t),p(t,[e])}for(var Li=0;Li<ec.length;Li++){var Ri=ec[Li],Th=Ri.toLowerCase(),Ih=Ri[0].toUpperCase()+Ri.slice(1);En(Th,"on"+Ih)}En(Yl,"onAnimationEnd"),En(Gl,"onAnimationIteration"),En(Zl,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Jl,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ph=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function tc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Td(s,t,void 0,e),e.currentTarget=null}function nc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var d=s.length-1;0<=d;d--){var g=s[d],j=g.instance,P=g.currentTarget;if(g=g.listener,j!==l&&o.isPropagationStopped())break e;tc(o,g,P),l=j}else for(d=0;d<s.length;d++){if(g=s[d],j=g.instance,P=g.currentTarget,g=g.listener,j!==l&&o.isPropagationStopped())break e;tc(o,g,P),l=j}}}if(zs)throw e=ai,zs=!1,ai=null,e}function He(e,t){var r=t[Oi];r===void 0&&(r=t[Oi]=new Set);var s=e+"__bubble";r.has(s)||(rc(t,e,2,!1),r.add(s))}function Di(e,t,r){var s=0;t&&(s|=4),rc(r,e,s,t)}var ro="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[ro]){e[ro]=!0,u.forEach(function(r){r!=="selectionchange"&&(Ph.has(r)||Di(r,!1,e),Di(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ro]||(t[ro]=!0,Di("selectionchange",!1,t))}}function rc(e,t,r,s){switch(bl(t)){case 1:var o=Kd;break;case 4:o=Yd;break;default:o=mi}r=o.bind(null,t,r,e),o=void 0,!ii||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Ti(e,t,r,s,o){var l=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var g=s.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(d===4)for(d=s.return;d!==null;){var j=d.tag;if((j===3||j===4)&&(j=d.stateNode.containerInfo,j===o||j.nodeType===8&&j.parentNode===o))return;d=d.return}for(;g!==null;){if(d=Yn(g),d===null)return;if(j=d.tag,j===5||j===6){s=l=d;continue e}g=g.parentNode}}s=s.return}Os(function(){var P=l,G=Lt(r),J=[];e:{var Y=Xl.get(e);if(Y!==void 0){var oe=vi,ce=e;switch(e){case"keypress":if(Zs(r)===0)break e;case"keydown":case"keyup":oe=uh;break;case"focusin":ce="focus",oe=wi;break;case"focusout":ce="blur",oe=wi;break;case"beforeblur":case"afterblur":oe=wi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ph;break;case Yl:case Gl:case Zl:oe=th;break;case Jl:oe=fh;break;case"scroll":oe=Gd;break;case"wheel":oe=vh;break;case"copy":case"cut":case"paste":oe=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Dl}var he=(t&4)!==0,Xe=!he&&e==="scroll",A=he?Y!==null?Y+"Capture":null:Y;he=[];for(var S=P,D;S!==null;){D=S;var ee=D.stateNode;if(D.tag===5&&ee!==null&&(D=ee,A!==null&&(ee=Vr(S,A),ee!=null&&he.push(us(S,ee,D)))),Xe)break;S=S.return}0<he.length&&(Y=new oe(Y,ce,null,r,G),J.push({event:Y,listeners:he}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",Y&&r!==Qe&&(ce=r.relatedTarget||r.fromElement)&&(Yn(ce)||ce[un]))break e;if((oe||Y)&&(Y=G.window===G?G:(Y=G.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(ce=r.relatedTarget||r.toElement,oe=P,ce=ce?Yn(ce):null,ce!==null&&(Xe=Kn(ce),ce!==Xe||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=P),oe!==ce)){if(he=Ll,ee="onMouseLeave",A="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(he=Dl,ee="onPointerLeave",A="onPointerEnter",S="pointer"),Xe=oe==null?Y:xr(oe),D=ce==null?Y:xr(ce),Y=new he(ee,S+"leave",oe,r,G),Y.target=Xe,Y.relatedTarget=D,ee=null,Yn(G)===P&&(he=new he(A,S+"enter",ce,r,G),he.target=D,he.relatedTarget=Xe,ee=he),Xe=ee,oe&&ce)t:{for(he=oe,A=ce,S=0,D=he;D;D=vr(D))S++;for(D=0,ee=A;ee;ee=vr(ee))D++;for(;0<S-D;)he=vr(he),S--;for(;0<D-S;)A=vr(A),D--;for(;S--;){if(he===A||A!==null&&he===A.alternate)break t;he=vr(he),A=vr(A)}he=null}else he=null;oe!==null&&sc(J,Y,oe,he,!1),ce!==null&&Xe!==null&&sc(J,Xe,ce,he,!0)}}e:{if(Y=P?xr(P):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var me=Nh;else if(Ul(Y))if(_l)me=Ah;else{me=bh;var ge=Sh}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(me=Eh);if(me&&(me=me(e,P))){Ol(J,me,r,G);break e}ge&&ge(e,Y,P),e==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&Vn(Y,"number",Y.value)}switch(ge=P?xr(P):window,e){case"focusin":(Ul(ge)||ge.contentEditable==="true")&&(fr=ge,bi=P,as=null);break;case"focusout":as=bi=fr=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,Ql(J,r,G);break;case"selectionchange":if(Dh)break;case"keydown":case"keyup":Ql(J,r,G)}var ve;if(Ci)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else mr?Fl(e,r)&&(Ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(Tl&&r.locale!=="ko"&&(mr||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&mr&&(ve=El()):(bn=G,gi="value"in bn?bn.value:bn.textContent,mr=!0)),ge=so(P,Ne),0<ge.length&&(Ne=new Rl(Ne,e,null,r,G),J.push({event:Ne,listeners:ge}),ve?Ne.data=ve:(ve=Ml(r),ve!==null&&(Ne.data=ve)))),(ve=xh?wh(e,r):jh(e,r))&&(P=so(P,"onBeforeInput"),0<P.length&&(G=new Rl("onBeforeInput","beforeinput",null,r,G),J.push({event:G,listeners:P}),G.data=ve))}nc(J,t)})}function us(e,t,r){return{instance:e,listener:t,currentTarget:r}}function so(e,t){for(var r=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Vr(e,r),l!=null&&s.unshift(us(e,l,o)),l=Vr(e,t),l!=null&&s.push(us(e,l,o))),e=e.return}return s}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,r,s,o){for(var l=t._reactName,d=[];r!==null&&r!==s;){var g=r,j=g.alternate,P=g.stateNode;if(j!==null&&j===s)break;g.tag===5&&P!==null&&(g=P,o?(j=Vr(r,l),j!=null&&d.unshift(us(r,j,g))):o||(j=Vr(r,l),j!=null&&d.push(us(r,j,g)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var Fh=/\r\n?/g,Mh=/\u0000|\uFFFD/g;function oc(e){return(typeof e=="string"?e:""+e).replace(Fh,`
`).replace(Mh,"")}function oo(e,t,r){if(t=oc(t),oc(e)!==t&&r)throw Error(a(425))}function io(){}var Ii=null,Pi=null;function Fi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mi=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,ic=typeof Promise=="function"?Promise:void 0,Oh=typeof queueMicrotask=="function"?queueMicrotask:typeof ic<"u"?function(e){return ic.resolve(null).then(e).catch(_h)}:Mi;function _h(e){setTimeout(function(){throw e})}function Ui(e,t){var r=t,s=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(s===0){e.removeChild(o),es(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=o}while(r);es(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),nn="__reactFiber$"+yr,ds="__reactProps$"+yr,un="__reactContainer$"+yr,Oi="__reactEvents$"+yr,zh="__reactListeners$"+yr,Bh="__reactHandles$"+yr;function Yn(e){var t=e[nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[un]||r[nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ac(e);e!==null;){if(r=e[nn])return r;e=ac(e)}return t}e=r,r=e.parentNode}return null}function hs(e){return e=e[nn]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function ao(e){return e[ds]||null}var _i=[],wr=-1;function Ln(e){return{current:e}}function Ve(e){0>wr||(e.current=_i[wr],_i[wr]=null,wr--)}function We(e,t){wr++,_i[wr]=e.current,e.current=t}var Rn={},mt=Ln(Rn),Ct=Ln(!1),Gn=Rn;function jr(e,t){var r=e.type.contextTypes;if(!r)return Rn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in r)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function kt(e){return e=e.childContextTypes,e!=null}function lo(){Ve(Ct),Ve(mt)}function lc(e,t,r){if(mt.current!==Rn)throw Error(a(168));We(mt,t),We(Ct,r)}function cc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(a(108,be(e)||"Unknown",o));return q({},r,s)}function co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,Gn=mt.current,We(mt,e),We(Ct,Ct.current),!0}function uc(e,t,r){var s=e.stateNode;if(!s)throw Error(a(169));r?(e=cc(e,t,Gn),s.__reactInternalMemoizedMergedChildContext=e,Ve(Ct),Ve(mt),We(mt,e)):Ve(Ct),We(Ct,r)}var dn=null,uo=!1,zi=!1;function dc(e){dn===null?dn=[e]:dn.push(e)}function qh(e){uo=!0,dc(e)}function Dn(){if(!zi&&dn!==null){zi=!0;var e=0,t=qe;try{var r=dn;for(qe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}dn=null,uo=!1}catch(o){throw dn!==null&&(dn=dn.slice(e+1)),pl(li,Dn),o}finally{qe=t,zi=!1}}return null}var Cr=[],kr=0,ho=null,po=0,Ut=[],Ot=0,Zn=null,hn=1,pn="";function Jn(e,t){Cr[kr++]=po,Cr[kr++]=ho,ho=e,po=t}function hc(e,t,r){Ut[Ot++]=hn,Ut[Ot++]=pn,Ut[Ot++]=Zn,Zn=e;var s=hn;e=pn;var o=32-$t(s)-1;s&=~(1<<o),r+=1;var l=32-$t(t)+o;if(30<l){var d=o-o%5;l=(s&(1<<d)-1).toString(32),s>>=d,o-=d,hn=1<<32-$t(t)+o|r<<o|s,pn=l+e}else hn=1<<l|r<<o|s,pn=e}function Bi(e){e.return!==null&&(Jn(e,1),hc(e,1,0))}function qi(e){for(;e===ho;)ho=Cr[--kr],Cr[kr]=null,po=Cr[--kr],Cr[kr]=null;for(;e===Zn;)Zn=Ut[--Ot],Ut[Ot]=null,pn=Ut[--Ot],Ut[Ot]=null,hn=Ut[--Ot],Ut[Ot]=null}var Dt=null,Tt=null,$e=!1,Kt=null;function pc(e,t){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Tt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zn!==null?{id:hn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Tt=null,!0):!1;default:return!1}}function Wi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hi(e){if($e){var t=Tt;if(t){var r=t;if(!mc(e,t)){if(Wi(e))throw Error(a(418));t=An(r.nextSibling);var s=Dt;t&&mc(e,t)?pc(s,r):(e.flags=e.flags&-4097|2,$e=!1,Dt=e)}}else{if(Wi(e))throw Error(a(418));e.flags=e.flags&-4097|2,$e=!1,Dt=e}}}function fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function mo(e){if(e!==Dt)return!1;if(!$e)return fc(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fi(e.type,e.memoizedProps)),t&&(t=Tt)){if(Wi(e))throw gc(),Error(a(418));for(;t;)pc(e,t),t=An(t.nextSibling)}if(fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tt=An(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Dt?An(e.stateNode.nextSibling):null;return!0}function gc(){for(var e=Tt;e;)e=An(e.nextSibling)}function Nr(){Tt=Dt=null,$e=!1}function Vi(e){Kt===null?Kt=[e]:Kt.push(e)}var Wh=z.ReactCurrentBatchConfig;function ps(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(a(309));var s=r.stateNode}if(!s)throw Error(a(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var g=o.refs;d===null?delete g[l]:g[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function fo(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function yc(e){function t(A,S){if(e){var D=A.deletions;D===null?(A.deletions=[S],A.flags|=16):D.push(S)}}function r(A,S){if(!e)return null;for(;S!==null;)t(A,S),S=S.sibling;return null}function s(A,S){for(A=new Map;S!==null;)S.key!==null?A.set(S.key,S):A.set(S.index,S),S=S.sibling;return A}function o(A,S){return A=_n(A,S),A.index=0,A.sibling=null,A}function l(A,S,D){return A.index=D,e?(D=A.alternate,D!==null?(D=D.index,D<S?(A.flags|=2,S):D):(A.flags|=2,S)):(A.flags|=1048576,S)}function d(A){return e&&A.alternate===null&&(A.flags|=2),A}function g(A,S,D,ee){return S===null||S.tag!==6?(S=Ma(D,A.mode,ee),S.return=A,S):(S=o(S,D),S.return=A,S)}function j(A,S,D,ee){var me=D.type;return me===pe?G(A,S,D.props.children,ee,D.key):S!==null&&(S.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&vc(me)===S.type)?(ee=o(S,D.props),ee.ref=ps(A,S,D),ee.return=A,ee):(ee=_o(D.type,D.key,D.props,null,A.mode,ee),ee.ref=ps(A,S,D),ee.return=A,ee)}function P(A,S,D,ee){return S===null||S.tag!==4||S.stateNode.containerInfo!==D.containerInfo||S.stateNode.implementation!==D.implementation?(S=Ua(D,A.mode,ee),S.return=A,S):(S=o(S,D.children||[]),S.return=A,S)}function G(A,S,D,ee,me){return S===null||S.tag!==7?(S=ir(D,A.mode,ee,me),S.return=A,S):(S=o(S,D),S.return=A,S)}function J(A,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ma(""+S,A.mode,D),S.return=A,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case re:return D=_o(S.type,S.key,S.props,null,A.mode,D),D.ref=ps(A,null,S),D.return=A,D;case X:return S=Ua(S,A.mode,D),S.return=A,S;case b:var ee=S._init;return J(A,ee(S._payload),D)}if(jn(S)||U(S))return S=ir(S,A.mode,D,null),S.return=A,S;fo(A,S)}return null}function Y(A,S,D,ee){var me=S!==null?S.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return me!==null?null:g(A,S,""+D,ee);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case re:return D.key===me?j(A,S,D,ee):null;case X:return D.key===me?P(A,S,D,ee):null;case b:return me=D._init,Y(A,S,me(D._payload),ee)}if(jn(D)||U(D))return me!==null?null:G(A,S,D,ee,null);fo(A,D)}return null}function oe(A,S,D,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return A=A.get(D)||null,g(S,A,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case re:return A=A.get(ee.key===null?D:ee.key)||null,j(S,A,ee,me);case X:return A=A.get(ee.key===null?D:ee.key)||null,P(S,A,ee,me);case b:var ge=ee._init;return oe(A,S,D,ge(ee._payload),me)}if(jn(ee)||U(ee))return A=A.get(D)||null,G(S,A,ee,me,null);fo(S,ee)}return null}function ce(A,S,D,ee){for(var me=null,ge=null,ve=S,Ne=S=0,ct=null;ve!==null&&Ne<D.length;Ne++){ve.index>Ne?(ct=ve,ve=null):ct=ve.sibling;var _e=Y(A,ve,D[Ne],ee);if(_e===null){ve===null&&(ve=ct);break}e&&ve&&_e.alternate===null&&t(A,ve),S=l(_e,S,Ne),ge===null?me=_e:ge.sibling=_e,ge=_e,ve=ct}if(Ne===D.length)return r(A,ve),$e&&Jn(A,Ne),me;if(ve===null){for(;Ne<D.length;Ne++)ve=J(A,D[Ne],ee),ve!==null&&(S=l(ve,S,Ne),ge===null?me=ve:ge.sibling=ve,ge=ve);return $e&&Jn(A,Ne),me}for(ve=s(A,ve);Ne<D.length;Ne++)ct=oe(ve,A,Ne,D[Ne],ee),ct!==null&&(e&&ct.alternate!==null&&ve.delete(ct.key===null?Ne:ct.key),S=l(ct,S,Ne),ge===null?me=ct:ge.sibling=ct,ge=ct);return e&&ve.forEach(function(zn){return t(A,zn)}),$e&&Jn(A,Ne),me}function he(A,S,D,ee){var me=U(D);if(typeof me!="function")throw Error(a(150));if(D=me.call(D),D==null)throw Error(a(151));for(var ge=me=null,ve=S,Ne=S=0,ct=null,_e=D.next();ve!==null&&!_e.done;Ne++,_e=D.next()){ve.index>Ne?(ct=ve,ve=null):ct=ve.sibling;var zn=Y(A,ve,_e.value,ee);if(zn===null){ve===null&&(ve=ct);break}e&&ve&&zn.alternate===null&&t(A,ve),S=l(zn,S,Ne),ge===null?me=zn:ge.sibling=zn,ge=zn,ve=ct}if(_e.done)return r(A,ve),$e&&Jn(A,Ne),me;if(ve===null){for(;!_e.done;Ne++,_e=D.next())_e=J(A,_e.value,ee),_e!==null&&(S=l(_e,S,Ne),ge===null?me=_e:ge.sibling=_e,ge=_e);return $e&&Jn(A,Ne),me}for(ve=s(A,ve);!_e.done;Ne++,_e=D.next())_e=oe(ve,A,Ne,_e.value,ee),_e!==null&&(e&&_e.alternate!==null&&ve.delete(_e.key===null?Ne:_e.key),S=l(_e,S,Ne),ge===null?me=_e:ge.sibling=_e,ge=_e);return e&&ve.forEach(function(Cp){return t(A,Cp)}),$e&&Jn(A,Ne),me}function Xe(A,S,D,ee){if(typeof D=="object"&&D!==null&&D.type===pe&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case re:e:{for(var me=D.key,ge=S;ge!==null;){if(ge.key===me){if(me=D.type,me===pe){if(ge.tag===7){r(A,ge.sibling),S=o(ge,D.props.children),S.return=A,A=S;break e}}else if(ge.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&vc(me)===ge.type){r(A,ge.sibling),S=o(ge,D.props),S.ref=ps(A,ge,D),S.return=A,A=S;break e}r(A,ge);break}else t(A,ge);ge=ge.sibling}D.type===pe?(S=ir(D.props.children,A.mode,ee,D.key),S.return=A,A=S):(ee=_o(D.type,D.key,D.props,null,A.mode,ee),ee.ref=ps(A,S,D),ee.return=A,A=ee)}return d(A);case X:e:{for(ge=D.key;S!==null;){if(S.key===ge)if(S.tag===4&&S.stateNode.containerInfo===D.containerInfo&&S.stateNode.implementation===D.implementation){r(A,S.sibling),S=o(S,D.children||[]),S.return=A,A=S;break e}else{r(A,S);break}else t(A,S);S=S.sibling}S=Ua(D,A.mode,ee),S.return=A,A=S}return d(A);case b:return ge=D._init,Xe(A,S,ge(D._payload),ee)}if(jn(D))return ce(A,S,D,ee);if(U(D))return he(A,S,D,ee);fo(A,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,S!==null&&S.tag===6?(r(A,S.sibling),S=o(S,D),S.return=A,A=S):(r(A,S),S=Ma(D,A.mode,ee),S.return=A,A=S),d(A)):r(A,S)}return Xe}var Sr=yc(!0),xc=yc(!1),go=Ln(null),vo=null,br=null,$i=null;function Qi(){$i=br=vo=null}function Ki(e){var t=go.current;Ve(go),e._currentValue=t}function Yi(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Er(e,t){vo=e,$i=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Nt=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if($i!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(vo===null)throw Error(a(308));br=e,vo.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var Xn=null;function Gi(e){Xn===null?Xn=[e]:Xn.push(e)}function wc(e,t,r,s){var o=t.interleaved;return o===null?(r.next=r,Gi(t)):(r.next=o.next,o.next=r),t.interleaved=r,mn(e,s)}function mn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tn=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ue&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,mn(e,r)}return o=s.interleaved,o===null?(t.next=t,Gi(s)):(t.next=o.next,o.next=t),s.interleaved=t,mn(e,r)}function yo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,di(e,r)}}function Cc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var o=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?o=l=d:l=l.next=d,r=r.next}while(r!==null);l===null?o=l=t:l=l.next=t}else o=l=t;r={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xo(e,t,r,s){var o=e.updateQueue;Tn=!1;var l=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var j=g,P=j.next;j.next=null,d===null?l=P:d.next=P,d=j;var G=e.alternate;G!==null&&(G=G.updateQueue,g=G.lastBaseUpdate,g!==d&&(g===null?G.firstBaseUpdate=P:g.next=P,G.lastBaseUpdate=j))}if(l!==null){var J=o.baseState;d=0,G=P=j=null,g=l;do{var Y=g.lane,oe=g.eventTime;if((s&Y)===Y){G!==null&&(G=G.next={eventTime:oe,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var ce=e,he=g;switch(Y=t,oe=r,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){J=ce.call(oe,J,Y);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,Y=typeof ce=="function"?ce.call(oe,J,Y):ce,Y==null)break e;J=q({},J,Y);break e;case 2:Tn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,Y=o.effects,Y===null?o.effects=[g]:Y.push(g))}else oe={eventTime:oe,lane:Y,tag:g.tag,payload:g.payload,callback:g.callback,next:null},G===null?(P=G=oe,j=J):G=G.next=oe,d|=Y;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;Y=g,g=Y.next,Y.next=null,o.lastBaseUpdate=Y,o.shared.pending=null}}while(!0);if(G===null&&(j=J),o.baseState=j,o.firstBaseUpdate=P,o.lastBaseUpdate=G,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);nr|=d,e.lanes=d,e.memoizedState=J}}function kc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=r,typeof o!="function")throw Error(a(191,o));o.call(s)}}}var ms={},rn=Ln(ms),fs=Ln(ms),gs=Ln(ms);function er(e){if(e===ms)throw Error(a(174));return e}function Ji(e,t){switch(We(gs,t),We(fs,e),We(rn,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wr(t,e)}Ve(rn),We(rn,t)}function Ar(){Ve(rn),Ve(fs),Ve(gs)}function Nc(e){er(gs.current);var t=er(rn.current),r=Wr(t,e.type);t!==r&&(We(fs,e),We(rn,r))}function Xi(e){fs.current===e&&(Ve(rn),Ve(fs))}var Ke=Ln(0);function wo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function ta(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var jo=z.ReactCurrentDispatcher,na=z.ReactCurrentBatchConfig,tr=0,Ye=null,st=null,at=null,Co=!1,vs=!1,ys=0,Hh=0;function ft(){throw Error(a(321))}function ra(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qt(e[r],t[r]))return!1;return!0}function sa(e,t,r,s,o,l){if(tr=l,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?Kh:Yh,e=r(s,o),vs){l=0;do{if(vs=!1,ys=0,25<=l)throw Error(a(301));l+=1,at=st=null,t.updateQueue=null,jo.current=Gh,e=r(s,o)}while(vs)}if(jo.current=So,t=st!==null&&st.next!==null,tr=0,at=st=Ye=null,Co=!1,t)throw Error(a(300));return e}function oa(){var e=ys!==0;return ys=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ye.memoizedState=at=e:at=at.next=e,at}function zt(){if(st===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=at===null?Ye.memoizedState:at.next;if(t!==null)at=t,st=e;else{if(e===null)throw Error(a(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},at===null?Ye.memoizedState=at=e:at=at.next=e}return at}function xs(e,t){return typeof t=="function"?t(e):t}function ia(e){var t=zt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var s=st,o=s.baseQueue,l=r.pending;if(l!==null){if(o!==null){var d=o.next;o.next=l.next,l.next=d}s.baseQueue=o=l,r.pending=null}if(o!==null){l=o.next,s=s.baseState;var g=d=null,j=null,P=l;do{var G=P.lane;if((tr&G)===G)j!==null&&(j=j.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var J={lane:G,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};j===null?(g=j=J,d=s):j=j.next=J,Ye.lanes|=G,nr|=G}P=P.next}while(P!==null&&P!==l);j===null?d=s:j.next=g,Qt(s,t.memoizedState)||(Nt=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=j,r.lastRenderedState=s}if(e=r.interleaved,e!==null){o=e;do l=o.lane,Ye.lanes|=l,nr|=l,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function aa(e){var t=zt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var s=r.dispatch,o=r.pending,l=t.memoizedState;if(o!==null){r.pending=null;var d=o=o.next;do l=e(l,d.action),d=d.next;while(d!==o);Qt(l,t.memoizedState)||(Nt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function Sc(){}function bc(e,t){var r=Ye,s=zt(),o=t(),l=!Qt(s.memoizedState,o);if(l&&(s.memoizedState=o,Nt=!0),s=s.queue,la(Lc.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,ws(9,Ac.bind(null,r,s,o,t),void 0,null),lt===null)throw Error(a(349));(tr&30)!==0||Ec(r,t,o)}return o}function Ec(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ac(e,t,r,s){t.value=r,t.getSnapshot=s,Rc(t)&&Dc(e)}function Lc(e,t,r){return r(function(){Rc(t)&&Dc(e)})}function Rc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qt(e,r)}catch{return!0}}function Dc(e){var t=mn(e,1);t!==null&&Jt(t,e,1,-1)}function Tc(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qh.bind(null,Ye,e),[t.memoizedState,e]}function ws(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Ic(){return zt().memoizedState}function ko(e,t,r,s){var o=sn();Ye.flags|=e,o.memoizedState=ws(1|t,r,void 0,s===void 0?null:s)}function No(e,t,r,s){var o=zt();s=s===void 0?null:s;var l=void 0;if(st!==null){var d=st.memoizedState;if(l=d.destroy,s!==null&&ra(s,d.deps)){o.memoizedState=ws(t,r,l,s);return}}Ye.flags|=e,o.memoizedState=ws(1|t,r,l,s)}function Pc(e,t){return ko(8390656,8,e,t)}function la(e,t){return No(2048,8,e,t)}function Fc(e,t){return No(4,2,e,t)}function Mc(e,t){return No(4,4,e,t)}function Uc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oc(e,t,r){return r=r!=null?r.concat([e]):null,No(4,4,Uc.bind(null,t,e),r)}function ca(){}function _c(e,t){var r=zt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ra(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function zc(e,t){var r=zt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ra(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Bc(e,t,r){return(tr&21)===0?(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=r):(Qt(r,t)||(r=vl(),Ye.lanes|=r,nr|=r,e.baseState=!0),t)}function Vh(e,t){var r=qe;qe=r!==0&&4>r?r:4,e(!0);var s=na.transition;na.transition={};try{e(!1),t()}finally{qe=r,na.transition=s}}function qc(){return zt().memoizedState}function $h(e,t,r){var s=Un(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Wc(e))Hc(t,r);else if(r=wc(e,t,r,s),r!==null){var o=xt();Jt(r,e,s,o),Vc(r,t,s)}}function Qh(e,t,r){var s=Un(e),o={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wc(e))Hc(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,g=l(d,r);if(o.hasEagerState=!0,o.eagerState=g,Qt(g,d)){var j=t.interleaved;j===null?(o.next=o,Gi(t)):(o.next=j.next,j.next=o),t.interleaved=o;return}}catch{}finally{}r=wc(e,t,o,s),r!==null&&(o=xt(),Jt(r,e,s,o),Vc(r,t,s))}}function Wc(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Hc(e,t){vs=Co=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Vc(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,di(e,r)}}var So={readContext:_t,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Kh={readContext:_t,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Pc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ko(4194308,4,Uc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var r=sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=sn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$h.bind(null,Ye,e),[s.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:ca,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=Vh.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ye,o=sn();if($e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=t(),lt===null)throw Error(a(349));(tr&30)!==0||Ec(s,t,r)}o.memoizedState=r;var l={value:r,getSnapshot:t};return o.queue=l,Pc(Lc.bind(null,s,l,e),[e]),s.flags|=2048,ws(9,Ac.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=sn(),t=lt.identifierPrefix;if($e){var r=pn,s=hn;r=(s&~(1<<32-$t(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ys++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yh={readContext:_t,useCallback:_c,useContext:_t,useEffect:la,useImperativeHandle:Oc,useInsertionEffect:Fc,useLayoutEffect:Mc,useMemo:zc,useReducer:ia,useRef:Ic,useState:function(){return ia(xs)},useDebugValue:ca,useDeferredValue:function(e){var t=zt();return Bc(t,st.memoizedState,e)},useTransition:function(){var e=ia(xs)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:bc,useId:qc,unstable_isNewReconciler:!1},Gh={readContext:_t,useCallback:_c,useContext:_t,useEffect:la,useImperativeHandle:Oc,useInsertionEffect:Fc,useLayoutEffect:Mc,useMemo:zc,useReducer:aa,useRef:Ic,useState:function(){return aa(xs)},useDebugValue:ca,useDeferredValue:function(e){var t=zt();return st===null?t.memoizedState=e:Bc(t,st.memoizedState,e)},useTransition:function(){var e=aa(xs)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:bc,useId:qc,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ua(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bo={isMounted:function(e){return(e=e._reactInternals)?Kn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=xt(),o=Un(e),l=fn(s,o);l.payload=t,r!=null&&(l.callback=r),t=In(e,l,o),t!==null&&(Jt(t,e,o,s),yo(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=xt(),o=Un(e),l=fn(s,o);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=In(e,l,o),t!==null&&(Jt(t,e,o,s),yo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xt(),s=Un(e),o=fn(r,s);o.tag=2,t!=null&&(o.callback=t),t=In(e,o,s),t!==null&&(Jt(t,e,s,r),yo(t,e,s))}};function $c(e,t,r,s,o,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,d):t.prototype&&t.prototype.isPureReactComponent?!is(r,s)||!is(o,l):!0}function Qc(e,t,r){var s=!1,o=Rn,l=t.contextType;return typeof l=="object"&&l!==null?l=_t(l):(o=kt(t)?Gn:mt.current,s=t.contextTypes,l=(s=s!=null)?jr(e,o):Rn),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Kc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function da(e,t,r,s){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Zi(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=_t(l):(l=kt(t)?Gn:mt.current,o.context=jr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ua(e,t,l,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&bo.enqueueReplaceState(o,o.state,null),xo(e,r,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Lr(e,t){try{var r="",s=t;do r+=ne(s),s=s.return;while(s);var o=r}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function ha(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zh=typeof WeakMap=="function"?WeakMap:Map;function Yc(e,t,r){r=fn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Io||(Io=!0,Aa=s),pa(e,t)},r}function Gc(e,t,r){r=fn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;r.payload=function(){return s(o)},r.callback=function(){pa(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){pa(e,t),typeof s!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function Zc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Zh;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(r)||(o.add(r),e=dp.bind(null,e,t,r),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,r,s,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fn(-1,1),t.tag=2,In(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Jh=z.ReactCurrentOwner,Nt=!1;function yt(e,t,r,s){t.child=e===null?xc(t,null,r,s):Sr(t,e.child,r,s)}function eu(e,t,r,s,o){r=r.render;var l=t.ref;return Er(t,o),s=sa(e,t,r,s,l,o),r=oa(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,gn(e,t,o)):($e&&r&&Bi(t),t.flags|=1,yt(e,t,s,o),t.child)}function tu(e,t,r,s,o){if(e===null){var l=r.type;return typeof l=="function"&&!Fa(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,nu(e,t,l,s,o)):(e=_o(r.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&o)===0){var d=l.memoizedProps;if(r=r.compare,r=r!==null?r:is,r(d,s)&&e.ref===t.ref)return gn(e,t,o)}return t.flags|=1,e=_n(l,s),e.ref=t.ref,e.return=t,t.child=e}function nu(e,t,r,s,o){if(e!==null){var l=e.memoizedProps;if(is(l,s)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=s=l,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Nt=!0);else return t.lanes=e.lanes,gn(e,t,o)}return ma(e,t,r,s,o)}function ru(e,t,r){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Dr,It),It|=r;else{if((r&1073741824)===0)return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Dr,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,We(Dr,It),It|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,We(Dr,It),It|=s;return yt(e,t,o,r),t.child}function su(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ma(e,t,r,s,o){var l=kt(r)?Gn:mt.current;return l=jr(t,l),Er(t,o),r=sa(e,t,r,s,l,o),s=oa(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,gn(e,t,o)):($e&&s&&Bi(t),t.flags|=1,yt(e,t,r,o),t.child)}function ou(e,t,r,s,o){if(kt(r)){var l=!0;co(t)}else l=!1;if(Er(t,o),t.stateNode===null)Ao(e,t),Qc(t,r,s),da(t,r,s,o),s=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var j=d.context,P=r.contextType;typeof P=="object"&&P!==null?P=_t(P):(P=kt(r)?Gn:mt.current,P=jr(t,P));var G=r.getDerivedStateFromProps,J=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function";J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==s||j!==P)&&Kc(t,d,s,P),Tn=!1;var Y=t.memoizedState;d.state=Y,xo(t,s,d,o),j=t.memoizedState,g!==s||Y!==j||Ct.current||Tn?(typeof G=="function"&&(ua(t,r,G,s),j=t.memoizedState),(g=Tn||$c(t,r,g,s,Y,j,P))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=j),d.props=s,d.state=j,d.context=P,s=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,jc(e,t),g=t.memoizedProps,P=t.type===t.elementType?g:Yt(t.type,g),d.props=P,J=t.pendingProps,Y=d.context,j=r.contextType,typeof j=="object"&&j!==null?j=_t(j):(j=kt(r)?Gn:mt.current,j=jr(t,j));var oe=r.getDerivedStateFromProps;(G=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==J||Y!==j)&&Kc(t,d,s,j),Tn=!1,Y=t.memoizedState,d.state=Y,xo(t,s,d,o);var ce=t.memoizedState;g!==J||Y!==ce||Ct.current||Tn?(typeof oe=="function"&&(ua(t,r,oe,s),ce=t.memoizedState),(P=Tn||$c(t,r,P,s,Y,ce,j)||!1)?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,ce,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,ce,j)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ce),d.props=s,d.state=ce,d.context=j,s=P):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),s=!1)}return fa(e,t,r,s,l,o)}function fa(e,t,r,s,o,l){su(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return o&&uc(t,r,!1),gn(e,t,l);s=t.stateNode,Jh.current=t;var g=d&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=Sr(t,e.child,null,l),t.child=Sr(t,null,g,l)):yt(e,t,g,l),t.memoizedState=s.state,o&&uc(t,r,!0),t.child}function iu(e){var t=e.stateNode;t.pendingContext?lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lc(e,t.context,!1),Ji(e,t.containerInfo)}function au(e,t,r,s,o){return Nr(),Vi(o),t.flags|=256,yt(e,t,r,s),t.child}var ga={dehydrated:null,treeContext:null,retryLane:0};function va(e){return{baseLanes:e,cachePool:null,transitions:null}}function lu(e,t,r){var s=t.pendingProps,o=Ke.current,l=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),We(Ke,o&1),e===null)return Hi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=s.children,e=s.fallback,l?(s=t.mode,l=t.child,d={mode:"hidden",children:d},(s&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=d):l=zo(d,s,0,null),e=ir(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=va(r),t.memoizedState=ga,e):ya(t,d));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return Xh(e,t,d,s,g,o,r);if(l){l=s.fallback,d=t.mode,o=e.child,g=o.sibling;var j={mode:"hidden",children:s.children};return(d&1)===0&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=j,t.deletions=null):(s=_n(o,j),s.subtreeFlags=o.subtreeFlags&14680064),g!==null?l=_n(g,l):(l=ir(l,d,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,d=e.child.memoizedState,d=d===null?va(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~r,t.memoizedState=ga,s}return l=e.child,e=l.sibling,s=_n(l,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ya(e,t){return t=zo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eo(e,t,r,s){return s!==null&&Vi(s),Sr(t,e.child,null,r),e=ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xh(e,t,r,s,o,l,d){if(r)return t.flags&256?(t.flags&=-257,s=ha(Error(a(422))),Eo(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=zo({mode:"visible",children:s.children},o,0,null),l=ir(l,o,d,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,(t.mode&1)!==0&&Sr(t,e.child,null,d),t.child.memoizedState=va(d),t.memoizedState=ga,l);if((t.mode&1)===0)return Eo(e,t,d,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var g=s.dgst;return s=g,l=Error(a(419)),s=ha(l,s,void 0),Eo(e,t,d,s)}if(g=(d&e.childLanes)!==0,Nt||g){if(s=lt,s!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(s.suspendedLanes|d))!==0?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,mn(e,o),Jt(s,e,o,-1))}return Pa(),s=ha(Error(a(421))),Eo(e,t,d,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=hp.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Tt=An(o.nextSibling),Dt=t,$e=!0,Kt=null,e!==null&&(Ut[Ot++]=hn,Ut[Ot++]=pn,Ut[Ot++]=Zn,hn=e.id,pn=e.overflow,Zn=t),t=ya(t,s.children),t.flags|=4096,t)}function cu(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yi(e.return,t,r)}function xa(e,t,r,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=o)}function uu(e,t,r){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(yt(e,t,s.children,r),s=Ke.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cu(e,r,t);else if(e.tag===19)cu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(We(Ke,s),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&wo(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),xa(t,!1,o,r,l);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&wo(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}xa(t,!0,r,null,l);break;case"together":xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,r=_n(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_n(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ep(e,t,r){switch(t.tag){case 3:iu(t),Nr();break;case 5:Nc(t);break;case 1:kt(t.type)&&co(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;We(go,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(We(Ke,Ke.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?lu(e,t,r):(We(Ke,Ke.current&1),e=gn(e,t,r),e!==null?e.sibling:null);We(Ke,Ke.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return uu(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),We(Ke,Ke.current),s)break;return null;case 22:case 23:return t.lanes=0,ru(e,t,r)}return gn(e,t,r)}var du,wa,hu,pu;du=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},wa=function(){},hu=function(e,t,r,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,er(rn.current);var l=null;switch(r){case"input":o=nt(e,o),s=nt(e,s),l=[];break;case"select":o=q({},o,{value:void 0}),s=q({},s,{value:void 0}),l=[];break;case"textarea":o=ur(e,o),s=ur(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=io)}Ae(r,s);var d;r=null;for(P in o)if(!s.hasOwnProperty(P)&&o.hasOwnProperty(P)&&o[P]!=null)if(P==="style"){var g=o[P];for(d in g)g.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(h.hasOwnProperty(P)?l||(l=[]):(l=l||[]).push(P,null));for(P in s){var j=s[P];if(g=o?.[P],s.hasOwnProperty(P)&&j!==g&&(j!=null||g!=null))if(P==="style")if(g){for(d in g)!g.hasOwnProperty(d)||j&&j.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in j)j.hasOwnProperty(d)&&g[d]!==j[d]&&(r||(r={}),r[d]=j[d])}else r||(l||(l=[]),l.push(P,r)),r=j;else P==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,g=g?g.__html:void 0,j!=null&&g!==j&&(l=l||[]).push(P,j)):P==="children"?typeof j!="string"&&typeof j!="number"||(l=l||[]).push(P,""+j):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(h.hasOwnProperty(P)?(j!=null&&P==="onScroll"&&He("scroll",e),l||g===j||(l=[])):(l=l||[]).push(P,j))}r&&(l=l||[]).push("style",r);var P=l;(t.updateQueue=P)&&(t.flags|=4)}},pu=function(e,t,r,s){r!==s&&(t.flags|=4)};function js(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function tp(e,t,r){var s=t.pendingProps;switch(qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return kt(t.type)&&lo(),gt(t),null;case 3:return s=t.stateNode,Ar(),Ve(Ct),Ve(mt),ta(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kt!==null&&(Da(Kt),Kt=null))),wa(e,t),gt(t),null;case 5:Xi(t);var o=er(gs.current);if(r=t.type,e!==null&&t.stateNode!=null)hu(e,t,r,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(a(166));return gt(t),null}if(e=er(rn.current),mo(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[nn]=t,s[ds]=l,e=(t.mode&1)!==0,r){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(o=0;o<ls.length;o++)He(ls[o],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":Ze(s,l),He("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},He("invalid",s);break;case"textarea":qr(s,l),He("invalid",s)}Ae(r,l),o=null;for(var d in l)if(l.hasOwnProperty(d)){var g=l[d];d==="children"?typeof g=="string"?s.textContent!==g&&(l.suppressHydrationWarning!==!0&&oo(s.textContent,g,e),o=["children",g]):typeof g=="number"&&s.textContent!==""+g&&(l.suppressHydrationWarning!==!0&&oo(s.textContent,g,e),o=["children",""+g]):h.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&He("scroll",s)}switch(r){case"input":Q(s),Ft(s,l,!0);break;case"textarea":Q(s),ln(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=io)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ms(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(r,{is:s.is}):(e=d.createElement(r),r==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,r),e[nn]=t,e[ds]=s,du(e,t,!1,!1),t.stateNode=e;e:{switch(d=Te(r,s),r){case"dialog":He("cancel",e),He("close",e),o=s;break;case"iframe":case"object":case"embed":He("load",e),o=s;break;case"video":case"audio":for(o=0;o<ls.length;o++)He(ls[o],e);o=s;break;case"source":He("error",e),o=s;break;case"img":case"image":case"link":He("error",e),He("load",e),o=s;break;case"details":He("toggle",e),o=s;break;case"input":Ze(e,s),o=nt(e,s),He("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=q({},s,{value:void 0}),He("invalid",e);break;case"textarea":qr(e,s),o=ur(e,s),He("invalid",e);break;default:o=s}Ae(r,o),g=o;for(l in g)if(g.hasOwnProperty(l)){var j=g[l];l==="style"?Z(e,j):l==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Hr(e,j)):l==="children"?typeof j=="string"?(r!=="textarea"||j!=="")&&$n(e,j):typeof j=="number"&&$n(e,""+j):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(h.hasOwnProperty(l)?j!=null&&l==="onScroll"&&He("scroll",e):j!=null&&L(e,l,j,d))}switch(r){case"input":Q(e),Ft(e,s,!1);break;case"textarea":Q(e),ln(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ee(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?At(e,!!s.multiple,l,!1):s.defaultValue!=null&&At(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=io)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)pu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(r=er(gs.current),er(rn.current),mo(t)){if(s=t.stateNode,r=t.memoizedProps,s[nn]=t,(l=s.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:oo(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oo(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[nn]=t,t.stateNode=s}return gt(t),null;case 13:if(Ve(Ke),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Tt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)gc(),Nr(),t.flags|=98560,l=!1;else if(l=mo(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(a(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));l[nn]=t}else Nr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),l=!1}else Kt!==null&&(Da(Kt),Kt=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ke.current&1)!==0?ot===0&&(ot=3):Pa())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Ar(),wa(e,t),e===null&&cs(t.stateNode.containerInfo),gt(t),null;case 10:return Ki(t.type._context),gt(t),null;case 17:return kt(t.type)&&lo(),gt(t),null;case 19:if(Ve(Ke),l=t.memoizedState,l===null)return gt(t),null;if(s=(t.flags&128)!==0,d=l.rendering,d===null)if(s)js(l,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=wo(e),d!==null){for(t.flags|=128,js(l,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(Ke,Ke.current&1|2),t.child}e=e.sibling}l.tail!==null&&Je()>Tr&&(t.flags|=128,s=!0,js(l,!1),t.lanes=4194304)}else{if(!s)if(e=wo(d),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),js(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!$e)return gt(t),null}else 2*Je()-l.renderingStartTime>Tr&&r!==1073741824&&(t.flags|=128,s=!0,js(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(r=l.last,r!==null?r.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,r=Ke.current,We(Ke,s?r&1|2:r&1),t):(gt(t),null);case 22:case 23:return Ia(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(It&1073741824)!==0&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function np(e,t){switch(qi(t),t.tag){case 1:return kt(t.type)&&lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),Ve(Ct),Ve(mt),ta(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Xi(t),null;case 13:if(Ve(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ke),null;case 4:return Ar(),null;case 10:return Ki(t.type._context),null;case 22:case 23:return Ia(),null;case 24:return null;default:return null}}var Lo=!1,vt=!1,rp=typeof WeakSet=="function"?WeakSet:Set,le=null;function Rr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ge(e,t,s)}else r.current=null}function ja(e,t,r){try{r()}catch(s){Ge(e,t,s)}}var mu=!1;function sp(e,t){if(Ii=Ks,e=$l(),Si(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var d=0,g=-1,j=-1,P=0,G=0,J=e,Y=null;t:for(;;){for(var oe;J!==r||o!==0&&J.nodeType!==3||(g=d+o),J!==l||s!==0&&J.nodeType!==3||(j=d+s),J.nodeType===3&&(d+=J.nodeValue.length),(oe=J.firstChild)!==null;)Y=J,J=oe;for(;;){if(J===e)break t;if(Y===r&&++P===o&&(g=d),Y===l&&++G===s&&(j=d),(oe=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=oe}r=g===-1||j===-1?null:{start:g,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pi={focusedElem:e,selectionRange:r},Ks=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var ce=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,Xe=ce.memoizedState,A=t.stateNode,S=A.getSnapshotBeforeUpdate(t.elementType===t.type?he:Yt(t.type,he),Xe);A.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ee){Ge(t,t.return,ee)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return ce=mu,mu=!1,ce}function Cs(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&ja(t,r,l)}o=o.next}while(o!==s)}}function Ro(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ca(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fu(e){var t=e.alternate;t!==null&&(e.alternate=null,fu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[ds],delete t[Oi],delete t[zh],delete t[Bh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gu(e){return e.tag===5||e.tag===3||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ka(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=io));else if(s!==4&&(e=e.child,e!==null))for(ka(e,t,r),e=e.sibling;e!==null;)ka(e,t,r),e=e.sibling}function Na(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Na(e,t,r),e=e.sibling;e!==null;)Na(e,t,r),e=e.sibling}var dt=null,Gt=!1;function Pn(e,t,r){for(r=r.child;r!==null;)yu(e,t,r),r=r.sibling}function yu(e,t,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(qs,r)}catch{}switch(r.tag){case 5:vt||Rr(r,t);case 6:var s=dt,o=Gt;dt=null,Pn(e,t,r),dt=s,Gt=o,dt!==null&&(Gt?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(Gt?(e=dt,r=r.stateNode,e.nodeType===8?Ui(e.parentNode,r):e.nodeType===1&&Ui(e,r),es(e)):Ui(dt,r.stateNode));break;case 4:s=dt,o=Gt,dt=r.stateNode.containerInfo,Gt=!0,Pn(e,t,r),dt=s,Gt=o;break;case 0:case 11:case 14:case 15:if(!vt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,d=l.destroy;l=l.tag,d!==void 0&&((l&2)!==0||(l&4)!==0)&&ja(r,t,d),o=o.next}while(o!==s)}Pn(e,t,r);break;case 1:if(!vt&&(Rr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(g){Ge(r,t,g)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(vt=(s=vt)||r.memoizedState!==null,Pn(e,t,r),vt=s):Pn(e,t,r);break;default:Pn(e,t,r)}}function xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rp),t.forEach(function(s){var o=pp.bind(null,e,s);r.has(s)||(r.add(s),s.then(o,o))})}}function Zt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];try{var l=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:dt=g.stateNode,Gt=!1;break e;case 3:dt=g.stateNode.containerInfo,Gt=!0;break e;case 4:dt=g.stateNode.containerInfo,Gt=!0;break e}g=g.return}if(dt===null)throw Error(a(160));yu(l,d,o),dt=null,Gt=!1;var j=o.alternate;j!==null&&(j.return=null),o.return=null}catch(P){Ge(o,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wu(t,e),t=t.sibling}function wu(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),on(e),s&4){try{Cs(3,e,e.return),Ro(3,e)}catch(he){Ge(e,e.return,he)}try{Cs(5,e,e.return)}catch(he){Ge(e,e.return,he)}}break;case 1:Zt(t,e),on(e),s&512&&r!==null&&Rr(r,r.return);break;case 5:if(Zt(t,e),on(e),s&512&&r!==null&&Rr(r,r.return),e.flags&32){var o=e.stateNode;try{$n(o,"")}catch(he){Ge(e,e.return,he)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,d=r!==null?r.memoizedProps:l,g=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{g==="input"&&l.type==="radio"&&l.name!=null&&Re(o,l),Te(g,d);var P=Te(g,l);for(d=0;d<j.length;d+=2){var G=j[d],J=j[d+1];G==="style"?Z(o,J):G==="dangerouslySetInnerHTML"?Hr(o,J):G==="children"?$n(o,J):L(o,G,J,P)}switch(g){case"input":Oe(o,l);break;case"textarea":Fs(o,l);break;case"select":var Y=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var oe=l.value;oe!=null?At(o,!!l.multiple,oe,!1):Y!==!!l.multiple&&(l.defaultValue!=null?At(o,!!l.multiple,l.defaultValue,!0):At(o,!!l.multiple,l.multiple?[]:"",!1))}o[ds]=l}catch(he){Ge(e,e.return,he)}}break;case 6:if(Zt(t,e),on(e),s&4){if(e.stateNode===null)throw Error(a(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(he){Ge(e,e.return,he)}}break;case 3:if(Zt(t,e),on(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(he){Ge(e,e.return,he)}break;case 4:Zt(t,e),on(e);break;case 13:Zt(t,e),on(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Ea=Je())),s&4&&xu(e);break;case 22:if(G=r!==null&&r.memoizedState!==null,e.mode&1?(vt=(P=vt)||G,Zt(t,e),vt=P):Zt(t,e),on(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!G&&(e.mode&1)!==0)for(le=e,G=e.child;G!==null;){for(J=le=G;le!==null;){switch(Y=le,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:Cs(4,Y,Y.return);break;case 1:Rr(Y,Y.return);var ce=Y.stateNode;if(typeof ce.componentWillUnmount=="function"){s=Y,r=Y.return;try{t=s,ce.props=t.memoizedProps,ce.state=t.memoizedState,ce.componentWillUnmount()}catch(he){Ge(s,r,he)}}break;case 5:Rr(Y,Y.return);break;case 22:if(Y.memoizedState!==null){ku(J);continue}}oe!==null?(oe.return=Y,le=oe):ku(J)}G=G.sibling}e:for(G=null,J=e;;){if(J.tag===5){if(G===null){G=J;try{o=J.stateNode,P?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(g=J.stateNode,j=J.memoizedProps.style,d=j!=null&&j.hasOwnProperty("display")?j.display:null,g.style.display=Us("display",d))}catch(he){Ge(e,e.return,he)}}}else if(J.tag===6){if(G===null)try{J.stateNode.nodeValue=P?"":J.memoizedProps}catch(he){Ge(e,e.return,he)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===e)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===e)break e;for(;J.sibling===null;){if(J.return===null||J.return===e)break e;G===J&&(G=null),J=J.return}G===J&&(G=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Zt(t,e),on(e),s&4&&xu(e);break;case 21:break;default:Zt(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gu(r)){var s=r;break e}r=r.return}throw Error(a(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&($n(o,""),s.flags&=-33);var l=vu(e);Na(e,l,o);break;case 3:case 4:var d=s.stateNode.containerInfo,g=vu(e);ka(e,g,d);break;default:throw Error(a(161))}}catch(j){Ge(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function op(e,t,r){le=e,ju(e)}function ju(e,t,r){for(var s=(e.mode&1)!==0;le!==null;){var o=le,l=o.child;if(o.tag===22&&s){var d=o.memoizedState!==null||Lo;if(!d){var g=o.alternate,j=g!==null&&g.memoizedState!==null||vt;g=Lo;var P=vt;if(Lo=d,(vt=j)&&!P)for(le=o;le!==null;)d=le,j=d.child,d.tag===22&&d.memoizedState!==null?Nu(o):j!==null?(j.return=d,le=j):Nu(o);for(;l!==null;)le=l,ju(l),l=l.sibling;le=o,Lo=g,vt=P}Cu(e)}else(o.subtreeFlags&8772)!==0&&l!==null?(l.return=o,le=l):Cu(e)}}function Cu(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Ro(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!vt)if(r===null)s.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Yt(t.type,r.memoizedProps);s.componentDidUpdate(o,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&kc(t,l,s);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kc(t,d,r)}break;case 5:var g=t.stateNode;if(r===null&&t.flags&4){r=g;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&r.focus();break;case"img":j.src&&(r.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var G=P.memoizedState;if(G!==null){var J=G.dehydrated;J!==null&&es(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}vt||t.flags&512&&Ca(t)}catch(Y){Ge(t,t.return,Y)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function ku(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function Nu(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ro(4,t)}catch(j){Ge(t,r,j)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(j){Ge(t,o,j)}}var l=t.return;try{Ca(t)}catch(j){Ge(t,l,j)}break;case 5:var d=t.return;try{Ca(t)}catch(j){Ge(t,d,j)}}}catch(j){Ge(t,t.return,j)}if(t===e){le=null;break}var g=t.sibling;if(g!==null){g.return=t.return,le=g;break}le=t.return}}var ip=Math.ceil,Do=z.ReactCurrentDispatcher,Sa=z.ReactCurrentOwner,Bt=z.ReactCurrentBatchConfig,Ue=0,lt=null,tt=null,ht=0,It=0,Dr=Ln(0),ot=0,ks=null,nr=0,To=0,ba=0,Ns=null,St=null,Ea=0,Tr=1/0,vn=null,Io=!1,Aa=null,Fn=null,Po=!1,Mn=null,Fo=0,Ss=0,La=null,Mo=-1,Uo=0;function xt(){return(Ue&6)!==0?Je():Mo!==-1?Mo:Mo=Je()}function Un(e){return(e.mode&1)===0?1:(Ue&2)!==0&&ht!==0?ht&-ht:Wh.transition!==null?(Uo===0&&(Uo=vl()),Uo):(e=qe,e!==0||(e=window.event,e=e===void 0?16:bl(e.type)),e)}function Jt(e,t,r,s){if(50<Ss)throw Ss=0,La=null,Error(a(185));Yr(e,r,s),((Ue&2)===0||e!==lt)&&(e===lt&&((Ue&2)===0&&(To|=r),ot===4&&On(e,ht)),bt(e,s),r===1&&Ue===0&&(t.mode&1)===0&&(Tr=Je()+500,uo&&Dn()))}function bt(e,t){var r=e.callbackNode;Wd(e,t);var s=Vs(e,e===lt?ht:0);if(s===0)r!==null&&ml(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&ml(r),t===1)e.tag===0?qh(bu.bind(null,e)):dc(bu.bind(null,e)),Oh(function(){(Ue&6)===0&&Dn()}),r=null;else{switch(yl(s)){case 1:r=li;break;case 4:r=fl;break;case 16:r=Bs;break;case 536870912:r=gl;break;default:r=Bs}r=Pu(r,Su.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Su(e,t){if(Mo=-1,Uo=0,(Ue&6)!==0)throw Error(a(327));var r=e.callbackNode;if(Ir()&&e.callbackNode!==r)return null;var s=Vs(e,e===lt?ht:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Oo(e,s);else{t=s;var o=Ue;Ue|=2;var l=Au();(lt!==e||ht!==t)&&(vn=null,Tr=Je()+500,sr(e,t));do try{cp();break}catch(g){Eu(e,g)}while(!0);Qi(),Do.current=l,Ue=o,tt!==null?t=0:(lt=null,ht=0,t=ot)}if(t!==0){if(t===2&&(o=ci(e),o!==0&&(s=o,t=Ra(e,o))),t===1)throw r=ks,sr(e,0),On(e,s),bt(e,Je()),r;if(t===6)On(e,s);else{if(o=e.current.alternate,(s&30)===0&&!ap(o)&&(t=Oo(e,s),t===2&&(l=ci(e),l!==0&&(s=l,t=Ra(e,l))),t===1))throw r=ks,sr(e,0),On(e,s),bt(e,Je()),r;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:or(e,St,vn);break;case 3:if(On(e,s),(s&130023424)===s&&(t=Ea+500-Je(),10<t)){if(Vs(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){xt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Mi(or.bind(null,e,St,vn),t);break}or(e,St,vn);break;case 4:if(On(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var d=31-$t(s);l=1<<d,d=t[d],d>o&&(o=d),s&=~l}if(s=o,s=Je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ip(s/1960))-s,10<s){e.timeoutHandle=Mi(or.bind(null,e,St,vn),s);break}or(e,St,vn);break;case 5:or(e,St,vn);break;default:throw Error(a(329))}}}return bt(e,Je()),e.callbackNode===r?Su.bind(null,e):null}function Ra(e,t){var r=Ns;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=Oo(e,t),e!==2&&(t=St,St=r,t!==null&&Da(t)),e}function Da(e){St===null?St=e:St.push.apply(St,e)}function ap(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var o=r[s],l=o.getSnapshot;o=o.value;try{if(!Qt(l(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~ba,t&=~To,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$t(t),s=1<<r;e[r]=-1,t&=~s}}function bu(e){if((Ue&6)!==0)throw Error(a(327));Ir();var t=Vs(e,0);if((t&1)===0)return bt(e,Je()),null;var r=Oo(e,t);if(e.tag!==0&&r===2){var s=ci(e);s!==0&&(t=s,r=Ra(e,s))}if(r===1)throw r=ks,sr(e,0),On(e,t),bt(e,Je()),r;if(r===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,St,vn),bt(e,Je()),null}function Ta(e,t){var r=Ue;Ue|=1;try{return e(t)}finally{Ue=r,Ue===0&&(Tr=Je()+500,uo&&Dn())}}function rr(e){Mn!==null&&Mn.tag===0&&(Ue&6)===0&&Ir();var t=Ue;Ue|=1;var r=Bt.transition,s=qe;try{if(Bt.transition=null,qe=1,e)return e()}finally{qe=s,Bt.transition=r,Ue=t,(Ue&6)===0&&Dn()}}function Ia(){It=Dr.current,Ve(Dr)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Uh(r)),tt!==null)for(r=tt.return;r!==null;){var s=r;switch(qi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&lo();break;case 3:Ar(),Ve(Ct),Ve(mt),ta();break;case 5:Xi(s);break;case 4:Ar();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Ki(s.type._context);break;case 22:case 23:Ia()}r=r.return}if(lt=e,tt=e=_n(e.current,null),ht=It=t,ot=0,ks=null,ba=To=nr=0,St=Ns=null,Xn!==null){for(t=0;t<Xn.length;t++)if(r=Xn[t],s=r.interleaved,s!==null){r.interleaved=null;var o=s.next,l=r.pending;if(l!==null){var d=l.next;l.next=o,s.next=d}r.pending=s}Xn=null}return e}function Eu(e,t){do{var r=tt;try{if(Qi(),jo.current=So,Co){for(var s=Ye.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Co=!1}if(tr=0,at=st=Ye=null,vs=!1,ys=0,Sa.current=null,r===null||r.return===null){ot=1,ks=t,tt=null;break}e:{var l=e,d=r.return,g=r,j=t;if(t=ht,g.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var P=j,G=g,J=G.tag;if((G.mode&1)===0&&(J===0||J===11||J===15)){var Y=G.alternate;Y?(G.updateQueue=Y.updateQueue,G.memoizedState=Y.memoizedState,G.lanes=Y.lanes):(G.updateQueue=null,G.memoizedState=null)}var oe=Jc(d);if(oe!==null){oe.flags&=-257,Xc(oe,d,g,l,t),oe.mode&1&&Zc(l,P,t),t=oe,j=P;var ce=t.updateQueue;if(ce===null){var he=new Set;he.add(j),t.updateQueue=he}else ce.add(j);break e}else{if((t&1)===0){Zc(l,P,t),Pa();break e}j=Error(a(426))}}else if($e&&g.mode&1){var Xe=Jc(d);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Xc(Xe,d,g,l,t),Vi(Lr(j,g));break e}}l=j=Lr(j,g),ot!==4&&(ot=2),Ns===null?Ns=[l]:Ns.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var A=Yc(l,j,t);Cc(l,A);break e;case 1:g=j;var S=l.type,D=l.stateNode;if((l.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Fn===null||!Fn.has(D)))){l.flags|=65536,t&=-t,l.lanes|=t;var ee=Gc(l,g,t);Cc(l,ee);break e}}l=l.return}while(l!==null)}Ru(r)}catch(me){t=me,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(!0)}function Au(){var e=Do.current;return Do.current=So,e===null?So:e}function Pa(){(ot===0||ot===3||ot===2)&&(ot=4),lt===null||(nr&268435455)===0&&(To&268435455)===0||On(lt,ht)}function Oo(e,t){var r=Ue;Ue|=2;var s=Au();(lt!==e||ht!==t)&&(vn=null,sr(e,t));do try{lp();break}catch(o){Eu(e,o)}while(!0);if(Qi(),Ue=r,Do.current=s,tt!==null)throw Error(a(261));return lt=null,ht=0,ot}function lp(){for(;tt!==null;)Lu(tt)}function cp(){for(;tt!==null&&!Pd();)Lu(tt)}function Lu(e){var t=Iu(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?Ru(e):tt=t,Sa.current=null}function Ru(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=tp(r,t,It),r!==null){tt=r;return}}else{if(r=np(r,t),r!==null){r.flags&=32767,tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,tt=null;return}}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);ot===0&&(ot=5)}function or(e,t,r){var s=qe,o=Bt.transition;try{Bt.transition=null,qe=1,up(e,t,r,s)}finally{Bt.transition=o,qe=s}return null}function up(e,t,r,s){do Ir();while(Mn!==null);if((Ue&6)!==0)throw Error(a(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Hd(e,l),e===lt&&(tt=lt=null,ht=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Po||(Po=!0,Pu(Bs,function(){return Ir(),null})),l=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||l){l=Bt.transition,Bt.transition=null;var d=qe;qe=1;var g=Ue;Ue|=4,Sa.current=null,sp(e,r),wu(r,e),Rh(Pi),Ks=!!Ii,Pi=Ii=null,e.current=r,op(r),Fd(),Ue=g,qe=d,Bt.transition=l}else e.current=r;if(Po&&(Po=!1,Mn=e,Fo=o),l=e.pendingLanes,l===0&&(Fn=null),Od(r.stateNode),bt(e,Je()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],s(o.value,{componentStack:o.stack,digest:o.digest});if(Io)throw Io=!1,e=Aa,Aa=null,e;return(Fo&1)!==0&&e.tag!==0&&Ir(),l=e.pendingLanes,(l&1)!==0?e===La?Ss++:(Ss=0,La=e):Ss=0,Dn(),null}function Ir(){if(Mn!==null){var e=yl(Fo),t=Bt.transition,r=qe;try{if(Bt.transition=null,qe=16>e?16:e,Mn===null)var s=!1;else{if(e=Mn,Mn=null,Fo=0,(Ue&6)!==0)throw Error(a(331));var o=Ue;for(Ue|=4,le=e.current;le!==null;){var l=le,d=l.child;if((le.flags&16)!==0){var g=l.deletions;if(g!==null){for(var j=0;j<g.length;j++){var P=g[j];for(le=P;le!==null;){var G=le;switch(G.tag){case 0:case 11:case 15:Cs(8,G,l)}var J=G.child;if(J!==null)J.return=G,le=J;else for(;le!==null;){G=le;var Y=G.sibling,oe=G.return;if(fu(G),G===P){le=null;break}if(Y!==null){Y.return=oe,le=Y;break}le=oe}}}var ce=l.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var Xe=he.sibling;he.sibling=null,he=Xe}while(he!==null)}}le=l}}if((l.subtreeFlags&2064)!==0&&d!==null)d.return=l,le=d;else e:for(;le!==null;){if(l=le,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:Cs(9,l,l.return)}var A=l.sibling;if(A!==null){A.return=l.return,le=A;break e}le=l.return}}var S=e.current;for(le=S;le!==null;){d=le;var D=d.child;if((d.subtreeFlags&2064)!==0&&D!==null)D.return=d,le=D;else e:for(d=S;le!==null;){if(g=le,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:Ro(9,g)}}catch(me){Ge(g,g.return,me)}if(g===d){le=null;break e}var ee=g.sibling;if(ee!==null){ee.return=g.return,le=ee;break e}le=g.return}}if(Ue=o,Dn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(qs,e)}catch{}s=!0}return s}finally{qe=r,Bt.transition=t}}return!1}function Du(e,t,r){t=Lr(r,t),t=Yc(e,t,1),e=In(e,t,1),t=xt(),e!==null&&(Yr(e,1,t),bt(e,t))}function Ge(e,t,r){if(e.tag===3)Du(e,e,r);else for(;t!==null;){if(t.tag===3){Du(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fn===null||!Fn.has(s))){e=Lr(r,e),e=Gc(t,e,1),t=In(t,e,1),e=xt(),t!==null&&(Yr(t,1,e),bt(t,e));break}}t=t.return}}function dp(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(ht&r)===r&&(ot===4||ot===3&&(ht&130023424)===ht&&500>Je()-Ea?sr(e,0):ba|=r),bt(e,t)}function Tu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var r=xt();e=mn(e,t),e!==null&&(Yr(e,t,r),bt(e,r))}function hp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tu(e,r)}function pp(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}s!==null&&s.delete(t),Tu(e,r)}var Iu;Iu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Nt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Nt=!1,ep(e,t,r);Nt=(e.flags&131072)!==0}else Nt=!1,$e&&(t.flags&1048576)!==0&&hc(t,po,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ao(e,t),e=t.pendingProps;var o=jr(t,mt.current);Er(t,r),o=sa(null,t,s,e,o,r);var l=oa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(s)?(l=!0,co(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Zi(t),o.updater=bo,t.stateNode=o,o._reactInternals=t,da(t,s,e,r),t=fa(null,t,s,!0,l,r)):(t.tag=0,$e&&l&&Bi(t),yt(null,t,o,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=fp(s),e=Yt(s,e),o){case 0:t=ma(null,t,s,e,r);break e;case 1:t=ou(null,t,s,e,r);break e;case 11:t=eu(null,t,s,e,r);break e;case 14:t=tu(null,t,s,Yt(s.type,e),r);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yt(s,o),ma(e,t,s,o,r);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yt(s,o),ou(e,t,s,o,r);case 3:e:{if(iu(t),e===null)throw Error(a(387));s=t.pendingProps,l=t.memoizedState,o=l.element,jc(e,t),xo(t,s,null,r);var d=t.memoizedState;if(s=d.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Lr(Error(a(423)),t),t=au(e,t,s,r,o);break e}else if(s!==o){o=Lr(Error(a(424)),t),t=au(e,t,s,r,o);break e}else for(Tt=An(t.stateNode.containerInfo.firstChild),Dt=t,$e=!0,Kt=null,r=xc(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nr(),s===o){t=gn(e,t,r);break e}yt(e,t,s,r)}t=t.child}return t;case 5:return Nc(t),e===null&&Hi(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,d=o.children,Fi(s,o)?d=null:l!==null&&Fi(s,l)&&(t.flags|=32),su(e,t),yt(e,t,d,r),t.child;case 6:return e===null&&Hi(t),null;case 13:return lu(e,t,r);case 4:return Ji(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Sr(t,null,s,r):yt(e,t,s,r),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yt(s,o),eu(e,t,s,o,r);case 7:return yt(e,t,t.pendingProps,r),t.child;case 8:return yt(e,t,t.pendingProps.children,r),t.child;case 12:return yt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,d=o.value,We(go,s._currentValue),s._currentValue=d,l!==null)if(Qt(l.value,d)){if(l.children===o.children&&!Ct.current){t=gn(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var g=l.dependencies;if(g!==null){d=l.child;for(var j=g.firstContext;j!==null;){if(j.context===s){if(l.tag===1){j=fn(-1,r&-r),j.tag=2;var P=l.updateQueue;if(P!==null){P=P.shared;var G=P.pending;G===null?j.next=j:(j.next=G.next,G.next=j),P.pending=j}}l.lanes|=r,j=l.alternate,j!==null&&(j.lanes|=r),Yi(l.return,r,t),g.lanes|=r;break}j=j.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(a(341));d.lanes|=r,g=d.alternate,g!==null&&(g.lanes|=r),Yi(d,r,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}yt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Er(t,r),o=_t(o),s=s(o),t.flags|=1,yt(e,t,s,r),t.child;case 14:return s=t.type,o=Yt(s,t.pendingProps),o=Yt(s.type,o),tu(e,t,s,o,r);case 15:return nu(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yt(s,o),Ao(e,t),t.tag=1,kt(s)?(e=!0,co(t)):e=!1,Er(t,r),Qc(t,s,o),da(t,s,o,r),fa(null,t,s,!0,e,r);case 19:return uu(e,t,r);case 22:return ru(e,t,r)}throw Error(a(156,t.tag))};function Pu(e,t){return pl(e,t)}function mp(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,r,s){return new mp(e,t,r,s)}function Fa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fp(e){if(typeof e=="function")return Fa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fe)return 11;if(e===ke)return 14}return 2}function _n(e,t){var r=e.alternate;return r===null?(r=qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _o(e,t,r,s,o,l){var d=2;if(s=e,typeof e=="function")Fa(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case pe:return ir(r.children,o,l,t);case ue:d=8,o|=8;break;case Le:return e=qt(12,r,t,o|2),e.elementType=Le,e.lanes=l,e;case H:return e=qt(13,r,t,o),e.elementType=H,e.lanes=l,e;case ye:return e=qt(19,r,t,o),e.elementType=ye,e.lanes=l,e;case B:return zo(r,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fe:d=10;break e;case te:d=9;break e;case fe:d=11;break e;case ke:d=14;break e;case b:d=16,s=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=qt(d,r,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function ir(e,t,r,s){return e=qt(7,e,s,t),e.lanes=r,e}function zo(e,t,r,s){return e=qt(22,e,s,t),e.elementType=B,e.lanes=r,e.stateNode={isHidden:!1},e}function Ma(e,t,r){return e=qt(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gp(e,t,r,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ui(0),this.expirationTimes=ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Oa(e,t,r,s,o,l,d,g,j){return e=new gp(e,t,r,g,j),t===1?(t=1,l===!0&&(t|=8)):t=0,l=qt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zi(l),e}function vp(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Fu(e){if(!e)return Rn;e=e._reactInternals;e:{if(Kn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var r=e.type;if(kt(r))return cc(e,r,t)}return t}function Mu(e,t,r,s,o,l,d,g,j){return e=Oa(r,s,!0,e,o,l,d,g,j),e.context=Fu(null),r=e.current,s=xt(),o=Un(r),l=fn(s,o),l.callback=t??null,In(r,l,o),e.current.lanes=o,Yr(e,o,s),bt(e,s),e}function Bo(e,t,r,s){var o=t.current,l=xt(),d=Un(o);return r=Fu(r),t.context===null?t.context=r:t.pendingContext=r,t=fn(l,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=In(o,t,d),e!==null&&(Jt(e,o,d,l),yo(e,o,d)),d}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _a(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function yp(){return null}var Ou=typeof reportError=="function"?reportError:function(e){console.error(e)};function za(e){this._internalRoot=e}Wo.prototype.render=za.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Bo(e,t,null,null)},Wo.prototype.unmount=za.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){Bo(null,e,null,null)}),t[un]=null}};function Wo(e){this._internalRoot=e}Wo.prototype.unstable_scheduleHydration=function(e){if(e){var t=jl();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sn.length&&t!==0&&t<Sn[r].priority;r++);Sn.splice(r,0,e),r===0&&Nl(e)}};function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _u(){}function xp(e,t,r,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var P=qo(d);l.call(P)}}var d=Mu(t,s,e,0,null,!1,!1,"",_u);return e._reactRootContainer=d,e[un]=d.current,cs(e.nodeType===8?e.parentNode:e),rr(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var g=s;s=function(){var P=qo(j);g.call(P)}}var j=Oa(e,0,!1,null,null,!1,!1,"",_u);return e._reactRootContainer=j,e[un]=j.current,cs(e.nodeType===8?e.parentNode:e),rr(function(){Bo(t,j,r,s)}),j}function Vo(e,t,r,s,o){var l=r._reactRootContainer;if(l){var d=l;if(typeof o=="function"){var g=o;o=function(){var j=qo(d);g.call(j)}}Bo(t,d,e,o)}else d=xp(r,t,e,o,s);return qo(d)}xl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Kr(t.pendingLanes);r!==0&&(di(t,r|1),bt(t,Je()),(Ue&6)===0&&(Tr=Je()+500,Dn()))}break;case 13:rr(function(){var s=mn(e,1);if(s!==null){var o=xt();Jt(s,e,1,o)}}),_a(e,1)}},hi=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var r=xt();Jt(t,e,134217728,r)}_a(e,134217728)}},wl=function(e){if(e.tag===13){var t=Un(e),r=mn(e,t);if(r!==null){var s=xt();Jt(r,e,t,s)}_a(e,t)}},jl=function(){return qe},Cl=function(e,t){var r=qe;try{return qe=e,t()}finally{qe=r}},we=function(e,t,r){switch(t){case"input":if(Oe(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var o=ao(s);if(!o)throw Error(a(90));ae(s),Oe(s,o)}}}break;case"textarea":Fs(e,r);break;case"select":t=r.value,t!=null&&At(e,!!r.multiple,t,!1)}},jt=Ta,Mt=rr;var wp={usingClientEntryPoint:!1,Events:[hs,xr,ao,Be,Me,Ta]},bs={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jp={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dl(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||yp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{qs=$o.inject(jp),tn=$o}catch{}}return Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wp,Et.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ba(t))throw Error(a(200));return vp(e,t,null,r)},Et.createRoot=function(e,t){if(!Ba(e))throw Error(a(299));var r=!1,s="",o=Ou;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Oa(e,1,!1,null,null,r,!1,s,o),e[un]=t.current,cs(e.nodeType===8?e.parentNode:e),new za(t)},Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=dl(t),e=e===null?null:e.stateNode,e},Et.flushSync=function(e){return rr(e)},Et.hydrate=function(e,t,r){if(!Ho(t))throw Error(a(200));return Vo(null,e,t,!0,r)},Et.hydrateRoot=function(e,t,r){if(!Ba(e))throw Error(a(405));var s=r!=null&&r.hydratedSources||null,o=!1,l="",d=Ou;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=Mu(t,null,e,1,r??null,o,!1,l,d),e[un]=t.current,cs(e),s)for(e=0;e<s.length;e++)r=s[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Wo(t)},Et.render=function(e,t,r){if(!Ho(t))throw Error(a(200));return Vo(null,e,t,!1,r)},Et.unmountComponentAtNode=function(e){if(!Ho(e))throw Error(a(40));return e._reactRootContainer?(rr(function(){Vo(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1},Et.unstable_batchedUpdates=Ta,Et.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Ho(r))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Vo(e,t,r,!1,s)},Et.version="18.3.1-next-f1338f8080-20240426",Et}var Yu;function md(){if(Yu)return Ha.exports;Yu=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),Ha.exports=Fp(),Ha.exports}var Gu;function Mp(){if(Gu)return Qo;Gu=1;var i=md();return Qo.createRoot=i.createRoot,Qo.hydrateRoot=i.hydrateRoot,Qo}var Up=Mp();const Op=pd(Up);md();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])}return i},Is.apply(this,arguments)}var Bn;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Bn||(Bn={}));const Zu="popstate";function _p(i){i===void 0&&(i={});function c(u,h){let{pathname:p,search:f,hash:y}=u.location;return Ga("",{pathname:p,search:f,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function a(u,h){return typeof h=="string"?h:Jo(h)}return Bp(c,a,null,i)}function et(i,c){if(i===!1||i===null||typeof i>"u")throw new Error(c)}function fd(i,c){if(!i){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function zp(){return Math.random().toString(36).substr(2,8)}function Ju(i,c){return{usr:i.state,key:i.key,idx:c}}function Ga(i,c,a,u){return a===void 0&&(a=null),Is({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof c=="string"?zr(c):c,{state:a,key:c&&c.key||u||zp()})}function Jo(i){let{pathname:c="/",search:a="",hash:u=""}=i;return a&&a!=="?"&&(c+=a.charAt(0)==="?"?a:"?"+a),u&&u!=="#"&&(c+=u.charAt(0)==="#"?u:"#"+u),c}function zr(i){let c={};if(i){let a=i.indexOf("#");a>=0&&(c.hash=i.substr(a),i=i.substr(0,a));let u=i.indexOf("?");u>=0&&(c.search=i.substr(u),i=i.substr(0,u)),i&&(c.pathname=i)}return c}function Bp(i,c,a,u){u===void 0&&(u={});let{window:h=document.defaultView,v5Compat:p=!1}=u,f=h.history,y=Bn.Pop,x=null,E=w();E==null&&(E=0,f.replaceState(Is({},f.state,{idx:E}),""));function w(){return(f.state||{idx:null}).idx}function N(){y=Bn.Pop;let I=w(),V=I==null?null:I-E;E=I,x&&x({action:y,location:O.location,delta:V})}function F(I,V){y=Bn.Push;let $=Ga(O.location,I,V);E=w()+1;let L=Ju($,E),z=O.createHref($);try{f.pushState(L,"",z)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;h.location.assign(z)}p&&x&&x({action:y,location:O.location,delta:1})}function W(I,V){y=Bn.Replace;let $=Ga(O.location,I,V);E=w();let L=Ju($,E),z=O.createHref($);f.replaceState(L,"",z),p&&x&&x({action:y,location:O.location,delta:0})}function _(I){let V=h.location.origin!=="null"?h.location.origin:h.location.href,$=typeof I=="string"?I:Jo(I);return $=$.replace(/ $/,"%20"),et(V,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,V)}let O={get action(){return y},get location(){return i(h,f)},listen(I){if(x)throw new Error("A history only accepts one active listener");return h.addEventListener(Zu,N),x=I,()=>{h.removeEventListener(Zu,N),x=null}},createHref(I){return c(h,I)},createURL:_,encodeLocation(I){let V=_(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:F,replace:W,go(I){return f.go(I)}};return O}var Xu;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Xu||(Xu={}));function qp(i,c,a){return a===void 0&&(a="/"),Wp(i,c,a)}function Wp(i,c,a,u){let h=typeof c=="string"?zr(c):c,p=sl(h.pathname||"/",a);if(p==null)return null;let f=gd(i);Hp(f);let y=null;for(let x=0;y==null&&x<f.length;++x){let E=nm(p);y=Xp(f[x],E)}return y}function gd(i,c,a,u){c===void 0&&(c=[]),a===void 0&&(a=[]),u===void 0&&(u="");let h=(p,f,y)=>{let x={relativePath:y===void 0?p.path||"":y,caseSensitive:p.caseSensitive===!0,childrenIndex:f,route:p};x.relativePath.startsWith("/")&&(et(x.relativePath.startsWith(u),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(u.length));let E=qn([u,x.relativePath]),w=a.concat(x);p.children&&p.children.length>0&&(et(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),gd(p.children,c,w,E)),!(p.path==null&&!p.index)&&c.push({path:E,score:Zp(E,p.index),routesMeta:w})};return i.forEach((p,f)=>{var y;if(p.path===""||!((y=p.path)!=null&&y.includes("?")))h(p,f);else for(let x of vd(p.path))h(p,f,x)}),c}function vd(i){let c=i.split("/");if(c.length===0)return[];let[a,...u]=c,h=a.endsWith("?"),p=a.replace(/\?$/,"");if(u.length===0)return h?[p,""]:[p];let f=vd(u.join("/")),y=[];return y.push(...f.map(x=>x===""?p:[p,x].join("/"))),h&&y.push(...f),y.map(x=>i.startsWith("/")&&x===""?"/":x)}function Hp(i){i.sort((c,a)=>c.score!==a.score?a.score-c.score:Jp(c.routesMeta.map(u=>u.childrenIndex),a.routesMeta.map(u=>u.childrenIndex)))}const Vp=/^:[\w-]+$/,$p=3,Qp=2,Kp=1,Yp=10,Gp=-2,ed=i=>i==="*";function Zp(i,c){let a=i.split("/"),u=a.length;return a.some(ed)&&(u+=Gp),c&&(u+=Qp),a.filter(h=>!ed(h)).reduce((h,p)=>h+(Vp.test(p)?$p:p===""?Kp:Yp),u)}function Jp(i,c){return i.length===c.length&&i.slice(0,-1).every((u,h)=>u===c[h])?i[i.length-1]-c[c.length-1]:0}function Xp(i,c,a){let{routesMeta:u}=i,h={},p="/",f=[];for(let y=0;y<u.length;++y){let x=u[y],E=y===u.length-1,w=p==="/"?c:c.slice(p.length)||"/",N=em({path:x.relativePath,caseSensitive:x.caseSensitive,end:E},w),F=x.route;if(!N)return null;Object.assign(h,N.params),f.push({params:h,pathname:qn([p,N.pathname]),pathnameBase:im(qn([p,N.pathnameBase])),route:F}),N.pathnameBase!=="/"&&(p=qn([p,N.pathnameBase]))}return f}function em(i,c){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,u]=tm(i.path,i.caseSensitive,i.end),h=c.match(a);if(!h)return null;let p=h[0],f=p.replace(/(.)\/+$/,"$1"),y=h.slice(1);return{params:u.reduce((E,w,N)=>{let{paramName:F,isOptional:W}=w;if(F==="*"){let O=y[N]||"";f=p.slice(0,p.length-O.length).replace(/(.)\/+$/,"$1")}const _=y[N];return W&&!_?E[F]=void 0:E[F]=(_||"").replace(/%2F/g,"/"),E},{}),pathname:p,pathnameBase:f,pattern:i}}function tm(i,c,a){c===void 0&&(c=!1),a===void 0&&(a=!0),fd(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let u=[],h="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,y,x)=>(u.push({paramName:y,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(u.push({paramName:"*"}),h+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?h+="\\/*$":i!==""&&i!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,c?void 0:"i"),u]}function nm(i){try{return i.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return fd(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+c+").")),i}}function sl(i,c){if(c==="/")return i;if(!i.toLowerCase().startsWith(c.toLowerCase()))return null;let a=c.endsWith("/")?c.length-1:c.length,u=i.charAt(a);return u&&u!=="/"?null:i.slice(a)||"/"}function rm(i,c){c===void 0&&(c="/");let{pathname:a,search:u="",hash:h=""}=typeof i=="string"?zr(i):i;return{pathname:a?a.startsWith("/")?a:sm(a,c):c,search:am(u),hash:lm(h)}}function sm(i,c){let a=c.replace(/\/+$/,"").split("/");return i.split("/").forEach(h=>{h===".."?a.length>1&&a.pop():h!=="."&&a.push(h)}),a.length>1?a.join("/"):"/"}function Qa(i,c,a,u){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+c+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function om(i){return i.filter((c,a)=>a===0||c.route.path&&c.route.path.length>0)}function ol(i,c){let a=om(i);return c?a.map((u,h)=>h===a.length-1?u.pathname:u.pathnameBase):a.map(u=>u.pathnameBase)}function il(i,c,a,u){u===void 0&&(u=!1);let h;typeof i=="string"?h=zr(i):(h=Is({},i),et(!h.pathname||!h.pathname.includes("?"),Qa("?","pathname","search",h)),et(!h.pathname||!h.pathname.includes("#"),Qa("#","pathname","hash",h)),et(!h.search||!h.search.includes("#"),Qa("#","search","hash",h)));let p=i===""||h.pathname==="",f=p?"/":h.pathname,y;if(f==null)y=a;else{let N=c.length-1;if(!u&&f.startsWith("..")){let F=f.split("/");for(;F[0]==="..";)F.shift(),N-=1;h.pathname=F.join("/")}y=N>=0?c[N]:"/"}let x=rm(h,y),E=f&&f!=="/"&&f.endsWith("/"),w=(p||f===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(E||w)&&(x.pathname+="/"),x}const qn=i=>i.join("/").replace(/\/\/+/g,"/"),im=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),am=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lm=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function cm(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const yd=["post","put","patch","delete"];new Set(yd);const um=["get",...yd];new Set(um);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])}return i},Ps.apply(this,arguments)}const al=m.createContext(null),dm=m.createContext(null),Hn=m.createContext(null),ti=m.createContext(null),wn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),xd=m.createContext(null);function hm(i,c){let{relative:a}=c===void 0?{}:c;Br()||et(!1);let{basename:u,navigator:h}=m.useContext(Hn),{hash:p,pathname:f,search:y}=jd(i,{relative:a}),x=f;return u!=="/"&&(x=f==="/"?u:qn([u,f])),h.createHref({pathname:x,search:y,hash:p})}function Br(){return m.useContext(ti)!=null}function cr(){return Br()||et(!1),m.useContext(ti).location}function wd(i){m.useContext(Hn).static||m.useLayoutEffect(i)}function an(){let{isDataRoute:i}=m.useContext(wn);return i?bm():pm()}function pm(){Br()||et(!1);let i=m.useContext(al),{basename:c,future:a,navigator:u}=m.useContext(Hn),{matches:h}=m.useContext(wn),{pathname:p}=cr(),f=JSON.stringify(ol(h,a.v7_relativeSplatPath)),y=m.useRef(!1);return wd(()=>{y.current=!0}),m.useCallback(function(E,w){if(w===void 0&&(w={}),!y.current)return;if(typeof E=="number"){u.go(E);return}let N=il(E,JSON.parse(f),p,w.relative==="path");i==null&&c!=="/"&&(N.pathname=N.pathname==="/"?c:qn([c,N.pathname])),(w.replace?u.replace:u.push)(N,w.state,w)},[c,u,f,p,i])}function mm(){let{matches:i}=m.useContext(wn),c=i[i.length-1];return c?c.params:{}}function jd(i,c){let{relative:a}=c===void 0?{}:c,{future:u}=m.useContext(Hn),{matches:h}=m.useContext(wn),{pathname:p}=cr(),f=JSON.stringify(ol(h,u.v7_relativeSplatPath));return m.useMemo(()=>il(i,JSON.parse(f),p,a==="path"),[i,f,p,a])}function fm(i,c){return gm(i,c)}function gm(i,c,a,u){Br()||et(!1);let{navigator:h}=m.useContext(Hn),{matches:p}=m.useContext(wn),f=p[p.length-1],y=f?f.params:{};f&&f.pathname;let x=f?f.pathnameBase:"/";f&&f.route;let E=cr(),w;if(c){var N;let I=typeof c=="string"?zr(c):c;x==="/"||(N=I.pathname)!=null&&N.startsWith(x)||et(!1),w=I}else w=E;let F=w.pathname||"/",W=F;if(x!=="/"){let I=x.replace(/^\//,"").split("/");W="/"+F.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=qp(i,{pathname:W}),O=jm(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},y,I.params),pathname:qn([x,h.encodeLocation?h.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?x:qn([x,h.encodeLocation?h.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),p,a,u);return c&&O?m.createElement(ti.Provider,{value:{location:Ps({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Bn.Pop}},O):O}function vm(){let i=Sm(),c=cm(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},c),a?m.createElement("pre",{style:h},a):null,null)}const ym=m.createElement(vm,null);class xm extends m.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,a){return a.location!==c.location||a.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:a.error,location:a.location,revalidation:c.revalidation||a.revalidation}}componentDidCatch(c,a){console.error("React Router caught the following error during render",c,a)}render(){return this.state.error!==void 0?m.createElement(wn.Provider,{value:this.props.routeContext},m.createElement(xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wm(i){let{routeContext:c,match:a,children:u}=i,h=m.useContext(al);return h&&h.static&&h.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=a.route.id),m.createElement(wn.Provider,{value:c},u)}function jm(i,c,a,u){var h;if(c===void 0&&(c=[]),a===void 0&&(a=null),u===void 0&&(u=null),i==null){var p;if(!a)return null;if(a.errors)i=a.matches;else if((p=u)!=null&&p.v7_partialHydration&&c.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let f=i,y=(h=a)==null?void 0:h.errors;if(y!=null){let w=f.findIndex(N=>N.route.id&&y?.[N.route.id]!==void 0);w>=0||et(!1),f=f.slice(0,Math.min(f.length,w+1))}let x=!1,E=-1;if(a&&u&&u.v7_partialHydration)for(let w=0;w<f.length;w++){let N=f[w];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(E=w),N.route.id){let{loaderData:F,errors:W}=a,_=N.route.loader&&F[N.route.id]===void 0&&(!W||W[N.route.id]===void 0);if(N.route.lazy||_){x=!0,E>=0?f=f.slice(0,E+1):f=[f[0]];break}}}return f.reduceRight((w,N,F)=>{let W,_=!1,O=null,I=null;a&&(W=y&&N.route.id?y[N.route.id]:void 0,O=N.route.errorElement||ym,x&&(E<0&&F===0?(Em("route-fallback"),_=!0,I=null):E===F&&(_=!0,I=N.route.hydrateFallbackElement||null)));let V=c.concat(f.slice(0,F+1)),$=()=>{let L;return W?L=O:_?L=I:N.route.Component?L=m.createElement(N.route.Component,null):N.route.element?L=N.route.element:L=w,m.createElement(wm,{match:N,routeContext:{outlet:w,matches:V,isDataRoute:a!=null},children:L})};return a&&(N.route.ErrorBoundary||N.route.errorElement||F===0)?m.createElement(xm,{location:a.location,revalidation:a.revalidation,component:O,error:W,children:$(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):$()},null)}var Cd=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Cd||{}),kd=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(kd||{});function Cm(i){let c=m.useContext(al);return c||et(!1),c}function km(i){let c=m.useContext(dm);return c||et(!1),c}function Nm(i){let c=m.useContext(wn);return c||et(!1),c}function Nd(i){let c=Nm(),a=c.matches[c.matches.length-1];return a.route.id||et(!1),a.route.id}function Sm(){var i;let c=m.useContext(xd),a=km(),u=Nd();return c!==void 0?c:(i=a.errors)==null?void 0:i[u]}function bm(){let{router:i}=Cm(Cd.UseNavigateStable),c=Nd(kd.UseNavigateStable),a=m.useRef(!1);return wd(()=>{a.current=!0}),m.useCallback(function(h,p){p===void 0&&(p={}),a.current&&(typeof h=="number"?i.navigate(h):i.navigate(h,Ps({fromRouteId:c},p)))},[i,c])}const td={};function Em(i,c,a){td[i]||(td[i]=!0)}function Am(i,c){i?.v7_startTransition,i?.v7_relativeSplatPath}function nd(i){let{to:c,replace:a,state:u,relative:h}=i;Br()||et(!1);let{future:p,static:f}=m.useContext(Hn),{matches:y}=m.useContext(wn),{pathname:x}=cr(),E=an(),w=il(c,ol(y,p.v7_relativeSplatPath),x,h==="path"),N=JSON.stringify(w);return m.useEffect(()=>E(JSON.parse(N),{replace:a,state:u,relative:h}),[E,N,h,a,u]),null}function pt(i){et(!1)}function Lm(i){let{basename:c="/",children:a=null,location:u,navigationType:h=Bn.Pop,navigator:p,static:f=!1,future:y}=i;Br()&&et(!1);let x=c.replace(/^\/*/,"/"),E=m.useMemo(()=>({basename:x,navigator:p,static:f,future:Ps({v7_relativeSplatPath:!1},y)}),[x,y,p,f]);typeof u=="string"&&(u=zr(u));let{pathname:w="/",search:N="",hash:F="",state:W=null,key:_="default"}=u,O=m.useMemo(()=>{let I=sl(w,x);return I==null?null:{location:{pathname:I,search:N,hash:F,state:W,key:_},navigationType:h}},[x,w,N,F,W,_,h]);return O==null?null:m.createElement(Hn.Provider,{value:E},m.createElement(ti.Provider,{children:a,value:O}))}function Rm(i){let{children:c,location:a}=i;return fm(Za(c),a)}new Promise(()=>{});function Za(i,c){c===void 0&&(c=[]);let a=[];return m.Children.forEach(i,(u,h)=>{if(!m.isValidElement(u))return;let p=[...c,h];if(u.type===m.Fragment){a.push.apply(a,Za(u.props.children,p));return}u.type!==pt&&et(!1),!u.props.index||!u.props.children||et(!1);let f={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(f.children=Za(u.props.children,p)),a.push(f)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])}return i},Ja.apply(this,arguments)}function Dm(i,c){if(i==null)return{};var a={},u=Object.keys(i),h,p;for(p=0;p<u.length;p++)h=u[p],!(c.indexOf(h)>=0)&&(a[h]=i[h]);return a}function Tm(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Im(i,c){return i.button===0&&(!c||c==="_self")&&!Tm(i)}const Pm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fm="6";try{window.__reactRouterVersion=Fm}catch{}const Mm="startTransition",rd=Tp[Mm];function Um(i){let{basename:c,children:a,future:u,window:h}=i,p=m.useRef();p.current==null&&(p.current=_p({window:h,v5Compat:!0}));let f=p.current,[y,x]=m.useState({action:f.action,location:f.location}),{v7_startTransition:E}=u||{},w=m.useCallback(N=>{E&&rd?rd(()=>x(N)):x(N)},[x,E]);return m.useLayoutEffect(()=>f.listen(w),[f,w]),m.useEffect(()=>Am(u),[u]),m.createElement(Lm,{basename:c,children:a,location:y.location,navigationType:y.action,navigator:f,future:u})}const Om=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ko=m.forwardRef(function(c,a){let{onClick:u,relative:h,reloadDocument:p,replace:f,state:y,target:x,to:E,preventScrollReset:w,viewTransition:N}=c,F=Dm(c,Pm),{basename:W}=m.useContext(Hn),_,O=!1;if(typeof E=="string"&&_m.test(E)&&(_=E,Om))try{let L=new URL(window.location.href),z=E.startsWith("//")?new URL(L.protocol+E):new URL(E),re=sl(z.pathname,W);z.origin===L.origin&&re!=null?E=re+z.search+z.hash:O=!0}catch{}let I=hm(E,{relative:h}),V=zm(E,{replace:f,state:y,target:x,preventScrollReset:w,relative:h,viewTransition:N});function $(L){u&&u(L),L.defaultPrevented||V(L)}return m.createElement("a",Ja({},F,{href:_||I,onClick:O||p?u:$,ref:a,target:x}))});var sd;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(sd||(sd={}));var od;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(od||(od={}));function zm(i,c){let{target:a,replace:u,state:h,preventScrollReset:p,relative:f,viewTransition:y}=c===void 0?{}:c,x=an(),E=cr(),w=jd(i,{relative:f});return m.useCallback(N=>{if(Im(N,a)){N.preventDefault();let F=u!==void 0?u:Jo(E)===Jo(w);x(i,{replace:F,state:h,preventScrollReset:p,relative:f,viewTransition:y})}},[E,x,w,u,h,a,i,p,f,y])}const Bm=async(i,c={})=>{try{const a=Ce(ie,"admins",i.uid);await Or(a,{email:i.email,role:"admin",displayName:i.displayName||"",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),...c},{merge:!0})}catch(a){throw console.error("Error creating admin entry:",a),a}},qm=async(i,c)=>{try{const u=(await dd(Pe,i,c)).user;return await Bm(u),u}catch(a){throw console.error("Error creating admin user:",a),a}},Wm="categories",Hm="rebuttals",Vm="archived_rebuttals",$m=[{name:"Not Interested",icon:"❌",color:"#FF6B6B"},{name:"Spouse Consultation",icon:"💑",color:"#4ECDC4"},{name:"One Legger",icon:"👤",color:"#45B7D1"},{name:"Not Ready",icon:"⏳",color:"#96CEB4"},{name:"Curious",icon:"🤔",color:"#FFEEAD"},{name:"Time Concern",icon:"⏰",color:"#D4A5A5"},{name:"Can't Afford",icon:"💰",color:"#9B59B6"},{name:"Spouse",icon:"👫",color:"#3498DB"},{name:"Price Phone",icon:"📞",color:"#E67E22"},{name:"Repair",icon:"🔧",color:"#2ECC71"},{name:"Government Grants",icon:"🏛️",color:"#34495E"},{name:"Reset Appointment",icon:"🔄",color:"#F1C40F"},{name:"No Request",icon:"🚫",color:"#E74C3C"},{name:"Bad Reviews",icon:"⭐",color:"#F39C12"}],Qm=[{title:"Can't Afford",category:"Can't Afford",objection:"I can't afford this right now",response:{pt1:"I completely understand your concern about the cost. Many of our customers felt the same way initially, but they found that our solution actually saves them money in the long run. Let me explain how...",pt2:"If cost is still a concern, we have several flexible payment options and financing solutions that might work better for your budget. Would you like to hear about those?"},icon:"💰",color:"#9B59B6",tags:["cost","budget","payment"]},{title:"Reset Appointment",category:"Reset Appointment",objection:"I need to reschedule my appointment",response:{pt1:"I understand that things come up and schedules need to change. I'd be happy to help you find a new time that works better for you.",pt2:"What days and times would work better for your schedule? I'll make sure to find a slot that's convenient for you."},icon:"🔄",color:"#F1C40F",tags:["schedule","reschedule","appointment"]}];class Km{constructor(){this.categoriesCollection=je(ie,Wm),this.rebuttalsCollection=je(ie,Hm),this.archivedRebuttalsCollection=je(ie,Vm)}async initializeDefaultCategories(){try{const c=Ie(this.categoriesCollection);if(!(await xe(c)).empty){console.log("Categories already exist, skipping initialization");return}console.log("Creating default categories...");for(const u of $m)await this.addCategory(u);console.log("Default categories created successfully")}catch(c){throw console.error("Error initializing default categories:",c),c}}async getAllCategories(){try{await this.initializeDefaultCategories();const c=Ie(this.categoriesCollection,it("name","asc"));return(await xe(c)).docs.map(u=>({id:u.id,...u.data()}))}catch(c){throw console.error("Error fetching categories:",c),c}}async addCategory(c){try{return(await Wt(this.categoriesCollection,{name:c.name,icon:c.icon||"📋",color:c.color||"#808080",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id}catch(a){throw console.error("Error adding category:",a),a}}async updateCategory(c,a){try{const u=Ce(this.categoriesCollection,c);return await wt(u,{...a,updatedAt:new Date().toISOString()}),c}catch(u){throw console.error("Error updating category:",u),u}}async deleteCategory(c){try{const a=Ht(ie),u=Ce(this.categoriesCollection,c),h=await Xt(u);if(!h.exists())throw new Error("Category not found");const p=h.data(),f=Ie(this.rebuttalsCollection,en("category","==",p.name)),y=await xe(f);return y.forEach(x=>{const E=x.data(),w=Ce(this.archivedRebuttalsCollection);a.set(w,{...E,originalCategory:p.name,archivedAt:new Date().toISOString(),archivedReason:"Category deleted",originalId:x.id}),a.delete(Ce(this.rebuttalsCollection,x.id))}),a.delete(u),await a.commit(),{categoryId:c,archivedRebuttalsCount:y.size}}catch(a){throw console.error("Error deleting category:",a),a}}async restoreArchivedRebuttals(c){try{const a=Ht(ie),u=Ie(this.archivedRebuttalsCollection,en("archivedReason","==","Category deleted")),h=await xe(u);return h.forEach(p=>{const f=p.data(),y=Ce(this.rebuttalsCollection);a.set(y,{...f,category:c,archivedAt:null,archivedReason:null,originalCategory:null,updatedAt:new Date().toISOString()}),a.delete(Ce(this.archivedRebuttalsCollection,p.id))}),await a.commit(),{restoredCount:h.size}}catch(a){throw console.error("Error restoring archived rebuttals:",a),a}}async getArchivedRebuttals(){try{return(await xe(this.archivedRebuttalsCollection)).docs.map(a=>({id:a.id,...a.data()}))}catch(c){throw console.error("Error fetching archived rebuttals:",c),c}}async updateRebuttalCategory(c,a){try{const u=Ce(this.rebuttalsCollection,c);return await wt(u,{category:a,updatedAt:new Date().toISOString()}),c}catch(u){throw console.error("Error updating rebuttal category:",u),u}}async resetAllRebuttals(){try{const c=Ie(this.rebuttalsCollection),a=await xe(c),u=Ht(ie);a.docs.forEach(h=>{u.delete(h.ref)}),await u.commit(),console.log("Creating default rebuttals...");for(const h of Qm)await Wt(this.rebuttalsCollection,{...h,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0});console.log("Default rebuttals created successfully")}catch(c){throw console.error("Error resetting rebuttals:",c),c}}}const ar=new Km,Ym="rebuttals",Yo=()=>{if(!ie)throw new Error("Firebase is not properly initialized. Please check your Firebase configuration.")};class Gm{constructor(){this.db=ie||Xo(),this.rebuttalsCollection=je(this.db,Ym),this.archivedCollection=je(this.db,"archived_rebuttals"),this.categoriesCollection=je(this.db,"categories"),this.isOnline=navigator.onLine,this.pendingOperations=[],this.setupConnectionListeners()}setupConnectionListeners(){window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),kp(this.db,()=>{this.processPendingOperations()})}handleOnline(){this.isOnline=!0,this.processPendingOperations()}handleOffline(){this.isOnline=!1}async processPendingOperations(){if(!this.isOnline)return;const c=[...this.pendingOperations];this.pendingOperations=[];for(const a of c)try{switch(a.type){case"add":await this.addRebuttal(a.data);break;case"update":await this.updateRebuttal(a.id,a.data);break;case"delete":await this.deleteRebuttal(a.id);break;case"archive":await this.archiveRebuttal(a.id);break;case"unarchive":await this.unarchiveRebuttal(a.id,a.category);break;case"addCategory":await this.addCategory(a.data);break;case"updateCategory":await this.updateCategory(a.id,a.data);break;case"deleteCategory":await this.deleteCategory(a.id);break}}catch(u){console.error("Error processing pending operation:",u),this.pendingOperations.push(a)}}async checkAndFixDocumentMismatches(){try{console.log("Checking for document ID mismatches...");const c=Ie(this.rebuttalsCollection,it("createdAt","desc")),u=(await xe(c)).docs.map(p=>({id:p.id,...p.data()}));console.log(`Found ${u.length} rebuttals in Firestore`);const h=u.map(p=>p.id);return console.log("Available document IDs:",h),{totalRebuttals:u.length,documentIds:h,rebuttals:u}}catch(c){throw console.error("Error checking document mismatches:",c),c}}async getAllRebuttals(){try{Yo(),console.log("Fetching all rebuttals...");const c=Ie(this.rebuttalsCollection,it("createdAt","desc")),u=(await xe(c)).docs.map(p=>({id:p.id,...p.data()})),h=u.reduce((p,f)=>{const y=f.category||"uncategorized";return p[y]=(p[y]||0)+1,p},{});return console.log("Rebuttals by category:",h),console.log(`Successfully fetched ${u.length} rebuttals`),u}catch(c){throw console.error("Error fetching rebuttals:",c),c.code&&console.error("Firebase error code:",c.code),new Error(`Failed to fetch rebuttals: ${c.message}`)}}async getActiveRebuttals(){try{Yo(),console.log("Fetching active rebuttals...");const c=Ie(this.rebuttalsCollection,en("archived","==",!1),it("createdAt","desc")),u=(await xe(c)).docs.map(h=>({id:h.id,...h.data()}));return console.log(`Successfully fetched ${u.length} active rebuttals`),u}catch(c){throw console.error("Error fetching active rebuttals:",c),c.code&&console.error("Firebase error code:",c.code),new Error(`Failed to fetch active rebuttals: ${c.message}`)}}async getArchivedRebuttals(){try{Yo(),console.log("Fetching archived rebuttals...");const c=Ie(this.archivedCollection,it("archivedAt","desc")),u=(await xe(c)).docs.map(h=>({id:h.id,...h.data()}));return console.log(`Successfully fetched ${u.length} archived rebuttals`),u}catch(c){throw console.error("Error fetching archived rebuttals:",c),c.code&&console.error("Firebase error code:",c.code),new Error(`Failed to fetch archived rebuttals: ${c.message}`)}}async getRebuttalsByCategory(c){try{const a=Ie(this.rebuttalsCollection,en("category","==",c),en("archived","==",!1),it("createdAt","desc"));return(await xe(a)).docs.map(h=>({id:h.id,...h.data()}))}catch(a){throw console.error("Error fetching rebuttals by category:",a),a}}async searchRebuttals(c){try{const a=Ie(this.rebuttalsCollection,en("archived","==",!1),it("createdAt","desc"));return(await xe(a)).docs.map(p=>({id:p.id,...p.data()})).filter(p=>{const f=c.toLowerCase();return p.title?.toLowerCase().includes(f)||p.objection?.toLowerCase().includes(f)||p.response?.toLowerCase().includes(f)||p.tags?.some(y=>y.toLowerCase().includes(f))})}catch(a){throw console.error("Error searching rebuttals:",a),a}}async getCategories(){try{Yo(),console.log("Fetching categories...");const c=Ie(this.categoriesCollection,it("name","asc")),u=(await xe(c)).docs.map(w=>({id:w.id,name:w.data().name,icon:w.data().icon||"📋",slug:w.data().name.toLowerCase().replace(/\s+/g,"-")})),h=Ie(this.rebuttalsCollection),p=await xe(h),f=u.reduce((w,N)=>(w[N.slug]=N.id,w),{}),y=u.reduce((w,N)=>(w[N.id]=N.name,w),{}),x=u.reduce((w,N)=>(w[N.id]={rebuttalCount:0,lastUpdated:null,tags:new Set,rebuttals:[]},w),{});p.docs.forEach(w=>{const N=w.data();let F=N.category;if(F&&!F.match(/^[a-zA-Z0-9_-]{20}$/)&&(F=f[F.toLowerCase().replace(/\s+/g,"-")]),F&&x[F]&&(x[F].rebuttalCount++,x[F].rebuttals.push({id:w.id,title:N.title}),N.tags&&Array.isArray(N.tags)&&N.tags.forEach(W=>x[F].tags.add(W)),N.updatedAt)){const W=new Date(N.updatedAt);(!x[F].lastUpdated||W>new Date(x[F].lastUpdated))&&(x[F].lastUpdated=N.updatedAt)}});const E=u.map(w=>({...w,rebuttalCount:x[w.id].rebuttalCount,lastUpdated:x[w.id].lastUpdated,tags:Array.from(x[w.id].tags),rebuttals:x[w.id].rebuttals}));return console.log("Categories with stats:",{categories:E.map(w=>({id:w.id,name:w.name,rebuttalCount:w.rebuttalCount,rebuttals:w.rebuttals.map(N=>N.title)}))}),E}catch(c){throw console.error("Error fetching categories:",c),c.code&&console.error("Firebase error code:",c.code),new Error(`Failed to fetch categories: ${c.message}`)}}async addRebuttal(c){try{const a=Pe.currentUser;if(!a)throw new Error("User must be authenticated to add rebuttals");const u=Ce(ie,"admins",a.uid);if(!(await Xt(u)).exists())throw new Error("Only admins can add rebuttals");if(!this.isOnline)return this.pendingOperations.push({type:"add",data:c}),"pending";const p=Ie(this.categoriesCollection),y=(await xe(p)).docs.map(w=>({id:w.id,name:w.data().name,slug:w.data().name.toLowerCase().replace(/\s+/g,"-")})),x=y.reduce((w,N)=>(w[N.slug]=N.id,w),{});if(c.category){let w=c.category;if(!w.match(/^[a-zA-Z0-9_-]{20}$/)&&(w=x[w.toLowerCase().replace(/\s+/g,"-")],!w))throw new Error(`Category ${c.category} does not exist`);if(!y.some(F=>F.id===w))throw new Error(`Category ID ${w} does not exist`);c.category=w}if(!c.title||!c.category)throw new Error("Title and category are required fields");return(await Wt(this.rebuttalsCollection,{...c,archived:!1,createdBy:a.uid,createdAt:serverTimestamp(),updatedAt:serverTimestamp()})).id}catch(a){throw console.error("Error adding rebuttal:",a),a.code==="permission-denied"?new Error("You do not have permission to add rebuttals. Please make sure you are logged in as an admin."):a}}async updateRebuttal(c,a){try{if(!this.isOnline)return this.pendingOperations.push({type:"update",id:c,data:a}),"pending";const u=Ce(this.rebuttalsCollection,c);if(!(await Xt(u)).exists()){const p=Ce(this.archivedCollection,c);throw(await Xt(p)).exists()?new Error(`Rebuttal with ID ${c} has been archived and cannot be updated. Please unarchive it first.`):new Error(`Rebuttal with ID ${c} does not exist. It may have been deleted or the ID is incorrect.`)}if(a.category){const p=Ce(this.categoriesCollection,a.category);if(!(await Xt(p)).exists())throw new Error(`Category ${a.category} does not exist`)}return await wt(u,{...a,updatedAt:new Date().toISOString()}),c}catch(u){throw console.error("Error updating rebuttal:",u),u}}async archiveRebuttal(c){try{if(!this.isOnline)return this.pendingOperations.push({type:"archive",id:c}),"pending";const a=Ce(this.rebuttalsCollection,c),u=await xe(Ie(this.rebuttalsCollection,en("__name__","==",c)));if(!u.empty){const h=u.docs[0].data();await Wt(this.archivedCollection,{...h,archivedAt:new Date().toISOString()}),await Vt(a)}return c}catch(a){throw console.error("Error archiving rebuttal:",a),a}}async unarchiveRebuttal(c,a){try{const u=Pe.currentUser;if(!u)throw new Error("User must be authenticated to unarchive rebuttals");const h=Ce(ie,"admins",u.uid);if(!(await Xt(h)).exists())throw new Error("Only admins can unarchive rebuttals");if(!this.isOnline)return this.pendingOperations.push({type:"unarchive",id:c,category:a}),"pending";const f=Ce(this.archivedCollection,c),y=await Xt(f);if(!y.exists())throw new Error("Archived rebuttal not found");const x=y.data(),{archivedAt:E,archivedReason:w,originalCategory:N,...F}=x,W=await Wt(this.rebuttalsCollection,{...F,category:a||F.category,updatedAt:serverTimestamp(),createdAt:serverTimestamp()});return await Vt(f),W.id}catch(u){throw console.error("Error unarchiving rebuttal:",u),u}}async deleteRebuttal(c){try{if(!this.isOnline)return this.pendingOperations.push({type:"delete",id:c}),"pending";const a=Ce(this.rebuttalsCollection,c);return await Vt(a),c}catch(a){throw console.error("Error deleting rebuttal:",a),a}}async retryConnection(){try{return await Np(this.db),!0}catch(c){return console.error("Error retrying connection:",c),!1}}cleanup(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline)}async addCategory(c){try{return this.isOnline?{id:(await Wt(this.categoriesCollection,{...c,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...c}:(this.pendingOperations.push({type:"addCategory",data:c}),"pending")}catch(a){throw console.error("Error adding category:",a),a}}async updateCategory(c,a){try{if(!this.isOnline)return this.pendingOperations.push({type:"updateCategory",id:c,data:a}),"pending";const u=Ce(this.categoriesCollection,c);return await wt(u,{...a,updatedAt:new Date().toISOString()}),{id:c,...a}}catch(u){throw console.error("Error updating category:",u),u}}async deleteCategory(c){try{if(!this.isOnline)return this.pendingOperations.push({type:"deleteCategory",id:c}),"pending";const a=Ie(this.rebuttalsCollection,en("category","==",c));if(!(await xe(a)).empty)throw new Error("Cannot delete category that is in use by rebuttals");const h=Ce(this.categoriesCollection,c);return await Vt(h),c}catch(a){throw console.error("Error deleting category:",a),a}}async resetAllRebuttals(){try{console.log("Starting to reset all rebuttals...");const c=[{name:"Can't Afford",icon:"💰",slug:"cant-afford"},{name:"Reset Appointment",icon:"🔄",slug:"reset-appt"},{name:"Not Interested",icon:"❌",slug:"not-interested"},{name:"Spouse Consultation",icon:"💑",slug:"spouse-consultation"},{name:"One Decision Maker",icon:"👤",slug:"one-legger"},{name:"Not Ready",icon:"⏳",slug:"not-ready"},{name:"Just Curious",icon:"🤔",slug:"curious"},{name:"Time Concern",icon:"⏰",slug:"time-concern"},{name:"Spouse Issues",icon:"👫",slug:"spouse"},{name:"Price Over Phone",icon:"📞",slug:"price-phone"},{name:"Repair Only",icon:"🔧",slug:"repair"},{name:"Government Grants",icon:"🏛️",slug:"government-grants"},{name:"No Request",icon:"🚫",slug:"no-request"},{name:"Bad Reviews",icon:"⭐",slug:"bad-reviews"}],a=Ie(this.categoriesCollection),h=(await xe(a)).docs.map(w=>({id:w.id,...w.data()})),p=h.reduce((w,N)=>{const F=N.slug||N.name.toLowerCase().replace(/\s+/g,"-");return w[F]=N.id,w},{}),f=Ht(this.db);for(const w of c)if(!h.find(F=>F.slug===w.slug||F.name.toLowerCase()===w.name.toLowerCase())){const F=Ce(je(this.db,"categories"));f.set(F,{...w,createdAt:serverTimestamp(),updatedAt:serverTimestamp()}),p[w.slug]=F.id}await f.commit(),console.log("Categories updated successfully");const y=await this.getAllRebuttals();console.log(`Found ${y.length} existing rebuttals to delete`);const x=Ht(this.db);y.forEach(w=>{const N=Ce(this.db,"rebuttals",w.id);x.delete(N)});for(const w of Zm){const N=p[w.category];if(!N){console.warn(`Category ${w.category} not found in mapping, skipping rebuttal`);continue}const F=Ce(je(this.db,"rebuttals"));x.set(F,{...w,category:N,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),archived:!1})}await x.commit(),console.log("Successfully reset all rebuttals");const E=await this.getAllRebuttals();return console.log(`Verified ${E.length} rebuttals after reset`),!0}catch(c){throw console.error("Error resetting rebuttals:",c),c}}}const Xa=new Gm,Zm=[{title:"Can't Afford Right Now",category:"cant-afford",objection:"I can't afford this right now",response:{pt1:"I understand that cost is an important consideration. We actually have a special 12-month promotion that makes this more affordable than you might think. Would you like to hear about our current offer?",pt2:"Our current promotion includes flexible payment options and no obligation. Would you be available for a quick consultation to discuss how we can make this work for your budget?"},icon:"💰",color:"#9B59B6",tags:["price","budget","payment","affordability"],steps:["Acknowledge concern","Present value","Mention promotion","Ask for availability"],tips:["Focus on value","Emphasize flexibility","Highlight current promotion"]},{title:"Need to Reset Appointment",category:"reset-appt",objection:"I need to reschedule my appointment",response:{pt1:"I understand that schedules can change. I'd be happy to help you find a new time that works better for you. What's a good time for you?",pt2:"We have several convenient time slots available. Would you prefer morning, afternoon, or evening? I can help you find the perfect time."},icon:"🔄",color:"#F1C40F",tags:["schedule","reschedule","appointment","timing"],steps:["Acknowledge request","Offer assistance","Suggest alternatives","Confirm new time"],tips:["Be flexible","Offer multiple options","Confirm availability"]},{title:"Not Interested",category:"not-interested",objection:"I'm not interested",response:{pt1:"I understand. Before you go, I'd like to share a quick overview of what makes our service unique. Many of our customers were initially hesitant but found great value in our approach.",pt2:"Would you be open to hearing about our current promotion? It's a limited-time offer that many of our customers have found compelling."},icon:"❌",color:"#FF6B6B",tags:["disinterest","value","promotion","benefits"],steps:["Acknowledge position","Present value","Mention promotion","Ask for consideration"],tips:["Stay positive","Focus on benefits","Respect decision"]},{title:"Need to Consult Spouse",category:"spouse-consultation",objection:"I need to talk to my spouse first",response:{pt1:"That's completely understandable. Making decisions together is important. Would it be helpful if I provided some information you could share with your spouse?",pt2:"I can also schedule a time when you're both available to discuss this together. What would work better for you?"},icon:"💑",color:"#4ECDC4",tags:["spouse","decision","consultation","family"],steps:["Acknowledge concern","Offer information","Suggest joint meeting","Find convenient time"],tips:["Be supportive","Provide materials","Offer flexibility"]},{title:"One Decision Maker",category:"one-legger",objection:"I'm the only one making this decision",response:{pt1:"I understand you're the decision maker. That actually makes this process more straightforward. Would you like to hear about our current promotion?",pt2:"Since you're making the decision, I can focus on addressing your specific needs and concerns. What aspects are most important to you?"},icon:"👤",color:"#45B7D1",tags:["decision","authority","promotion","needs"],steps:["Acknowledge authority","Present value","Focus on needs","Ask for input"],tips:["Respect authority","Be direct","Focus on benefits"]},{title:"Not Ready to Start",category:"not-ready",objection:"I'm not ready to start yet",response:{pt1:"I understand you want to take your time with this decision. That's completely reasonable. Would you like to learn more about our current promotion?",pt2:"Our promotion is time-sensitive, but I can help you understand what's involved so you can make an informed decision when you're ready."},icon:"⏳",color:"#96CEB4",tags:["timing","decision","promotion","information"],steps:["Acknowledge position","Present value","Mention timing","Offer information"],tips:["Be patient","Provide information","Respect timeline"]},{title:"Just Curious",category:"curious",objection:"I was just curious",response:{pt1:"That's great! Curiosity often leads to great opportunities. Would you like to learn more about what makes our service unique?",pt2:"Many of our best customers started out just like you - curious about what we offer. I'd be happy to share more details about our current promotion."},icon:"🤔",color:"#FFEEAD",tags:["interest","information","promotion","opportunity"],steps:["Acknowledge interest","Present value","Share information","Suggest next steps"],tips:["Be informative","Highlight benefits","Create interest"]},{title:"Time Concern",category:"time-concern",objection:"I don't have time for this",response:{pt1:"I understand time is valuable. Our process is actually quite efficient, and I can give you a quick overview of what's involved.",pt2:"Would you be open to a brief 15-minute consultation? I can help you understand if this is worth your time."},icon:"⏰",color:"#D4A5A5",tags:["time","efficiency","consultation","value"],steps:["Acknowledge concern","Present efficiency","Offer quick overview","Suggest brief meeting"],tips:["Be concise","Respect time","Focus on value"]},{title:"Spouse Issues",category:"spouse",objection:"My spouse won't agree to this",response:{pt1:"I understand that getting your spouse's agreement is important. Would it help if I provided some information you could share with them?",pt2:"Many couples find our approach appealing because of its flexibility and benefits. I can explain how it might work for your specific situation."},icon:"👫",color:"#3498DB",tags:["spouse","agreement","information","benefits"],steps:["Acknowledge concern","Offer information","Present benefits","Suggest discussion"],tips:["Be supportive","Provide materials","Focus on benefits"]},{title:"Price Over Phone",category:"price-phone",objection:"I need the price over the phone",response:{pt1:"I understand you want to know the price. To provide you with the most accurate quote, I need to understand your specific needs.",pt2:"Would you be open to a quick 15-minute consultation? This will help me give you the most accurate price for your situation."},icon:"📞",color:"#E67E22",tags:["price","quote","consultation","needs"],steps:["Acknowledge request","Explain process","Offer consultation","Emphasize accuracy"],tips:["Be transparent","Focus on value","Request consultation"]},{title:"Repair Only",category:"repair",objection:"I only need repairs",response:{pt1:"I understand you're focused on repairs. We actually offer comprehensive solutions that can prevent future issues and save you money in the long run.",pt2:"Would you like to hear about how our approach can address both your immediate repair needs and prevent future problems?"},icon:"🔧",color:"#2ECC71",tags:["repair","prevention","savings","solution"],steps:["Acknowledge need","Present value","Explain benefits","Offer information"],tips:["Focus on prevention","Highlight savings","Present value"]},{title:"Government Grants",category:"government-grants",objection:"I'm waiting for government grants",response:{pt1:"I understand you're interested in government grants. We can help you understand what's available and how our service can complement any grants you receive.",pt2:"Would you like to learn more about how our current promotion can work alongside government assistance programs?"},icon:"🏛️",color:"#34495E",tags:["grants","government","assistance","promotion"],steps:["Acknowledge interest","Present options","Explain benefits","Offer information"],tips:["Be informative","Focus on compatibility","Highlight benefits"]},{title:"No Request",category:"no-request",objection:"I didn't request this information",response:{pt1:"I apologize if this contact was unexpected. I'm reaching out because we have a special promotion that might interest you.",pt2:"Would you like to hear about our current offer? If not, I'll be happy to remove you from our contact list."},icon:"🚫",color:"#E74C3C",tags:["unexpected","promotion","respect","choice"],steps:["Apologize","Present value","Offer choice","Respect decision"],tips:["Be respectful","Offer value","Provide choice"]},{title:"Bad Reviews",category:"bad-reviews",objection:"I've heard bad reviews about your service",response:{pt1:"I appreciate you sharing that concern. We take feedback seriously and have made significant improvements based on customer input.",pt2:"Would you be open to hearing about our current standards and how we've addressed past concerns? Many of our recent customers have been very satisfied."},icon:"⭐",color:"#1ABC9C",tags:["reviews","improvement","satisfaction","standards"],steps:["Acknowledge concern","Present improvements","Share recent feedback","Offer information"],tips:["Be honest","Focus on improvements","Share success stories"]},{title:"Competitor Comparison",category:"not-interested",objection:"I'm going with a competitor",response:{pt1:"I understand you're considering other options. Before you make your final decision, I'd like to share what makes our service unique and how we might better meet your needs.",pt2:"Would you be open to a quick comparison of our services? I can highlight the key differences that might make us a better choice for you."},icon:"🔄",color:"#FF6B6B",tags:["competition","comparison","value","benefits"],steps:["Acknowledge choice","Present value","Offer comparison","Highlight differences"],tips:["Stay professional","Focus on strengths","Respect competition"]},{title:"Bad Experience",category:"bad-reviews",objection:"I had a bad experience before",response:{pt1:"I'm sorry to hear about your previous experience. We've made significant improvements to our service based on customer feedback.",pt2:"Would you be open to hearing about how we've addressed those issues? Many customers who had concerns in the past have been pleasantly surprised by our current service."},icon:"⭐",color:"#1ABC9C",tags:["experience","improvement","service","feedback"],steps:["Acknowledge experience","Present improvements","Share success stories","Offer information"],tips:["Be empathetic","Focus on improvements","Share positive outcomes"]},{title:"Price Negotiation",category:"cant-afford",objection:"Can you lower the price?",response:{pt1:"I understand you're looking for the best value. While our prices are set to reflect the quality of our service, we do have a current promotion that offers significant savings.",pt2:"Would you like to hear about our current offer? It includes additional benefits that make it an even better value."},icon:"💰",color:"#9B59B6",tags:["price","negotiation","value","promotion"],steps:["Acknowledge request","Present value","Mention promotion","Highlight benefits"],tips:["Stay firm on value","Focus on benefits","Present promotion"]},{title:"Need to Research",category:"not-ready",objection:"I need to do more research",response:{pt1:"That's a wise approach. I'd be happy to provide you with more information to help with your research. What specific aspects would you like to know more about?",pt2:"We also have customer testimonials and case studies that might be helpful. Would you like me to share those with you?"},icon:"📚",color:"#96CEB4",tags:["research","information","education","decision"],steps:["Support decision","Offer information","Provide resources","Suggest next steps"],tips:["Be helpful","Provide value","Respect process"]},{title:"Too Busy",category:"time-concern",objection:"I'm too busy right now",response:{pt1:"I understand you're busy. Our process is designed to be efficient and convenient. I can give you a quick overview of what's involved.",pt2:"Would you be open to a brief 15-minute consultation? I can help you determine if this is worth your time."},icon:"⏰",color:"#D4A5A5",tags:["time","efficiency","convenience","value"],steps:["Acknowledge concern","Present efficiency","Offer quick overview","Suggest brief meeting"],tips:["Be concise","Respect time","Focus on value"]},{title:"Need to Compare",category:"not-ready",objection:"I need to compare options",response:{pt1:"That's a smart approach. I'd be happy to provide you with a detailed comparison of our services versus other options.",pt2:"Would you like me to share our comparison guide? It highlights the key differences and benefits of our approach."},icon:"📊",color:"#96CEB4",tags:["comparison","information","education","decision"],steps:["Support decision","Offer comparison","Provide information","Suggest next steps"],tips:["Be informative","Focus on strengths","Provide value"]},{title:"Not Priority",category:"not-ready",objection:"This isn't a priority right now",response:{pt1:"I understand this might not be your top priority. However, addressing this now could prevent more urgent issues in the future.",pt2:"Would you like to hear about how our service can help you avoid potential problems down the line?"},icon:"⏳",color:"#96CEB4",tags:["priority","prevention","value","timing"],steps:["Acknowledge position","Present value","Explain benefits","Offer information"],tips:["Focus on prevention","Highlight urgency","Present value"]},{title:"Need to Budget",category:"cant-afford",objection:"I need to budget for this",response:{pt1:"I understand the importance of budgeting. We offer flexible payment options that can help you plan your expenses.",pt2:"Would you like to hear about our current promotion and payment plans? They're designed to make this more manageable for your budget."},icon:"💰",color:"#9B59B6",tags:["budget","payment","planning","options"],steps:["Acknowledge concern","Present options","Explain benefits","Offer information"],tips:["Be flexible","Focus on planning","Present options"]},{title:"Need to Save",category:"cant-afford",objection:"I need to save up for this",response:{pt1:"I understand you want to save up. We actually have a special promotion that can help you get started sooner while still being budget-friendly.",pt2:"Would you like to hear about our current offer? It includes flexible payment options that might work better for your savings plan."},icon:"💰",color:"#9B59B6",tags:["savings","budget","payment","promotion"],steps:["Acknowledge concern","Present value","Mention promotion","Offer options"],tips:["Be flexible","Focus on savings","Present options"]},{title:"Need More Information",category:"curious",objection:"I need more information before deciding",response:{pt1:"I'd be happy to provide you with more detailed information. What specific aspects would you like to know more about?",pt2:"We have comprehensive guides and case studies that might help you make an informed decision. Would you like me to share those with you?"},icon:"📚",color:"#FFEEAD",tags:["information","education","decision","details"],steps:["Acknowledge need","Offer information","Ask for specifics","Provide resources"],tips:["Be informative","Focus on details","Provide value"]},{title:"Want to Learn More",category:"curious",objection:"I want to learn more about your service",response:{pt1:"I'd be happy to walk you through our service in detail. What aspects are you most interested in learning about?",pt2:"We have a special presentation that highlights our unique approach and benefits. Would you like me to share that with you?"},icon:"🎓",color:"#FFEEAD",tags:["education","information","benefits","details"],steps:["Acknowledge interest","Offer details","Present value","Suggest next steps"],tips:["Be thorough","Focus on benefits","Create interest"]},{title:"Need to Check Schedule",category:"reset-appt",objection:"I need to check my schedule first",response:{pt1:"I understand you need to check your availability. I can hold a few time slots for you while you check your schedule.",pt2:"What time of day typically works best for you? I can help you find a convenient time that fits your schedule."},icon:"📅",color:"#F1C40F",tags:["schedule","availability","timing","convenience"],steps:["Acknowledge need","Offer flexibility","Suggest times","Confirm availability"],tips:["Be flexible","Offer options","Respect schedule"]},{title:"Need to Check Calendar",category:"reset-appt",objection:"I need to check my calendar",response:{pt1:"I understand you need to check your calendar. I can help you find a time that works with your schedule.",pt2:"Would you prefer morning, afternoon, or evening appointments? I can hold some slots for you while you check."},icon:"📆",color:"#F1C40F",tags:["calendar","scheduling","availability","convenience"],steps:["Acknowledge need","Offer options","Suggest times","Confirm preference"],tips:["Be flexible","Offer choices","Respect schedule"]},{title:"Need to Check with Team",category:"one-legger",objection:"I need to check with my team first",response:{pt1:"I understand you need to consult with your team. Would it be helpful if I provided some information you could share with them?",pt2:"I can also schedule a time when your team can be present to discuss this together. What would work better for you?"},icon:"👥",color:"#45B7D1",tags:["team","consultation","decision","meeting"],steps:["Acknowledge need","Offer information","Suggest meeting","Find convenient time"],tips:["Be supportive","Provide materials","Offer flexibility"]},{title:"Need Team Approval",category:"one-legger",objection:"I need team approval for this",response:{pt1:"I understand you need team approval. I can provide you with a comprehensive proposal that addresses all the key points your team will need to consider.",pt2:"Would you like me to prepare a presentation that you can share with your team? It includes all the benefits and ROI calculations they'll need."},icon:"✅",color:"#45B7D1",tags:["approval","team","proposal","benefits"],steps:["Acknowledge need","Offer proposal","Present benefits","Suggest next steps"],tips:["Be thorough","Focus on ROI","Provide materials"]},{title:"Need to Check Budget",category:"cant-afford",objection:"I need to check my budget first",response:{pt1:"I understand you need to review your budget. We offer flexible payment options that can work with various budget constraints.",pt2:"Would you like to hear about our current promotion? It includes payment plans designed to fit different budget situations."},icon:"💰",color:"#9B59B6",tags:["budget","payment","options","promotion"],steps:["Acknowledge need","Present options","Mention promotion","Offer flexibility"],tips:["Be flexible","Focus on options","Present value"]},{title:"Need to Check Finances",category:"cant-afford",objection:"I need to check my finances",response:{pt1:"I understand you need to review your finances. We have several payment options that can accommodate different financial situations.",pt2:"Would you like to hear about our current promotion? It includes flexible payment terms that might work better for your financial situation."},icon:"💳",color:"#9B59B6",tags:["finances","payment","options","promotion"],steps:["Acknowledge need","Present options","Mention promotion","Offer flexibility"],tips:["Be flexible","Focus on options","Present value"]},{title:"Need to Check Reviews",category:"bad-reviews",objection:"I need to check your reviews first",response:{pt1:"I understand you want to check our reviews. We're proud of our recent customer feedback and would be happy to share some recent testimonials.",pt2:"Would you like to hear about some recent success stories? Many of our customers have shared their positive experiences."},icon:"⭐",color:"#1ABC9C",tags:["reviews","testimonials","feedback","success"],steps:["Acknowledge need","Share testimonials","Present success stories","Offer information"],tips:["Be honest","Share recent feedback","Focus on improvements"]},{title:"Need to Check References",category:"bad-reviews",objection:"I need to check your references",response:{pt1:"I understand you want to check our references. We have several satisfied customers who would be happy to share their experiences.",pt2:"Would you like me to connect you with some of our recent customers? They can provide firsthand feedback about our service."},icon:"📞",color:"#1ABC9C",tags:["references","testimonials","feedback","success"],steps:["Acknowledge need","Offer references","Share success stories","Connect with customers"],tips:["Be transparent","Share references","Focus on satisfaction"]}],Jm=()=>{const i=an(),[c,a]=m.useState(""),[u,h]=m.useState([]),[p,f]=m.useState(!1),[y,x]=m.useState(null),[E,w]=m.useState(!1),[N,F]=m.useState(!1),[W,_]=m.useState(!1),[O,I]=m.useState(null),[V,$]=m.useState(null),[L,z]=m.useState(!1),[re,X]=m.useState(!1),[pe,ue]=m.useState(!1),[Le,Fe]=m.useState([]),[te,fe]=m.useState(0),[H,ye]=m.useState([]),[ke,b]=m.useState(!0),[B,M]=m.useState([]),[U,q]=m.useState(null),[k,v]=m.useState([]),[K,T]=m.useState(null),[ne,de]=m.useState(null),[be,Ee]=m.useState(!1),[C,R]=m.useState(!0),[Q,ae]=m.useState(0);m.useEffect(()=>{if(L||E||N)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[L,E,N]);const Se=[{name:"Busy",keywords:["busy","time","rushed","quick"],category:"time-concern"},{name:"Call Back",keywords:["call back","callback","later","another time"],category:"callback"},{name:"No Interest",keywords:["not interested","no interest","dont want","not buying"],category:"not-interested"},{name:"Speak to Spouse",keywords:["spouse","husband","wife","talk to","discuss"],category:"spouse-consultation"},{name:"Price Over Phone",keywords:["price","cost","how much","ballpark","estimate"],category:"price-phone"},{name:"One Leg",keywords:["one leg","decision maker","alone","by myself"],category:"one-legger"},{name:"Repair Only",keywords:["repair","fix","liner","just repair"],category:"repair"},{name:"Gov/Free",keywords:["government","free","grant","assistance"],category:"government-grants"}],nt={"how to":["how do i","how can i","how do you","how to","how can","how should","how would"],"when can":["when can i","when is","when will","when should","when do","when to","when are"],"where to":["where can i","where do i","where is","where to","where are","where should"],"what is":["whats","what is","what are","what do","what will","what should","what can"],"why do":["why does","why is","why are","why do","why should","why would","why can"],"can i":["can you","is it possible","is there a way","can i","could i","would you","may i"],"need to":["want to","have to","should i","need to","looking to","trying to","planning to"],"looking for":["searching for","trying to find","want to find","looking for","need to find","seeking"]},Ze={hoem:"home",paeg:"page",serach:"search",ebveythgin:"everything",arch:"search",shoudl:"should",eveythung:"everything",rebuttals:"rebuttals",disposition:"disposition",customer:"customer",service:"service",price:"price",cost:"cost",schedule:"schedule",appointment:"appointment",cancel:"cancel",reschedule:"reschedule",urgent:"urgent",help:"help",support:"support",question:"question",answer:"answer",problem:"problem",issue:"issue",concern:"concern",complaint:"complaint",feedback:"feedback",review:"review",rating:"rating",quality:"quality",product:"product",installation:"installation",warranty:"warranty",guarantee:"guarantee",payment:"payment",financing:"financing",discount:"discount",offer:"offer",deal:"deal",promotion:"promotion",special:"special",limited:"limited",time:"time",date:"date",availability:"availability",location:"location",address:"address",contact:"contact",phone:"phone",email:"email",message:"message",chat:"chat",call:"call",text:"text",sms:"sms",voicemail:"voicemail",callback:"callback",followup:"follow up","follow-up":"follow up",reminder:"reminder",notification:"notification",alert:"alert",warning:"warning",error:"error",fix:"fix",repair:"repair",maintenance:"maintenance",upgrade:"upgrade",update:"update",change:"change",modify:"modify",postpone:"postpone",delay:"delay",late:"late",early:"early","on-time":"on time",ontime:"on time"},Re=Z=>Z.toLowerCase().split(" ").map(Ae=>Ze[Ae]||Ae).join(" "),Oe=Z=>{let se=Z.toLowerCase();return Object.entries(nt).forEach(([Ae,Te])=>{Te.forEach(Qe=>{se.includes(Qe)&&(se=se.replace(Qe,Ae))})}),se=Re(se),se},Ft=(Z,se)=>{const Ae=Array(se.length+1).fill(null).map(()=>Array(Z.length+1).fill(null));for(let Te=0;Te<=Z.length;Te+=1)Ae[0][Te]=Te;for(let Te=0;Te<=se.length;Te+=1)Ae[Te][0]=Te;for(let Te=1;Te<=se.length;Te+=1)for(let Qe=1;Qe<=Z.length;Qe+=1){const Lt=Z[Qe-1]===se[Te-1]?0:1;Ae[Te][Qe]=Math.min(Ae[Te][Qe-1]+1,Ae[Te-1][Qe]+1,Ae[Te-1][Qe-1]+Lt)}return Ae[se.length][Z.length]},Vn=(Z,se)=>{const Ae=Math.max(Z.length,se.length);return Ae===0?1:1-Ft(Z,se)/Ae},jn=Z=>{if(!Z)return[];const se=Z.toLowerCase().split(/\s+/),Ae=new Set(["the","a","an","and","or","but","in","on","at","to","for","with","by","about","as","of","from","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","shall","should","may","might","must","can","could","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","its","our","their","mine","yours","hers","ours","theirs"]);return se.filter(Te=>!Ae.has(Te)&&Te.length>2)},At=(Z,se)=>{if(!Z||!se)return 0;const Ae=jn(Z),Te=jn(se);let Qe=0;return Ae.forEach(Lt=>{Te.forEach(we=>{const rt=Vn(Lt,we);rt>.8&&(Qe+=rt)})}),Qe/Math.max(Ae.length,1)},ur=Z=>{if(!Z.trim()){h([]);return}const se=Oe(Z),Ae=[],Te=new Set,Qe=/^(what|how|why|when|where|can|could|would|should|may|do|does|is|are|will)/i.test(se),Lt=/(call\s*back|callback|call\s*later|call\s*me\s*back|call\s*you\s*back)/i.test(se);k.forEach(we=>{if(Te.has(we.title))return;const rt=we.title.toLowerCase().includes(se),ze=we.category.toLowerCase().includes(se);let ut=!1,Be=0;typeof we.content=="string"?(ut=we.content.toLowerCase().includes(se),Be=At(se,we.content)):we.content&&typeof we.content=="object"&&(ut=we.content.pt1&&we.content.pt1.toLowerCase().includes(se)||we.content.pt2&&we.content.pt2.toLowerCase().includes(se),Be=Math.max(At(se,we.content.pt1||""),At(se,we.content.pt2||"")));const Me=we.tags?.some(cn=>cn.toLowerCase().includes(se)),jt=we.tags?.reduce((cn,Os)=>Math.max(cn,At(se,Os)),0)||0,Mt=(rt?1:0)*.4+(ze?1:0)*.2+(ut?1:0)*.2+(Me?1:0)*.1+Be*.1+jt*.1;Lt&&(we.category==="callback"||we.title.toLowerCase().includes("callback"))?(Ae.push({type:"rebuttal",title:we.title,category:we.category,icon:"📞",relevance:"high",score:Mt+.5,data:we}),Te.add(we.title)):Qe&&(ut||Be>.3)?(Ae.push({type:"modal",title:we.title,category:we.category,icon:qr(we.category),relevance:"high",score:Mt+.3,data:we}),Te.add(we.title)):Mt>.2&&(Ae.push({type:"rebuttal",title:we.title,category:we.category,icon:qr(we.category),relevance:Mt>.6?"high":Mt>.4?"medium":"low",score:Mt,data:we}),Te.add(we.title))}),Se.forEach(we=>{const rt=we.name.toLowerCase().includes(se),ze=we.keywords.some(Me=>Me.toLowerCase().includes(se)),ut=Math.max(At(se,we.name),...we.keywords.map(Me=>At(se,Me))),Be=(rt?1:0)*.6+(ze?1:0)*.3+ut*.1;Be>.2&&Ae.push({type:"disposition",title:we.name,category:we.category,icon:"📋",relevance:Be>.6?"high":Be>.4?"medium":"low",score:Be,data:we})}),Ae.sort((we,rt)=>rt.score-we.score),h(Ae.slice(0,10))},qr=Z=>({"not-interested":"❌","spouse-consultation":"💑","one-legger":"👤","not-ready":"⏳",curious:"🤔","time-concern":"⏰","cant-afford":"💰",spouse:"👫","price-phone":"📞",repair:"🔧","government-grants":"🏛️","reset-appt":"🔄","no-request":"🚫","bad-reviews":"⭐"})[Z]||"📞";m.useCallback(Fs(Z=>{ur(Z)},300),[]);function Fs(Z,se){let Ae;return function(...Qe){const Lt=()=>{clearTimeout(Ae),Z(...Qe)};clearTimeout(Ae),Ae=setTimeout(Lt,se)}}m.useEffect(()=>{ur(c),f(c.length>0)},[c]);const ln=()=>{w(!1),F(!1),z(!1),$(null),X(!1),Fe([])},Ms=()=>{if(K&&K.items){const Z=(Q+1)%K.items.length;ae(Z);const se=K.items[Z];Hr(se)}},Wr=()=>E?n.jsx("div",{className:"modal-overlay",onClick:ln,children:n.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("div",{className:"modal-header-content",children:n.jsx("h2",{children:"Common Objections & Responses"})}),n.jsxs("div",{className:"modal-header-buttons",children:[n.jsx("button",{className:"modal-expand",onClick:Z=>{Z.stopPropagation(),ue(!pe)},title:pe?"Collapse":"Expand",children:pe?n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M8 3V5C8 5.53043 7.78929 6.03914 7.41421 6.41421C7.03914 6.78929 6.53043 7 6 7H4M4 7H8M4 7V3M16 3V5C16 5.53043 16.2107 6.03914 16.5858 6.41421C16.9609 6.78929 17.4696 7 18 7H20M20 7H16M20 7V3M8 21V19C8 18.4696 7.78929 17.9609 7.41421 17.5858C7.03914 17.2107 6.53043 17 6 17H4M4 17H8M4 17V21M16 21V19C16 18.4696 16.2107 17.9609 16.5858 17.5858C16.9609 17.2107 17.4696 17 18 17H20M20 17H16M20 17V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M4 8V4M4 4H8M4 4L9 9M20 8V4M20 4H16M20 4L15 9M4 16V20M4 20H8M4 20L9 15M20 16V20M20 20H16M20 20L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),n.jsx("button",{className:"modal-close",onClick:ln,children:"×"})]})]}),n.jsx("div",{className:`modal-body ${pe?"expanded":""}`,children:n.jsxs("div",{className:"objection-list",children:[n.jsxs("div",{className:"objection-item",children:[n.jsx("h3",{children:"Need to Think About It"}),n.jsx("p",{children:'"I need to think about it"'}),n.jsxs("div",{className:"response-section",children:[n.jsx("h4",{children:"Initial Response:"}),n.jsx("p",{children:`"That's completely understandable. Making home improvement decisions requires careful consideration. What specific aspects would you like to think about? I'd be happy to provide more information to help with your decision."`}),n.jsx("h4",{children:"Follow-up Response:"}),n.jsx("p",{children:`"We're currently offering a special discount for customers who make a decision this week. Would you like to hear more about this limited-time offer?"`})]})]}),n.jsxs("div",{className:"objection-item",children:[n.jsx("h3",{children:"Need to Consult Spouse"}),n.jsx("p",{children:'"I need to talk to my spouse"'}),n.jsxs("div",{className:"response-section",children:[n.jsx("h4",{children:"Initial Response:"}),n.jsx("p",{children:`"That's a great point. It's important to make this decision together. Would it be helpful if I scheduled a time when both of you can be present to discuss the options?"`}),n.jsx("h4",{children:"Follow-up Response:"}),n.jsx("p",{children:'"I can prepare a detailed proposal that you can review together. This will include all the information your spouse might need to make an informed decision."'})]})]}),n.jsxs("div",{className:"objection-item",children:[n.jsx("h3",{children:"Not Ready to Buy"}),n.jsx("p",{children:`"I'm not ready to buy right now"`}),n.jsxs("div",{className:"response-section",children:[n.jsx("h4",{children:"Initial Response:"}),n.jsx("p",{children:`"I understand. When are you planning to make this improvement? We can schedule a consultation for when you're ready to move forward."`}),n.jsx("h4",{children:"Follow-up Response:"}),n.jsx("p",{children:`"We offer free consultations and estimates with no obligation. This can help you plan for when you're ready to proceed. Would you like to schedule one?"`})]})]}),n.jsxs("div",{className:"objection-item",children:[n.jsx("h3",{children:"Looking for Cheaper Option"}),n.jsx("p",{children:'"I can get it cheaper elsewhere"'}),n.jsxs("div",{className:"response-section",children:[n.jsx("h4",{children:"Initial Response:"}),n.jsx("p",{children:`"I appreciate you sharing that. While price is important, it's also crucial to consider the quality, warranty, and service that comes with your purchase. Our products come with a lifetime warranty and professional installation."`}),n.jsx("h4",{children:"Follow-up Response:"}),n.jsx("p",{children:`"Let me show you a comparison of what's included in our price versus what you might be getting elsewhere. This will help you make a more informed decision."`})]})]})]})})]})}):N?n.jsx("div",{className:"modal-overlay",onClick:ln,children:n.jsxs("div",{className:"modal-content",onClick:Z=>Z.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("div",{className:"modal-header-content",children:n.jsx("h2",{children:"Smart Tips for Success"})}),n.jsx("button",{className:"modal-close",onClick:ln,children:"×"})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"tips-list",children:[n.jsxs("div",{className:"tip-item",children:[n.jsx("h3",{children:"🎯 Active Listening"}),n.jsx("p",{children:"Always acknowledge the customer's concerns before presenting your rebuttal"})]}),n.jsxs("div",{className:"tip-item",children:[n.jsx("h3",{children:"💡 Question-Based Approach"}),n.jsx("p",{children:"Use open-ended questions to understand the customer's needs better"})]}),n.jsxs("div",{className:"tip-item",children:[n.jsx("h3",{children:"⚡ Quick Response Strategy"}),n.jsx("p",{children:"Start with Part 1 of the rebuttal, then escalate to Part 2 if needed"})]}),n.jsxs("div",{className:"tip-item",children:[n.jsx("h3",{children:"🤝 Building Rapport"}),n.jsx("p",{children:"Establish trust by showing empathy and understanding"})]})]})})]})}):L&&V?n.jsx("div",{className:"modal-overlay",onClick:ln,children:n.jsxs("div",{className:`modal-content ${pe?"expanded":""}`,onClick:Z=>Z.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"modal-header-content",children:[n.jsx("h2",{children:V.title}),n.jsx("p",{className:"modal-subtitle",children:V.description})]}),n.jsx("div",{className:"modal-header-buttons",children:n.jsx("button",{className:"modal-close",onClick:ln,children:"×"})})]}),n.jsx("div",{className:`modal-body ${pe?"expanded":""}`,children:re?n.jsxs("div",{className:"more-options-view",children:[n.jsxs("div",{className:"more-options-header",children:[n.jsx("h3",{children:"More Options"}),n.jsxs("p",{children:["Related rebuttals and options for ",V.category]})]}),n.jsx("div",{className:"category-navigation",children:n.jsxs("button",{className:"view-all-category-button",onClick:()=>{const Z=B.find(se=>se.items.some(Ae=>Ae.category===V.category));if(Z){$(Z.items.find(Ae=>Ae.category===V.category)),z(!1);const se=document.querySelector(`[data-category="${Z.id}"]`);se&&se.scrollIntoView({behavior:"smooth"})}},children:["View All ",V.category," Options"]})}),n.jsxs("div",{className:"related-rebuttals",children:[n.jsx("h4",{children:"Related Rebuttals:"}),n.jsx("div",{className:"related-rebuttals-list",children:Le.map((Z,se)=>n.jsxs("div",{className:"related-rebuttal-item",onClick:()=>{$({...Z,content:{pt1:typeof Z.response=="string"?Z.response:Z.response?.pt1||Z.objection||"",pt2:typeof Z.response=="string"?"":Z.response?.pt2||Z.followUpResponse||""}}),X(!1)},children:[n.jsx("h5",{children:Z.title}),n.jsx("p",{children:typeof Z.response=="string"?Z.response:Z.response?.pt1||Z.objection||""})]},se))})]})]}):n.jsxs("div",{className:"objection-item",children:[n.jsx("div",{className:"objection-header"}),n.jsx("div",{className:"rebuttal-content",children:n.jsx("div",{className:"modal-tags",children:V.tags?.map(Z=>n.jsxs("span",{className:"modal-tag",children:["#",Z]},Z))})}),n.jsxs("div",{className:"modal-rebuttal-content",children:[n.jsxs("div",{className:"modal-section-header",children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),n.jsx("h3",{children:"Rebuttal Responses"})]}),V.content&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"rebuttal-section",children:[n.jsx("h4",{className:"rebuttal-section-title",children:"Initial Response"}),n.jsx("p",{className:"modal-content-text",children:typeof V.content=="string"?V.content:V.content.pt1||""})]}),n.jsxs("div",{className:"rebuttal-section",children:[n.jsx("h4",{className:"rebuttal-section-title",children:"Follow-up Response"}),n.jsx("p",{className:"modal-content-text",children:typeof V.content=="string"?"":V.content.pt2||""})]}),n.jsx("div",{className:"rebuttal-actions",children:n.jsxs("button",{className:"next-button",onClick:()=>Ms(),disabled:!K||!K.items||K.items.length<=1,children:["Next Response",n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]}),V.tips&&V.tips.length>0&&n.jsxs("div",{className:"modal-tips",children:[n.jsxs("div",{className:"modal-section-header",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M12 16v.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M12 8v4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),n.jsx("h3",{children:"Tips"})]}),n.jsx("div",{className:"tips-list",children:V.tips.map((Z,se)=>n.jsxs("div",{className:"tip-item",children:[n.jsx("div",{className:"tip-icon",children:"💡"}),n.jsx("p",{className:"tip-text",children:Z})]},se))})]}),n.jsxs("div",{className:"modal-situations",children:[n.jsxs("div",{className:"modal-section-header",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M12 8v4l3 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),n.jsx("h3",{children:"Situations Used"})]}),n.jsxs("div",{className:"situations-list",children:[n.jsxs("div",{className:"situation-item",children:[n.jsx("div",{className:"situation-icon",children:"🎯"}),n.jsxs("div",{className:"situation-content",children:[n.jsx("h4",{className:"situation-title",children:"Initial Contact"}),n.jsx("p",{className:"situation-description",children:"When first addressing the customer's concern about pricing or budget constraints"})]})]}),n.jsxs("div",{className:"situation-item",children:[n.jsx("div",{className:"situation-icon",children:"💬"}),n.jsxs("div",{className:"situation-content",children:[n.jsx("h4",{className:"situation-title",children:"Follow-up Discussion"}),n.jsx("p",{className:"situation-description",children:"When customer needs more information about payment options or financing"})]})]}),n.jsxs("div",{className:"situation-item",children:[n.jsx("div",{className:"situation-icon",children:"🤝"}),n.jsxs("div",{className:"situation-content",children:[n.jsx("h4",{className:"situation-title",children:"Negotiation Phase"}),n.jsx("p",{className:"situation-description",children:"During price discussions or when presenting alternative solutions"})]})]})]})]})]})})]})}):null;m.useEffect(()=>{(async()=>{try{b(!0),console.log("Starting to load data...");const se=await ar.getAllCategories();console.log("Fetched categories:",se);const Ae=Ie(je(ie,"rebuttals"),it("createdAt","desc")),Te=hd(Ae,Qe=>{const Lt=Qe.docs.map(ze=>({id:ze.id,...ze.data()})),we=se.reduce((ze,ut)=>(ze[ut.id]=ut.name,ze),{}),rt=se.map(ze=>{const ut=Lt.filter(Me=>{const jt=Me.category||"",Mt=ze.name||"",cn=ze.id||"";return jt===Mt||jt===cn||jt.toLowerCase()===Mt.toLowerCase()});console.log(`Category ${ze.name} (ID: ${ze.id}) has ${ut.length} rebuttals`),ut.length>0&&console.log(`  Rebuttals in ${ze.name}:`,ut.map(Me=>({id:Me.id,title:Me.title,category:Me.category})));let Be="";switch(ze.name){case"Not Interested":Be="Handle objections from customers who are not interested in the service";break;case"Spouse Consultation":Be="Manage situations where spouse approval is needed";break;case"One Legger":Be="Handle single decision-maker scenarios";break;case"Not Ready":Be="Address customers who need more time to decide";break;case"Curious":Be="Engage with customers who are interested but have questions";break;case"Time Concern":Be="Handle scheduling and timing-related objections";break;case"Can't Afford":Be="Address budget and pricing concerns";break;case"Spouse":Be="Manage situations requiring spouse involvement";break;case"Price Phone":Be="Handle price-related phone inquiries";break;case"Repair":Be="Address repair and maintenance concerns";break;case"Government Grants":Be="Information about government assistance programs";break;case"Reset Appointment":Be="Handle appointment rescheduling requests";break;case"No Request":Be="Manage situations with no specific request";break;case"Bad Reviews":Be="Address concerns about negative reviews";break;default:Be=`Handle ${ze.name.toLowerCase()} related inquiries`}return{id:ze.id,name:ze.name,description:Be,icon:ze.icon||"📋",color:ze.color||"#808080",items:ut.map(Me=>{let jt={pt1:"",pt2:""};return typeof Me.response=="string"?jt.pt1=Me.response:Me.response&&typeof Me.response=="object"&&(jt={pt1:Me.response.pt1||Me.response.initial||Me.response.part1||"",pt2:Me.response.pt2||Me.response.followup||Me.response.part2||""}),jt.pt1||(jt.pt1=Me.objection||""),{id:Me.id,title:Me.title,description:Me.description||Me.objection||Me.summary||"",category:ze.id,content:jt,steps:Me.steps||["Listen to customer concerns","Address specific needs","Present solution","Follow up as needed"],tips:Me.tips||["Be professional and courteous","Focus on customer needs","Provide clear information"]}})}});console.log("Transformed categories:",rt),ye(rt),M(rt)});return b(!1),()=>Te()}catch(se){console.error("Error loading data:",se),b(!1)}})()},[]);const dr=Z=>{if(T(Z),X(!1),Z.items&&Z.items.length>0){const se=Z.items[0];$({...se,content:{pt1:typeof se.content=="string"?se.content:se.content.pt1||"",pt2:typeof se.content=="string"?"":se.content.pt2||""}}),z(!0),ue(!0)}},Hr=Z=>{$({...Z,content:{pt1:typeof Z.content=="string"?Z.content:Z.content.pt1||"",pt2:typeof Z.content=="string"?"":Z.content.pt2||""}}),z(!0),ue(!0)},$n=()=>K?n.jsxs("div",{className:"category-content active",children:[n.jsxs("div",{className:"category-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"category-icon",children:K.icon}),K.name]}),n.jsx("p",{className:"category-description",children:K.description})]}),n.jsx("div",{className:"category-items",children:K.items.map(Z=>n.jsxs("div",{className:"category-item",onClick:()=>Hr(Z),children:[n.jsx("h3",{children:Z.title}),n.jsx("p",{children:Z.description})]},Z.id))})]}):n.jsxs("div",{className:"no-categories",children:[n.jsx("div",{className:"no-categories-icon",children:n.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M3 9H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 21V9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("h3",{children:"No Category Selected"}),n.jsx("p",{children:"Please select a category from the list to view its contents"})]}),Qn=()=>n.jsxs("div",{className:"simple-mode-container",children:[n.jsxs("div",{className:"quick-navigation",children:[n.jsx("div",{className:"quick-nav-header",children:n.jsx("h2",{children:"Categories"})}),n.jsx("div",{className:"quick-nav-grid",children:H.map(Z=>n.jsx("div",{className:`quick-nav-card ${K?.id===Z.id?"active":""}`,"data-category":Z.id,onClick:()=>dr(Z),children:n.jsxs("div",{className:"quick-nav-card-content",children:[n.jsx("div",{className:"quick-nav-icon",children:Z.icon}),n.jsxs("div",{className:"quick-nav-info",children:[n.jsx("h3",{children:Z.name}),n.jsx("p",{className:"quick-nav-description",children:Z.description})]})]})},Z.id))})]}),n.jsx("div",{className:"simple-mode-grid",children:$n()})]});m.useEffect(()=>{const Z=se=>{const Ae=document.querySelector(".search-container");Ae&&!Ae.contains(se.target)&&(_(!1),f(!1))};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]),m.useEffect(()=>{const Z=JSON.parse(localStorage.getItem("adminUser"));q(Z)},[]);const oi=()=>{localStorage.removeItem("adminUser"),q(null),i("/")},Us=()=>{i("/admin/dashboard")};return m.useEffect(()=>{(async()=>{try{const se=await Xa.getAllRebuttals();v(se)}catch(se){console.error("Error loading rebuttals:",se)}})()},[]),m.useEffect(()=>{const Z=se=>{(se.ctrlKey||se.metaKey)&&se.shiftKey&&se.key.toLowerCase()==="l"&&(se.preventDefault(),i("/admin/login"))};return window.addEventListener("keydown",Z),()=>{window.removeEventListener("keydown",Z)}},[i]),n.jsxs("div",{className:"home-container",children:[U?n.jsxs("div",{className:"admin-controls",children:[n.jsxs("button",{onClick:Us,className:"admin-dashboard-btn",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M3 13H11V3H3V13ZM3 21H11V15H3V21ZM13 21H21V11H13V21ZM13 3V9H21V3H13Z",fill:"currentColor"})}),"Dashboard"]}),n.jsxs("button",{onClick:oi,className:"admin-logout-btn",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",fill:"currentColor"})}),"Logout"]})]}):null,Wr(),n.jsxs("div",{className:"home-content",children:[n.jsx("div",{className:"home-hero",children:n.jsxs("div",{className:"hero-content",children:[n.jsxs("div",{className:"hero-logo",children:[n.jsx("span",{className:"logo-icon",children:"🏠"}),n.jsxs("h1",{className:"hero-title",children:["Long Home ",n.jsx("span",{className:"title-accent",children:"Rebuttal Hub"})]})]}),n.jsx("p",{className:"hero-subtitle",children:"Your intelligent assistant for mastering appointment setting, objection handling, and customer service excellence"})]})}),Qn()]})]})},ll=({title:i,subtitle:c})=>{const a=cr(),u=h=>a.pathname===h;return n.jsx("header",{className:"page-header",children:n.jsx("div",{className:"header-content",children:n.jsxs("div",{className:"header-main",children:[n.jsxs("div",{className:"header-text",children:[n.jsx("h1",{className:"header-title",children:i}),c&&n.jsx("p",{className:"header-subtitle",children:c})]}),n.jsxs("nav",{className:"header-nav",children:[n.jsxs(Ko,{to:"/",className:`nav-link ${u("/")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),n.jsxs(Ko,{to:"/rebuttals",className:`nav-link ${u("/rebuttals")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),n.jsxs(Ko,{to:"/disposition",className:`nav-link ${u("/disposition")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),n.jsxs(Ko,{to:"/customerService",className:`nav-link ${u("/customerService")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]})]})]})})})},Xm=["Listen actively and acknowledge the customer's concerns","Stay calm and professional throughout the conversation","Use positive language and focus on solutions","Be prepared with relevant information and examples","Follow up appropriately if needed"],ef=({onNavigate:i,searchQuery:c})=>{const[a,u]=m.useState("all"),[h,p]=m.useState(null),[f,y]=m.useState(c||""),[x,E]=m.useState(!1),[w,N]=m.useState(!1),[F,W]=m.useState(null),[_,O]=m.useState([]),[I,V]=m.useState(!1),[$,L]=m.useState(-1),[z,re]=m.useState([]),[X,pe]=m.useState(!0),[ue,Le]=m.useState([]),[Fe,te]=m.useState({}),[fe,H]=m.useState(null),[ye,ke]=m.useState({});m.useEffect(()=>{if(x)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[x]),m.useEffect(()=>{const C=Ie(je(ie,"rebuttals"),it("createdAt","desc")),R=hd(C,Q=>{const ae=Q.docs.map(Se=>({id:Se.id,...Se.data()}));console.log("Firestore rebuttals:",ae),re(ae),pe(!1)},Q=>{console.error("Error listening to rebuttals:",Q),pe(!1)});return()=>R()},[]),m.useEffect(()=>{(async()=>{try{pe(!0);const R=await Xa.getAllRebuttals();console.log("Raw rebuttals data:",R),re(R);const Q=await Xa.getCategories();console.log("Raw categories data:",Q);const ae=Q.reduce((Re,Oe)=>{const Ft=Oe.name.toLowerCase().replace(/\s+/g,"-");return Re[Ft]=Oe.id,Re[Oe.name.toLowerCase()]=Oe.id,console.log(`Mapping category: ${Oe.name} -> ${Oe.id}`),Re},{}),Se=Q.reduce((Re,Oe)=>(Re[Oe.id]=Oe.name,console.log(`Reverse mapping: ${Oe.id} -> ${Oe.name}`),Re),{}),nt=R.map(Re=>{if(Re.category){let Oe=Re.category;if(Se[Oe])return console.log(`Rebuttal "${Re.title}" already has valid category ID: ${Oe}`),Re;const Ft=Re.category.toLowerCase().replace(/\s+/g,"-");if(Oe=ae[Ft],Oe||(Oe=ae[Re.category.toLowerCase()]),Oe)return console.log(`Mapped rebuttal "${Re.title}" from category "${Re.category}" to ID: ${Oe}`),{...Re,category:Oe};console.log(`No matching category ID found for rebuttal "${Re.title}" with category "${Re.category}"`)}return Re});console.log("Updated rebuttals with category mappings:",nt.map(Re=>({title:Re.title,originalCategory:Re.category,mappedCategory:Se[Re.category]}))),re(nt);const Ze=[{id:"all",name:"All Categories",icon:"📋",color:"gray"},...Q.map(Re=>({id:Re.id,name:Re.name,icon:Re.icon||"📋",color:b(Re.id)}))];Le(Ze),console.log("Category Mapping:",{nameToId:ae,idToName:Se,rebuttals:nt.map(Re=>({title:Re.title,category:Re.category,categoryName:Se[Re.category]}))}),pe(!1)}catch(R){console.error("Error fetching data:",R),H("Failed to load rebuttals and categories"),pe(!1)}})()},[]);const b=C=>{const R=["red","blue","green","yellow","purple","pink","orange","teal","indigo","cyan"],Q=C.split("").reduce((ae,Se)=>ae+Se.charCodeAt(0),0);return R[Q%R.length]};ue.filter(C=>C.id!=="all").map(C=>C.id),z.filter(C=>C.isUrgent).map(C=>({id:C.id,topic:"rebuttals",title:C.title,description:C.summary,steps:C.steps||[],tips:C.tips||[],keywords:C.tags||[],isUrgent:!0}));const B=(C,R)=>{let Q;return function(...Se){const nt=()=>{clearTimeout(Q),C(...Se)};clearTimeout(Q),Q=setTimeout(nt,R)}},M=(C,R)=>{const Q=C.toLowerCase().split(" "),ae=R.toLowerCase().split(" ");let Se=0;return Q.forEach(nt=>{ae.forEach(Ze=>{(Ze.includes(nt)||nt.includes(Ze))&&(Se+=1)})}),Se/Q.length},U=C=>{if(!C.trim()){O([]);return}const R=[];C.toLowerCase().split(" "),z.forEach(Q=>{const ae=M(C,Q.title),Se=M(C,Q.summary),nt=Q.tags.reduce((Ft,Vn)=>Ft+M(C,Vn),0)/Q.tags.length,Ze=Q.content.pt1?M(C,Q.content.pt1):0,Re=Q.content.pt2?M(C,Q.content.pt2):0,Oe=Math.max(ae*2,Se,nt,Ze,Re);Oe>.3&&R.push({...Q,relevanceScore:Oe})}),R.sort((Q,ae)=>ae.relevanceScore-Q.relevanceScore),O(R)},q=m.useCallback(B(C=>{U(C)},300),[]),k=C=>{const R=C.target.value;y(R),V(!0),L(-1),q(R)},v=C=>{y(C.title),V(!1),p(C),E(!0)},K=m.useMemo(()=>a==="all"?z:z.filter(C=>C.category===a),[a,z]);m.useEffect(()=>{const C=z.reduce((R,Q)=>{const ae=Q.category||"uncategorized";return R[ae]||(R[ae]={count:0,rebuttals:[]}),R[ae].count++,R[ae].rebuttals.push(Q.title),R},{});console.log("Category Update:",{selectedCategory:a,totalRebuttals:z.length,filteredCount:K.length,categoryCount:C[a]?.count||0})},[a,z,K]);const T=C=>{p(C),E(!0)},ne=()=>{E(!1),p(null)},de=C=>{if(!C)return null;let R="",Q="";typeof C=="string"?R=C:typeof C=="object"&&(R=C.pt1||"",Q=C.pt2||"");const ae=()=>R.toLowerCase().includes("price")||R.toLowerCase().includes("cost")?"💰 Value-Focused Response":R.toLowerCase().includes("time")||R.toLowerCase().includes("schedule")?"⏰ Time Management Solution":R.toLowerCase().includes("spouse")||R.toLowerCase().includes("partner")?"👥 Spouse/Partner Engagement":R.toLowerCase().includes("not ready")||R.toLowerCase().includes("later")?"🎯 Immediate Value Proposition":R.toLowerCase().includes("not interested")?"💡 Interest Building Approach":"🎯 Primary Response Strategy",Se=()=>Q.toLowerCase().includes("price")||Q.toLowerCase().includes("cost")?"💎 Enhanced Value Offer":Q.toLowerCase().includes("time")||Q.toLowerCase().includes("schedule")?"⚡ Flexible Scheduling Options":Q.toLowerCase().includes("spouse")||Q.toLowerCase().includes("partner")?"🤝 Joint Decision Support":Q.toLowerCase().includes("not ready")||Q.toLowerCase().includes("later")?"✨ Urgency Creation":Q.toLowerCase().includes("not interested")?"🌟 Interest Reinforcement":"🔄 Advanced Response Strategy";return n.jsxs("div",{className:"rebuttal-content-sections",children:[R&&n.jsxs("div",{className:"rebuttal-section",children:[n.jsx("h4",{className:"rebuttal-section-title",children:ae()}),n.jsx("p",{className:"modal-content-text",children:R})]}),n.jsxs("div",{className:"rebuttal-section",children:[n.jsx("h4",{className:"rebuttal-section-title",children:Se()}),n.jsx("p",{className:"modal-content-text",children:Q||"No follow-up response available."})]})]})},be=m.useCallback(C=>{const R={};return ue.forEach(Q=>{Q.id!=="all"&&(R[Q.id]={count:0,totalViews:0,lastUpdated:null,tags:new Set,commonKeywords:new Map})}),C.forEach(Q=>{const ae=Q.category;if(ae&&R[ae]){if(R[ae].count++,Q.tags&&Array.isArray(Q.tags)&&Q.tags.forEach(Ze=>R[ae].tags.add(Ze)),Q.updatedAt){const Ze=new Date(Q.updatedAt);(!R[ae].lastUpdated||Ze>new Date(R[ae].lastUpdated))&&(R[ae].lastUpdated=Q.updatedAt)}`${Q.title} ${Q.summary||""} ${Q.content?.pt1||""} ${Q.content?.pt2||""}`.toLowerCase().split(/\W+/).forEach(Ze=>{Ze.length>3&&R[ae].commonKeywords.set(Ze,(R[ae].commonKeywords.get(Ze)||0)+1)})}}),Object.keys(R).forEach(Q=>{R[Q].tags=Array.from(R[Q].tags),R[Q].commonKeywords=Array.from(R[Q].commonKeywords.entries()).sort((ae,Se)=>Se[1]-ae[1]).slice(0,5).map(([ae,Se])=>({word:ae,count:Se}))}),R},[ue]);m.useEffect(()=>{if(z.length>0&&ue.length>0){const C=be(z);te(C)}},[z,ue,be]);const Ee=({category:C})=>{if(C==="all"||!Fe[C])return null;const R=Fe[C],Q=ue.find(ae=>ae.id===C);return n.jsxs("div",{className:"category-insights",children:[n.jsxs("div",{className:"insights-header",children:[n.jsx("span",{className:"category-icon",children:Q?.icon||"📊"}),n.jsxs("h3",{children:[Q?.name||C," Insights"]})]}),n.jsxs("div",{className:"insights-grid",children:[n.jsxs("div",{className:"insight-card",children:[n.jsx("div",{className:"insight-icon",children:"📚"}),n.jsx("div",{className:"insight-value",children:R.count}),n.jsx("div",{className:"insight-label",children:"Total Rebuttals"})]}),n.jsxs("div",{className:"insight-card",children:[n.jsx("div",{className:"insight-icon",children:"🏷️"}),n.jsx("div",{className:"insight-value",children:R.tags.length}),n.jsx("div",{className:"insight-label",children:"Unique Tags"})]}),n.jsxs("div",{className:"insight-card",children:[n.jsx("div",{className:"insight-icon",children:"🔄"}),n.jsx("div",{className:"insight-value",children:R.lastUpdated?new Date(R.lastUpdated.seconds*1e3).toLocaleDateString():"N/A"}),n.jsx("div",{className:"insight-label",children:"Last Updated"})]})]}),R.tags.length>0&&n.jsxs("div",{className:"insights-tags",children:[n.jsx("h4",{children:"Common Tags"}),n.jsx("div",{className:"tag-cloud",children:R.tags.map(ae=>n.jsx("span",{className:"tag",children:ae},ae))})]}),R.commonKeywords.length>0&&n.jsxs("div",{className:"insights-keywords",children:[n.jsx("h4",{children:"Common Keywords"}),n.jsx("div",{className:"keyword-list",children:R.commonKeywords.map(({word:ae,count:Se})=>n.jsxs("div",{className:"keyword-item",children:[n.jsx("span",{className:"keyword",children:ae}),n.jsx("span",{className:"count",children:Se})]},ae))})]})]})};return n.jsxs("div",{className:"library-container",children:[n.jsx(ll,{title:"Rebuttal Library",subtitle:"Access and manage your collection of rebuttals"}),n.jsx("div",{className:"library-content",children:X?n.jsxs("div",{className:"library-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading rebuttals..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"library-header",children:[n.jsx("h1",{className:"library-title",children:"Call Center Rebuttals"}),n.jsx("div",{className:"header-navigation",children:n.jsxs("div",{className:"quick-nav",children:[n.jsxs("button",{onClick:()=>i("home"),className:"nav-button home-button",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),n.jsxs("button",{onClick:()=>i("rebuttals"),className:`nav-button ${window.location.pathname.includes("rebuttals")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),n.jsxs("button",{onClick:()=>i("disposition"),className:`nav-button ${window.location.pathname.includes("disposition")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 3H15V5H9V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),n.jsxs("button",{onClick:()=>i("customerService"),className:`nav-button ${window.location.pathname.includes("customerService")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]})]})})]}),n.jsxs("div",{className:"search-container",children:[n.jsxs("div",{className:"search-input-wrapper",children:[n.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M21 21l-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.jsx("input",{type:"text",placeholder:"Search rebuttals...",value:f,onChange:k,className:"search-input","aria-label":"Search rebuttals"}),f&&n.jsx("button",{onClick:()=>{y(""),V(!1),O([])},className:"clear-search-button","aria-label":"Clear search",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),I&&_.length>0&&n.jsx("div",{className:"search-suggestions-dropdown",children:_.map((C,R)=>n.jsxs("div",{className:`suggestion-item ${R===$?"selected":""}`,onClick:()=>v(C),children:[n.jsx("span",{className:"suggestion-icon",children:C.icon||"💬"}),n.jsxs("div",{className:"suggestion-content",children:[n.jsx("h4",{children:C.title}),n.jsx("p",{children:C.description})]})]},C.id))}),f&&n.jsxs("div",{className:"search-results-count",children:[K.length," result",K.length!==1?"s":""," found"]})]}),n.jsxs("div",{className:"library-layout",children:[n.jsxs("div",{className:"library-sidebar",children:[n.jsx("h2",{className:"library-sidebar-title",children:"Categories"}),n.jsx("div",{className:"library-categories",children:ue.map(C=>n.jsxs("button",{onClick:()=>{u(C.id)},className:`library-category-button ${a===C.id?"active":""} ${C.color}`,children:[n.jsx("span",{className:"category-icon",children:C.icon}),n.jsx("span",{className:"category-name",children:C.name})]},C.id))})]}),n.jsxs("div",{className:"library-main",children:[a!=="all"&&n.jsx(Ee,{category:a}),f.toLowerCase()==="common objections"&&n.jsxs("div",{className:"common-objections-header",children:[n.jsx("h2",{className:"common-objections-title",children:"Most Common Objections & Smart Tips"}),n.jsxs("div",{className:"smart-tips-container",children:[n.jsxs("div",{className:"smart-tip",children:[n.jsx("span",{className:"tip-icon",children:"💡"}),n.jsx("strong",{children:"Pro Tip:"})," Always acknowledge the customer's concern before presenting your rebuttal"]}),n.jsxs("div",{className:"smart-tip",children:[n.jsx("span",{className:"tip-icon",children:"🎯"}),n.jsx("strong",{children:"Script Strategy:"})," Use Part 1 first, then escalate to Part 2 if needed"]}),n.jsxs("div",{className:"smart-tip",children:[n.jsx("span",{className:"tip-icon",children:"⚡"}),n.jsx("strong",{children:"Quick Response:"})," These 5 objections cover 80% of customer concerns"]})]})]}),K.length===0?n.jsxs("div",{className:"no-rebuttals-message",children:[n.jsx("p",{children:"No rebuttals found in this category."}),n.jsxs("p",{className:"debug-info",children:["Selected Category: ",a]}),n.jsxs("p",{className:"debug-info",children:["Total Rebuttals: ",z.length]}),n.jsxs("p",{className:"debug-info",children:["Available Categories: ",z.map(C=>C.category).filter((C,R,Q)=>Q.indexOf(C)===R).join(", ")]})]}):K.map(C=>n.jsx("div",{className:"library-rebuttal-card",onClick:()=>T(C),children:n.jsx("div",{className:"library-rebuttal-content",children:n.jsxs("div",{className:"library-rebuttal-info",children:[n.jsx("h3",{className:"library-rebuttal-title",children:C.title}),n.jsx("p",{className:"library-rebuttal-summary",children:C.summary}),n.jsx("div",{className:"library-rebuttal-tags",children:C.tags.map(R=>n.jsx("span",{className:"library-rebuttal-tag",children:R},R))})]})})},C.id))]})]})]})}),x&&h&&n.jsx("div",{className:"modal-overlay",onClick:ne,children:n.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"modal-header-content",children:[n.jsx("h2",{className:"modal-title",children:h.title}),n.jsxs("div",{className:"modal-id",children:["ID: ",h.id]})]}),n.jsx("button",{onClick:ne,className:"modal-close-button",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("div",{className:"modal-tags",children:h.tags&&h.tags.map(C=>n.jsxs("span",{className:"modal-tag",children:["#",C]},C))}),n.jsxs("div",{className:"modal-summary",children:[n.jsxs("div",{className:"modal-section-header",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.jsx("h3",{children:"Situation Overview"})]}),n.jsx("p",{className:"modal-summary-text",children:h.situationOverview||h.summary||h.objection||"No situation overview available."})]}),n.jsxs("div",{className:"modal-rebuttal-content",children:[n.jsxs("div",{className:"modal-section-header",children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),n.jsx("h3",{children:"Rebuttal Responses"})]}),de(h.content||h.response)]}),n.jsxs("div",{className:"modal-tips",children:[n.jsxs("div",{className:"modal-section-header",children:[n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})}),n.jsx("h3",{children:"Pro Tips & Best Practices"})]}),n.jsxs("div",{className:"modal-tips-content",children:[n.jsx("div",{className:"tips-grid",children:(h.tips&&h.tips.length>0?h.tips:Xm).map((C,R)=>n.jsxs("div",{className:"tip-card",children:[n.jsxs("div",{className:"tip-card-header",children:[n.jsx("div",{className:"tip-icon-wrapper",children:n.jsx("span",{className:"tip-icon",children:R===0?"🎯":R===1?"💡":R===2?"⚡":R===3?"✨":"🌟"})}),n.jsxs("span",{className:"tip-number",children:["Tip ",R+1]})]}),n.jsx("div",{className:"tip-content",children:n.jsx("p",{className:"tip-text",children:C})})]},R))}),(!h.tips||h.tips.length===0)&&n.jsxs("div",{className:"default-tips-note",children:[n.jsx("div",{className:"default-tips-icon-wrapper",children:n.jsx("span",{className:"default-tips-icon",children:"ℹ️"})}),n.jsxs("div",{className:"default-tips-content",children:[n.jsx("p",{className:"default-tips-title",children:"General Best Practices"}),n.jsx("p",{className:"default-tips-text",children:"These are general best practice tips. Consider adding specific tips for this rebuttal."})]})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsxs("div",{className:"modal-footer-note",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M12 16v-4M12 8h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"💡 Pro Tip: Start with the Initial Response. If customer still objects, use the Follow-up Response"]}),n.jsx("button",{onClick:ne,className:"modal-close-footer-button",children:"Close"})]})]})})]})},tf=`
.category-insights {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.insights-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.insights-header h3 {
  margin: 0;
  font-size: 1.2rem;
  color: #333;
}

.insights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
  margin-bottom: 20px;
}

.insight-card {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
  text-align: center;
}

.insight-icon {
  font-size: 1.5rem;
  margin-bottom: 8px;
}

.insight-value {
  font-size: 1.5rem;
  font-weight: bold;
  color: #2c3e50;
  margin-bottom: 4px;
}

.insight-label {
  font-size: 0.9rem;
  color: #666;
}

.insights-tags, .insights-keywords {
  margin-top: 24px;
  background: #f8f9fa;
  border-radius: 12px;
  padding: 20px;
}

.insights-tags h4, .insights-keywords h4 {
  margin: 0 0 16px 0;
  font-size: 1.1rem;
  color: #2c3e50;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.insights-tags h4::before {
  content: '🏷️';
}

.insights-keywords h4::before {
  content: '🔍';
}

.tag-cloud {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.tag {
  background: #e3f2fd;
  color: #1976d2;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  transition: all 0.2s ease;
  border: 1px solid #bbdefb;
}

.tag:hover {
  background: #bbdefb;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.keyword-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.keyword-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 16px;
  background: white;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
  transition: all 0.2s ease;
}

.keyword-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.keyword {
  font-weight: 500;
  color: #2c3e50;
  font-size: 0.95rem;
}

.count {
  background: #e3f2fd;
  color: #1976d2;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 0.85rem;
  font-weight: 600;
  min-width: 32px;
  text-align: center;
}

.modal-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
}

.modal-tag {
  background: #e3f2fd;
  color: #1976d2;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  border: 1px solid #bbdefb;
  transition: all 0.2s ease;
}

.modal-tag:hover {
  background: #bbdefb;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.modal-summary {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.modal-section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 2px solid #e3f2fd;
}

.modal-section-header svg {
  color: #1976d2;
}

.modal-section-header h3 {
  margin: 0;
  font-size: 1.2rem;
  color: #2c3e50;
  font-weight: 600;
}

.modal-summary-text {
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin: 0;
  padding: 0 4px;
}

.modal-rebuttal-content {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.rebuttal-content-sections {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.rebuttal-section {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
  border: 1px solid #e0e0e0;
}

.rebuttal-section-title {
  color: #1976d2;
  font-size: 1.1rem;
  font-weight: 600;
  margin: 0 0 12px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.modal-content-text {
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin: 0;
}

.modal-tips {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.tip-card {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
  border: 1px solid #e0e0e0;
  transition: all 0.2s ease;
}

.tip-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.tip-card-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.tip-icon-wrapper {
  background: #e3f2fd;
  color: #1976d2;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
}

.tip-number {
  font-weight: 600;
  color: #2c3e50;
}

.tip-text {
  margin: 0;
  color: #333;
  line-height: 1.5;
}

.modal-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 0;
  border-top: 1px solid #e0e0e0;
  margin-top: 24px;
}

.modal-footer-note {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #666;
  font-size: 0.9rem;
}

.modal-close-footer-button {
  background: #1976d2;
  color: white;
  border: none;
  padding: 8px 20px;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.modal-close-footer-button:hover {
  background: #1565c0;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
`,Sd=document.createElement("style");Sd.innerText=tf;document.head.appendChild(Sd);const bd=m.createContext();function ni(){return m.useContext(bd)}function nf({children:i}){const[c,a]=m.useState(null),[u,h]=m.useState(!0),[p,f]=m.useState(null);m.useEffect(()=>{(async()=>{try{console.log("🔍 AuthContext: Starting Firebase initialization..."),await ei(),console.log("🔍 AuthContext: Firebase initialized, setting up auth listener...");const N=localStorage.getItem("adminUser");return console.log("🔍 AuthContext: Stored admin user:",N?JSON.parse(N):"None"),Sp(Pe,async W=>{if(console.log("🔍 AuthContext: Auth state changed:",W?`User logged in (${W.email})`:"No user"),console.log("🔍 AuthContext: User details:",W?{uid:W.uid,email:W.email,emailVerified:W.emailVerified,displayName:W.displayName}:"No user"),W)console.log("🔍 AuthContext: User authenticated via Firebase Auth"),a(W),h(!1);else{if(N){console.log("🔍 AuthContext: No Firebase Auth user, but found stored admin user"),console.log("🔍 AuthContext: Attempting to restore session from localStorage");try{const _=JSON.parse(N);console.log("🔍 AuthContext: Restoring user from localStorage:",_.email),a({uid:_.uid,email:_.email,displayName:_.displayName,emailVerified:_.emailVerified||!1,fromLocalStorage:!0})}catch(_){console.error("🔍 AuthContext: Error parsing stored user:",_),localStorage.removeItem("adminUser"),a(null)}}else console.log("🔍 AuthContext: No user found in Firebase Auth or localStorage"),a(null);h(!1)}},W=>{console.error("🔍 AuthContext: Auth state change error:",W),f(W),h(!1)})}catch(N){console.error("🔍 AuthContext: Firebase initialization error:",N),f(N),h(!1)}})()},[]);const E={currentUser:c,loading:u,error:p,logout:()=>{a(null),localStorage.removeItem("adminUser")},attemptSessionRestoration:async w=>{try{return console.log("🔍 AuthContext: Attempting to restore Firebase Auth session..."),console.log("🔍 AuthContext: Using localStorage for session persistence"),!0}catch(N){return console.error("🔍 AuthContext: Session restoration failed:",N),!1}}};return u?n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[n.jsx("div",{children:"Loading application..."}),n.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Please wait while we initialize Firebase"})]}):p?n.jsxs("div",{style:{padding:"20px",color:"red",maxWidth:"600px",margin:"40px auto",border:"1px solid red",borderRadius:"4px"},children:[n.jsx("h2",{children:"Error Initializing App"}),n.jsx("p",{children:p.message}),n.jsx("p",{children:"Please check your Firebase configuration and try refreshing the page."})]}):n.jsx(bd.Provider,{value:E,children:i})}const Pr=[{id:1,name:"Set Lead",category:"scheduled",description:"Lead has been set and scheduled for an appointment. This is a confirmed appointment where the customer has agreed to meet with a sales representative.",icon:"✅",color:"green",nextSteps:"Confirm appointment details and prepare for visit",tips:["Verify appointment time and date","Confirm customer contact information","Prepare necessary materials","Review customer history","Check for any special requirements"],examples:["Customer agreed to meet on Tuesday at 2 PM","Appointment confirmed for Saturday morning","Customer scheduled for evening consultation"],subcategories:["New Appointment","Rescheduled Appointment","Follow-up Appointment"]},{id:2,name:"Busy",category:"scheduled",description:"Customer is currently too busy to meet but has expressed interest in scheduling for a later time. This indicates potential interest but requires follow-up.",icon:"⏰",color:"yellow",nextSteps:"Schedule follow-up call in 1-2 weeks",tips:["Ask for specific timeframe when they might be available","Note their preferred contact times","Document their current busy period","Suggest alternative meeting times","Offer flexible scheduling options"],examples:["Customer in middle of home renovation","Customer traveling for next two weeks","Customer has family visiting"],subcategories:["Temporarily Busy","Seasonal Busy","Work Schedule Conflict"]},{id:3,name:"Call Back",category:"scheduled",description:"Customer has requested a callback at a specific time. This is a direct request for follow-up communication.",icon:"📞",color:"blue",nextSteps:"Schedule callback within 24-48 hours",tips:["Get specific time preference","Confirm phone number","Note reason for callback","Set reminder for callback time","Prepare relevant information for callback"],examples:["Customer will be home after 6 PM","Customer needs to check schedule first","Customer requested weekend callback"],subcategories:["Time-Specific Callback","Information Gathering Callback","Decision Maker Callback"]},{id:4,name:"Closing Home Soon",category:"scheduled",description:"Customer is in the process of closing on their new home and wants to schedule after the closing is complete. This indicates high potential as they are actively in the home buying process.",icon:"🏡",color:"orange",nextSteps:"Follow up after closing date",tips:["Get expected closing date","Set reminder for post-closing contact","Document new home details","Prepare post-closing follow-up plan","Note any specific requirements for new home"],examples:["Closing scheduled for next month","Waiting for final loan approval","Home inspection pending"],subcategories:["Pending Closing","Post-Closing Follow-up","New Home Owner"]},{id:5,name:"Speak to Spouse",category:"scheduled",description:"Customer needs to consult with their spouse or partner before making a decision. This is common for major home improvement decisions.",icon:"💑",color:"pink",nextSteps:"Follow up in 24-48 hours",tips:["Encourage scheduling when both can attend","Offer evening/weekend times","Prepare information for both decision makers","Document spouse's availability","Note any specific concerns to address"],examples:["Spouse out of town until weekend","Need to discuss budget together","Waiting for partner's input on style"],subcategories:["Joint Decision Required","Spouse Consultation","Family Decision"]},{id:6,name:"Not Set",category:"scheduled",description:"Initial contact made but no appointment set. This requires follow-up with a different approach or timing.",icon:"🔄",color:"gray",nextSteps:"Standard follow-up protocol",tips:["Note reason for no appointment","Try different approach next call","Document best contact times","Identify potential objections","Plan alternative presentation"],examples:["Customer needs to think about it","Timing not right","Need more information"],subcategories:["Initial Contact","Pending Decision","Information Gathering"]},{id:7,name:"Cancelled",category:"cancelled",description:"Appointment was cancelled",icon:"🚫",color:"red",nextSteps:"Document cancellation reason and reschedule if possible",tips:["Record cancellation reason","Offer alternative dates","Update scheduling system"]},{id:8,name:"Rescheduled",category:"rescheduled",description:"Appointment has been rescheduled",icon:"🔄",color:"orange",nextSteps:"Confirm new appointment details",tips:["Verify new date and time","Update all systems","Send confirmation to customer"]},{id:9,name:"Gov/Free",category:"not-qualified",description:"Only interested in free products/government aid",icon:"🏛️",color:"cyan",nextSteps:"Mark as not qualified",tips:["Explain our services are not government funded","Offer information about financing options"]},{id:10,name:"No Interest/Time",category:"not-qualified",description:"Not interested or too busy",icon:"❌",color:"red",nextSteps:"Mark as not interested, possible future contact",tips:["Try to understand their specific concerns","Leave door open for future needs"]},{id:11,name:"One Leg",category:"not-qualified",description:"Refuses to involve spouse or decision-maker",icon:"👤",color:"indigo",nextSteps:"Attempt spouse inclusion or mark not qualified",tips:["Explain importance of joint decisions","Offer to speak with both parties"]},{id:12,name:"Price Over Phone",category:"not-qualified",description:"Wants a ballpark price only",icon:"💰",color:"green",nextSteps:"Explain need for in-home estimate",tips:["Emphasize accuracy of in-person quote","Mention free consultation value"]},{id:13,name:"Repair Only",category:"not-qualified",description:"Customer is only interested in repair services or tub liner installation, not a full replacement. This may indicate a need for education about full replacement benefits.",icon:"🔧",color:"brown",nextSteps:"Explain full replacement benefits or refer to repair services",tips:["Compare repair vs replacement costs","Highlight long-term value","Address common misconceptions","Provide repair service information","Document repair requirements"],examples:["Only wants to fix current issues","Budget constraints","Temporary solution needed"],subcategories:["Repair Service","Tub Liner","Partial Solution"]},{id:14,name:"Unqualified",category:"not-qualified",description:"Lead does not meet basic qualification criteria for our services. This could be due to various factors such as location, property type, or budget constraints.",icon:"🚫",color:"red",nextSteps:"Mark as unqualified, no further contact",tips:["Document reason for disqualification","Ensure proper categorization","Note any potential future qualification","Update CRM records","Remove from active leads"],examples:["Outside service area","Property type not suitable","Budget below minimum threshold"],subcategories:["Location Unqualified","Property Unqualified","Budget Unqualified"]},{id:15,name:"Already Completed",category:"not-qualified",description:"Customer has already completed the project with another provider or has no need for our services.",icon:"✅",color:"green",nextSteps:"Remove from active leads",tips:["Confirm completion details","Ask about other potential projects","Document competitor information","Note any future needs","Update customer status"],examples:["Project completed last month","Using different solution","No longer interested"],subcategories:["Project Completed","Alternative Solution","No Longer Interested"]},{id:16,name:"Commercial",category:"not-qualified",description:"Lead is for a commercial property or church, which may require different services or pricing structures.",icon:"🏢",color:"blue",nextSteps:"Refer to commercial division if available",tips:["Confirm property type","Get decision maker contact info","Document commercial requirements","Note any special considerations","Prepare commercial service information"],examples:["Church property","Office building","Retail location"],subcategories:["Religious Property","Business Property","Institutional Property"]},{id:17,name:"DNC",category:"not-qualified",description:"Customer has requested to be placed on the Do Not Call list. This must be respected immediately and documented properly.",icon:"🔇",color:"red",nextSteps:"Add to do not call list immediately",tips:["Respect request immediately","Update all systems accordingly","Document DNC request","Remove from all marketing lists","Note reason if provided"],examples:["Explicit DNC request","Legal requirement","Customer preference"],subcategories:["Explicit DNC","Legal DNC","Temporary DNC"]},{id:18,name:"Insurance",category:"external",description:"Customer has an open insurance claim that needs to be resolved before proceeding with our services.",icon:"🛡️",color:"blue",nextSteps:"Follow up after claim resolution",tips:["Get claim timeline","Offer to work with insurance if applicable","Document claim details","Note insurance company information","Prepare insurance-related materials"],examples:["Water damage claim","Property damage claim","Insurance inspection pending"],subcategories:["Active Claim","Pending Approval","Claim Resolution"]},{id:19,name:"Job Inquiry",category:"not-qualified",description:"Looking for work, not a lead",icon:"💼",color:"purple",nextSteps:"Refer to HR or mark as not qualified",tips:["Direct to appropriate department","Be polite but clear about purpose"]},{id:20,name:"Language Barrier",category:"technical",description:"Unable to communicate",icon:"🗣️",color:"orange",nextSteps:"Attempt translator or bilingual rep",tips:["Try scheduling bilingual representative","Use translation services if available"]},{id:21,name:"Did Not Submit",category:"not-qualified",description:"Claims they didn't request info",icon:"❓",color:"yellow",nextSteps:"Verify lead source and remove if confirmed",tips:["Explain where info came from","Apologize and remove if legitimate"]},{id:22,name:"Out of Area",category:"not-qualified",description:"Outside our market",icon:"📍",color:"red",nextSteps:"Confirm location and mark not serviceable",tips:["Verify exact address","Apologize and explain service area"]},{id:23,name:"Out of Scope",category:"not-qualified",description:"Mobile home or similar we can't service",icon:"🏕️",color:"brown",nextSteps:"Explain service limitations",tips:["Clarify property type","Refer to specialists if possible"]},{id:24,name:"Renter",category:"not-qualified",description:"Can't give landlord info",icon:"🏠",color:"gray",nextSteps:"Attempt to get landlord contact or mark not qualified",tips:["Explain need for owner permission","Offer to contact landlord directly"]},{id:25,name:"Wrong Number",category:"technical",description:"Lead confirmed number is incorrect",icon:"📞",color:"red",nextSteps:"Update contact info or mark as bad lead",tips:["Try to get correct number","Verify lead source accuracy"]}],Pt="dispositions",yn=()=>{if(!ie)throw new Error("Firebase is not properly initialized. Please check your Firebase configuration.")},Ka=()=>{if(!Pe.currentUser)throw new Error("User must be authenticated to perform this action");return Pe.currentUser},Fr={getAllDispositions:async()=>{try{yn();const i=Ie(je(ie,Pt),it("createdAt","desc")),c=await xe(i);return c.empty?(console.log("No dispositions found, initializing defaults..."),await Fr.initializeDefaultDispositions(),(await xe(i)).docs.map(u=>({id:u.id,...u.data()}))):c.docs.map(a=>({id:a.id,...a.data()}))}catch(i){throw console.error("Error fetching dispositions:",i),i}},getDispositionsByCategory:async i=>{try{yn(),console.log(`Fetching dispositions for category: ${i}`);const c=Ie(je(ie,Pt),en("category","==",i),it("createdAt","desc")),u=(await xe(c)).docs.map(h=>({id:h.id,...h.data()}));return console.log(`Successfully fetched ${u.length} dispositions for category ${i}`),u}catch(c){throw console.error("Error fetching dispositions by category:",c),c}},searchDispositions:async i=>{try{yn(),console.log("Searching dispositions...");const c=Ie(je(ie,Pt),it("createdAt","desc"));return(await xe(c)).docs.map(h=>({id:h.id,...h.data()})).filter(h=>{const p=i.toLowerCase();return h.name?.toLowerCase().includes(p)||h.description?.toLowerCase().includes(p)||h.category?.toLowerCase().includes(p)||h.nextSteps?.toLowerCase().includes(p)||h.tips?.some(f=>f.toLowerCase().includes(p))})}catch(c){throw console.error("Error searching dispositions:",c),c}},addDisposition:async i=>{try{yn();const c=Ka();return(await Wt(je(ie,Pt),{...i,createdBy:c.uid,createdAt:xn(),updatedAt:xn()})).id}catch(c){throw console.error("Error adding disposition:",c),c}},updateDisposition:async(i,c)=>{try{yn();const a=Ka(),u=Ce(ie,Pt,i);await wt(u,{...c,updatedBy:a.uid,updatedAt:xn()})}catch(a){throw console.error("Error updating disposition:",a),a}},deleteDisposition:async i=>{try{yn(),Ka();const c=Ce(ie,Pt,i);await Vt(c)}catch(c){throw console.error("Error deleting disposition:",c),c}},debugListDispositions:async()=>{try{console.log("Debug: Listing all dispositions...");const i=Ie(je(ie,Pt)),c=await xe(i);return console.log(`Debug: Found ${c.size} dispositions in database:`),c.docs.forEach(a=>{console.log(`- ${a.data().name} (${a.data().category})`)}),c.docs.map(a=>({id:a.id,...a.data()}))}catch(i){throw console.error("Debug: Error listing dispositions:",i),i}},initializeDefaultDispositions:async()=>{try{if(console.log("Starting to initialize default dispositions..."),yn(),!Pe.currentUser)throw new Error("User must be authenticated to initialize dispositions");const c=await xe(je(ie,Pt));if(console.log(`Found ${c.size} existing dispositions`),c.size>0){console.log("Deleting existing dispositions...");const u=Ht(ie);c.docs.forEach(h=>{u.delete(h.ref)}),await u.commit(),console.log("Successfully deleted existing dispositions")}console.log("Adding all default dispositions...");const a=Ht(ie);return Pr.forEach(u=>{const h=Ce(je(ie,Pt));a.set(h,{...u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),await a.commit(),console.log(`Successfully added ${Pr.length} default dispositions`),Pr.length}catch(i){throw console.error("Error initializing default dispositions:",i),i}},forceReinitializeDispositions:async()=>{try{if(console.log("Force reinitializing all dispositions..."),yn(),!Pe.currentUser)throw new Error("User must be authenticated to initialize dispositions");const c=Ie(je(ie,Pt)),a=await xe(c);if(console.log(`Found ${a.size} existing dispositions to delete`),a.size>0){const f=Ht(ie);a.docs.forEach(y=>{f.delete(y.ref)}),await f.commit(),console.log("Successfully deleted all existing dispositions")}console.log("Adding all dispositions from dispositions.js...");const u=Ht(ie);Pr.forEach(f=>{const y=Ce(je(ie,Pt));u.set(y,{...f,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),await u.commit(),console.log(`Successfully added ${Pr.length} dispositions`);const h=Ie(je(ie,Pt)),p=await xe(h);return console.log(`Verification: Found ${p.size} dispositions in database`),p.size}catch(i){throw console.error("Error force reinitializing dispositions:",i),i}},getDispositionCategories:async()=>{try{yn();const i=Ie(je(ie,Pt)),c=await xe(i),a=new Set;c.docs.forEach(h=>{const p=h.data().category;p&&a.add(p)});const u=Array.from(a).map(h=>{const p=Pr.find(f=>f.category===h);return{id:h,name:h.split("-").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" "),icon:p?.icon||"📋",color:p?.color||"gray"}});return[{id:"all",name:"All Categories",icon:"📋",color:"gray"},...u]}catch(i){throw console.error("Error fetching disposition categories:",i),i}}},rf=({disposition:i,onClose:c})=>i?n.jsx("div",{className:"modal-overlay",onClick:c,children:n.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("div",{className:"modal-title",children:[n.jsx("span",{className:"modal-icon",children:i.icon}),n.jsx("h2",{children:i.name}),n.jsx("span",{className:"modal-category",children:i.category})]}),n.jsx("button",{className:"modal-close",onClick:c,children:"×"})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"modal-section description-section",children:[n.jsx("h3",{children:"Description"}),n.jsx("p",{className:"expanded-description",children:i.description})]}),n.jsxs("div",{className:"modal-section situations-section",children:[n.jsx("h3",{children:"When to Use This Disposition"}),n.jsx("div",{className:"situations-grid",children:i.situations?i.situations.map((a,u)=>n.jsxs("div",{className:"situation-card",children:[n.jsxs("div",{className:"situation-header",children:[n.jsx("span",{className:"situation-icon",children:"🎯"}),n.jsxs("span",{className:"situation-title",children:["Situation ",u+1]})]}),n.jsx("p",{className:"situation-text",children:a})]},u)):n.jsxs("div",{className:"situation-card",children:[n.jsxs("div",{className:"situation-header",children:[n.jsx("span",{className:"situation-icon",children:"🎯"}),n.jsx("span",{className:"situation-title",children:"Common Situations"})]}),n.jsxs("p",{className:"situation-text",children:[i.name==="Set Lead"&&"Use when a lead has been successfully scheduled for a consultation or appointment.",i.name==="Busy"&&"Use when the lead is currently busy and requests a callback at a later time.",i.name==="Not Set"&&"Use when unable to reach the lead or when the lead is not ready to schedule.",i.name==="Wrong Number"&&"Use when the contact information provided is incorrect or invalid.",i.name==="Not Interested"&&"Use when the lead explicitly states they are not interested in the service.",i.name==="Follow Up"&&"Use when the lead needs more time to consider or requires additional information.",i.name==="Rescheduled"&&"Use when an existing appointment has been moved to a different time.",i.name==="Cancelled"&&"Use when the lead cancels their appointment or consultation.",i.name==="Completed"&&"Use when the service has been successfully delivered to the lead.",i.name==="No Answer"&&"Use when the lead does not answer the call after multiple attempts.",i.name==="Voicemail"&&"Use when the call goes to voicemail and a message is left.",i.name==="Callback Requested"&&"Use when the lead specifically requests a callback at a later time.",i.name==="Qualified"&&"Use when the lead meets all the criteria for the service and is ready to proceed.",i.name==="Not Qualified"&&"Use when the lead does not meet the necessary criteria for the service.",i.name==="Technical Issues"&&"Use when there are technical problems preventing proper communication.",i.name==="External Factors"&&"Use when external circumstances affect the lead's ability to proceed."]})]})})]}),n.jsxs("div",{className:"modal-section next-steps-section",children:[n.jsx("h3",{children:"Next Steps"}),n.jsx("p",{children:i.nextSteps})]}),i.tips&&i.tips.length>0&&n.jsxs("div",{className:"modal-section tips-section",children:[n.jsx("h3",{children:"Tips & Best Practices"}),n.jsx("ul",{className:"enhanced-tips",children:i.tips.map((a,u)=>n.jsxs("li",{children:[n.jsx("span",{className:"tip-icon",children:"💡"}),n.jsx("span",{className:"tip-text",children:a})]},u))})]}),i.examples&&i.examples.length>0&&n.jsxs("div",{className:"modal-section examples-section",children:[n.jsx("h3",{children:"Common Examples"}),n.jsx("div",{className:"examples-grid",children:i.examples.map((a,u)=>n.jsxs("div",{className:"example-card",children:[n.jsxs("div",{className:"example-header",children:[n.jsx("span",{className:"example-icon",children:"📋"}),n.jsxs("span",{className:"example-number",children:["Example ",u+1]})]}),n.jsx("p",{className:"example-text",children:a})]},u))})]}),i.subcategories&&i.subcategories.length>0&&n.jsxs("div",{className:"modal-section subcategories-section",children:[n.jsx("h3",{children:"Subcategories"}),n.jsx("div",{className:"subcategories-grid",children:i.subcategories.map((a,u)=>n.jsxs("div",{className:"subcategory-card",children:[n.jsx("span",{className:"subcategory-icon",children:"🔹"}),n.jsx("span",{className:"subcategory-name",children:a})]},u))})]})]})]})}):null,sf=({onNavigate:i,searchQuery:c})=>{const[a,u]=m.useState("all"),[h,p]=m.useState(null),[f,y]=m.useState(c||""),[x,E]=m.useState(!1),[w,N]=m.useState(!1),[F,W]=m.useState([]),[_,O]=m.useState(!1),[I,V]=m.useState(-1),[$,L]=m.useState([]),[z,re]=m.useState([]),[X,pe]=m.useState(!0),[ue,Le]=m.useState(null),[Fe,te]=m.useState([]),fe=(U,q)=>{let k;return function(...K){const T=()=>{clearTimeout(k),U(...K)};clearTimeout(k),k=setTimeout(T,q)}},H=async U=>{if(!U.trim()){W([]);return}try{const q=await Fr.searchDispositions(U);W(q)}catch(q){console.error("Error searching dispositions:",q),Le("Failed to search dispositions. Please try again.")}},ye=m.useCallback(fe(U=>{H(U)},300),[]),ke=U=>{const q=U.target.value;y(q),O(!0),V(-1),ye(q)},b=U=>{y(U.name),O(!1),p(U),E(!0)},B=async()=>{try{pe(!0),Le(null),await Fr.forceReinitializeDispositions();const U=await Fr.getAllDispositions();L(U),re(U)}catch(U){console.error("Error reinitializing dispositions:",U),Le("Failed to reinitialize dispositions. Please try again later.")}finally{pe(!1)}};m.useEffect(()=>{(async()=>{try{pe(!0),Le(null);const[q,k]=await Promise.all([Fr.getAllDispositions(),Fr.getDispositionCategories()]);L(q),re(q),te(k)}catch(q){console.error("Error fetching data:",q),Le("Failed to load data. Please try again later.")}finally{pe(!1)}})()},[]),m.useEffect(()=>{if(!$)return;let U=$;if(a!=="all"&&(U=U.filter(q=>q.category===a)),f){const q=f.toLowerCase();U=U.filter(k=>k.name.toLowerCase().includes(q)||k.description.toLowerCase().includes(q)||k.nextSteps.toLowerCase().includes(q)||Array.isArray(k.tips)&&k.tips.some(v=>v.toLowerCase().includes(q)))}re(U)},[$,f,a]),m.useEffect(()=>{u("all"),y("")},[]);const M=U=>{p(U)};return X?n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading dispositions..."})]}):ue?n.jsxs("div",{className:"error",children:[n.jsx("p",{children:ue}),n.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]}):n.jsxs("div",{children:[n.jsx(ll,{title:"Lead Disposition",subtitle:"Track and manage your lead dispositions"}),n.jsx("div",{className:"disposition-container",children:n.jsxs("div",{className:"disposition-content",children:[n.jsxs("div",{className:"disposition-header",children:[n.jsx("h1",{className:"disposition-title",children:"Lead Disposition Library"}),n.jsx("div",{className:"header-actions",children:n.jsx("button",{onClick:B,className:"reinitialize-button",disabled:X,children:X?"Reinitializing...":"Reinitialize Dispositions"})}),n.jsx("div",{className:"header-navigation",children:n.jsxs("div",{className:"quick-nav",children:[n.jsxs("button",{onClick:()=>i("home"),className:"nav-button home-button",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),n.jsxs("button",{onClick:()=>i("rebuttals"),className:`nav-button ${window.location.pathname.includes("rebuttals")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),n.jsxs("button",{onClick:()=>i("disposition"),className:`nav-button ${window.location.pathname.includes("disposition")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Disposition"]})]})})]}),n.jsxs("div",{className:"search-container",children:[n.jsxs("div",{className:"search-input-wrapper",children:[n.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M21 21l-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.jsx("input",{type:"text",placeholder:"Search dispositions...",value:f,onChange:ke,className:"search-input","aria-label":"Search dispositions"}),f&&n.jsx("button",{onClick:()=>{y(""),O(!1),W([])},className:"clear-search-button","aria-label":"Clear search",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),_&&F.length>0&&n.jsx("div",{className:"search-suggestions-dropdown",children:F.map((U,q)=>n.jsxs("div",{className:`suggestion-item ${q===I?"selected":""}`,onClick:()=>b(U),children:[n.jsx("span",{className:"suggestion-icon",children:U.icon||"📋"}),n.jsxs("div",{className:"suggestion-content",children:[n.jsx("h4",{children:U.name}),n.jsx("p",{children:U.description})]})]},U.id))}),f&&n.jsxs("div",{className:"search-results-count",children:[z.length," result",z.length!==1?"s":""," found"]})]}),n.jsx("div",{className:"dispositions-grid",children:z.map(U=>n.jsxs("div",{className:`disposition-card ${U.color}`,onClick:()=>M(U),children:[n.jsxs("div",{className:"card-header",children:[n.jsx("span",{className:"card-icon",children:U.icon}),n.jsxs("div",{className:"card-title-container",children:[n.jsx("h2",{className:"card-title",children:U.name}),n.jsx("span",{className:"card-category",children:U.category})]})]}),n.jsxs("div",{className:"card-content",children:[n.jsx("p",{className:"card-description",children:U.description}),n.jsxs("div",{className:"card-preview",children:[n.jsxs("div",{className:"preview-section",children:[n.jsx("h4",{children:"Next Steps"}),n.jsx("p",{children:U.nextSteps})]}),U.tips&&U.tips.length>0&&n.jsxs("div",{className:"preview-section",children:[n.jsx("h4",{children:"Key Tips"}),n.jsxs("ul",{children:[U.tips.slice(0,2).map((q,k)=>n.jsx("li",{children:q},k)),U.tips.length>2&&n.jsxs("li",{className:"more-tips",children:["+",U.tips.length-2," more tips"]})]})]})]}),n.jsx("div",{className:"card-footer",children:n.jsx("span",{className:"click-hint",children:"Click to view full details"})})]})]},U.id))}),z.length===0&&n.jsx("div",{className:"no-results",children:"No dispositions found matching your search criteria."})]})}),h&&n.jsx(rf,{disposition:h,onClose:()=>p(null)})]})},Wn="serviceTopics",el="customerServiceCategories",Ed=[{topic:"appointments",title:"Appointment Management",description:"Handle all appointment-related inquiries and requests",steps:["Verify customer information","Check availability","Confirm details","Send confirmation"],tips:["Be flexible with timing","Offer alternatives","Document all changes"],keywords:["appointments","scheduling","management"],isUrgent:!1},{topic:"appointments",title:"Appointment Verification",description:"Verify and validate appointment details",steps:["Check appointment date and time","Verify customer contact information","Confirm service requirements","Review special instructions"],tips:["Double-check all details","Note any special requirements","Update customer records"],keywords:["verification","validation","details"],isUrgent:!1},{topic:"appointments",title:"Appointment Updates",description:"Handle appointment modifications and updates",steps:["Review requested changes","Check new availability","Update appointment details","Notify relevant parties"],tips:["Be prompt with updates","Maintain clear communication","Document all changes"],keywords:["updates","modifications","changes"],isUrgent:!1},{topic:"scheduling",title:"New Appointment Scheduling",description:"Process for scheduling new customer appointments",steps:["Collect customer contact information","Determine service requirements","Find optimal time slot","Confirm appointment details"],tips:["Offer multiple time options","Consider customer preferences","Check technician availability"],keywords:["new appointment","schedule","booking"],isUrgent:!1},{topic:"scheduling",title:"Bulk Scheduling",description:"Handle multiple appointment scheduling requests",steps:["Review all scheduling requests","Group similar appointments","Optimize schedule","Send batch confirmations"],tips:["Prioritize urgent requests","Maintain schedule balance","Consider travel time"],keywords:["bulk","multiple","group scheduling"],isUrgent:!1},{topic:"scheduling",title:"Priority Scheduling",description:"Handle urgent and priority scheduling requests",steps:["Assess urgency level","Check immediate availability","Coordinate with team","Confirm priority booking"],tips:["Respond quickly","Maintain clear communication","Follow up promptly"],keywords:["priority","urgent","immediate"],isUrgent:!0},{topic:"confirmation",title:"Appointment Confirmation",description:"Send and manage appointment confirmations",steps:["Prepare confirmation details","Send confirmation message","Request acknowledgment","Follow up if needed"],tips:["Include all necessary details","Use clear formatting","Provide contact information"],keywords:["confirmation","verify","acknowledge"],isUrgent:!1},{topic:"confirmation",title:"Reminder Notifications",description:"Send appointment reminders to customers",steps:["Schedule reminder timing","Prepare reminder message","Send notification","Track delivery status"],tips:["Send reminders in advance","Use multiple channels","Include cancellation policy"],keywords:["reminder","notification","alert"],isUrgent:!1},{topic:"cancellation",title:"Appointment Cancellation",description:"Process appointment cancellations",steps:["Record cancellation reason","Update schedule","Notify relevant parties","Offer rescheduling options"],tips:["Be understanding","Document cancellation reason","Maintain professional tone"],keywords:["cancellation","cancel","terminate"],isUrgent:!1},{topic:"cancellation",title:"Rescheduling Process",description:"Handle appointment rescheduling requests",steps:["Review rescheduling request","Check new availability","Update appointment details","Send new confirmation"],tips:["Be flexible with timing","Offer multiple options","Maintain clear communication"],keywords:["reschedule","rescheduling","change time"],isUrgent:!1},{topic:"followup",title:"Service Follow-up",description:"Conduct post-service follow-ups",steps:["Review service details","Contact customer","Gather feedback","Address any concerns"],tips:["Follow up promptly","Be attentive to feedback","Document all interactions"],keywords:["follow-up","feedback","service review"],isUrgent:!1},{topic:"followup",title:"Customer Satisfaction",description:"Measure and improve customer satisfaction",steps:["Send satisfaction survey","Analyze responses","Identify areas for improvement","Implement changes"],tips:["Make surveys concise","Act on feedback","Follow up on concerns"],keywords:["satisfaction","feedback","survey"],isUrgent:!1},{topic:"followup",title:"Issue Resolution",description:"Handle post-service issues and complaints",steps:["Listen to concerns","Investigate issue","Propose solution","Follow up on resolution"],tips:["Respond quickly","Be empathetic","Document all actions"],keywords:["issue","complaint","resolution"],isUrgent:!1}],of=[{title:"Appointment Management",description:"Manage and handle appointment-related inquiries",icon:"📅",keySteps:["Verify appointment details","Check availability","Confirm changes"],quickTips:["Be proactive with scheduling","Offer alternatives when needed"],tags:["appointments","scheduling","management"]},{title:"Scheduling",description:"Handle new appointment scheduling requests",icon:"⏰",keySteps:["Collect customer information","Find suitable time slots","Confirm booking"],quickTips:["Offer multiple options","Consider customer preferences"],tags:["scheduling","booking","appointments"]},{title:"Cancellation",description:"Process appointment cancellations and rescheduling",icon:"❌",keySteps:["Verify cancellation reason","Process cancellation","Offer alternatives"],quickTips:["Be understanding","Offer rescheduling options"],tags:["cancellation","rescheduling","appointments"]},{title:"Confirmation",description:"Handle appointment confirmations and reminders",icon:"✅",keySteps:["Send confirmation details","Verify contact information","Set reminders"],quickTips:["Send reminders in advance","Include all necessary details"],tags:["confirmation","reminders","appointments"]},{title:"Follow-up",description:"Manage post-appointment follow-ups",icon:"📞",keySteps:["Check service satisfaction","Address any concerns","Schedule follow-up if needed"],quickTips:["Be prompt with follow-ups","Address issues proactively"],tags:["follow-up","feedback","service"]}],af=async()=>{try{console.log("Checking if service topics need initialization...");const i=Ie(je(ie,Wn));if((await xe(i)).empty){console.log("No service topics found. Initializing default topics...");const a=Ht(ie);for(const u of Ed){const h=Ce(je(ie,Wn));a.set(h,{...u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}await a.commit(),console.log("Default service topics initialized successfully")}else console.log("Service topics already exist, skipping initialization")}catch(i){throw console.error("Error initializing default service topics:",i),i}},lf=async()=>{try{console.log("Checking if categories need initialization...");const i=Ie(je(ie,el));if((await xe(i)).empty){console.log("No categories found. Initializing default categories...");const a=Ht(ie);for(const u of of){const h=Ce(je(ie,el));a.set(h,{...u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}await a.commit(),console.log("Default categories initialized successfully")}else console.log("Categories already exist, skipping initialization")}catch(i){throw console.error("Error initializing default categories:",i),i}},Ad=async()=>{try{await lr(),console.log("Fetching service topics...");const i=Ie(je(ie,Wn)),c=await xe(i);if(c.empty){console.log("No topics found, initializing default topics..."),await af();const h=(await xe(i)).docs.map(p=>({id:p.id,...p.data()}));return console.log(`Successfully fetched ${h.length} service topics`),h}const a=c.docs.map(u=>({id:u.id,...u.data()}));return console.log(`Successfully fetched ${a.length} service topics`),a}catch(i){throw console.error("Error fetching service topics:",i),new Error("Failed to fetch service topics. Please try again.")}},cf=async()=>{try{await lr(),console.log("Fetching urgent service topics...");const i=Ie(je(ie,Wn),en("isUrgent","==",!0),it("title")),a=(await xe(i)).docs.map(u=>({id:u.id,...u.data()}));return console.log(`Successfully fetched ${a.length} urgent service topics`),a}catch(i){throw console.error("Error fetching urgent service topics:",i),new Error("Failed to fetch urgent service topics. Please try again.")}},uf=async i=>{try{await lr(),console.log("Adding new service topic...");const c=await Wt(je(ie,Wn),{...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return console.log("Service topic added successfully with ID:",c.id),{id:c.id,...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(c){throw console.error("Error adding service topic:",c),new Error("Failed to add service topic. Please try again.")}},df=async(i,c)=>{try{await lr(),console.log("Updating service topic:",i);const a=Ce(ie,Wn,i);return await wt(a,{...c,updatedAt:new Date().toISOString()}),console.log("Service topic updated successfully"),{id:i,...c,updatedAt:new Date().toISOString()}}catch(a){throw console.error("Error updating service topic:",a),new Error("Failed to update service topic. Please try again.")}},hf=async i=>{try{await lr(),console.log("Deleting service topic:",i);const c=Ce(ie,Wn,i);return await Vt(c),console.log("Service topic deleted successfully"),!0}catch(c){throw console.error("Error deleting service topic:",c),new Error("Failed to delete service topic. Please try again.")}},pf=async()=>{try{await lr(),console.log("Fetching service categories..."),await lf();const i=Ie(je(ie,el),it("title")),a=(await xe(i)).docs.map(u=>({id:u.id,...u.data()}));return console.log(`Successfully fetched ${a.length} categories:`,a),a}catch(i){throw console.error("Error fetching categories:",i),new Error("Failed to fetch categories. Please try again.")}},mf=async()=>{try{await lr();const i=je(ie,Wn),c=await xe(i),a=Ht(ie);return c.docs.forEach(u=>{a.delete(u.ref)}),Ed.forEach(u=>{const h=Ce(i);a.set(h,{...u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),await a.commit(),!0}catch(i){throw console.error("Error resetting service topics:",i),i}},Ya=(i,c)=>{c=c.toLowerCase(),i=i.toLowerCase();let a=0,u=0,h=0;for(;u<i.length&&a<c.length;)c[a]===i[u]&&(h++,a++),u++;return a===c.length?h/c.length:0},ff={appointment:["apointment","appoinment","appoitment","apointmnt"],schedule:["scedule","scedual","schedual","scedul"],cancel:["cancell","cancle","cancell","cancle"],reschedule:["rescedule","rescedual","reschedual","rescedul"],confirm:["confrim","conferm","confurm","confrm"],follow:["follw","folow","foll","folow"],up:["up","up","up","up"],management:["managment","mangement","managment","mangmnt"],service:["servise","servis","servic","servis"],customer:["custumer","custmer","custmor","custmr"],help:["helpp","helpe","hel","helpe"],search:["searcgh","serch","searh","serach"],find:["fid","findd","fnd","find"],looking:["lookin","lookng","lookig","lookn"],assist:["asist","assistt","asst","asist"],home:["hom","hoem","hme","hom"],correct:["corrcet","corret","corrct","corret"],spell:["spel","spelll","spl","spel"],word:["wrd","wor","wod","wrd"],make:["mak","maek","mke","mak"],way:["wai","wae","wayy","wai"],more:["moer","mor","mre","moer"],helpful:["helpfull","helpfu","helful","helpfl"],something:["somehting","somthing","somethng","somethig"],wrong:["wron","wrog","wong","wronng"],will:["wil","wll","wil","wll"],try:["try","tri","tryy","try"],auto:["auto","aut","autoo","auto"],options:["aoptiinoin","optins","optons","opions"],bar:["bar","br","bar","br"]},gf={"how to":["how do i","how can i","how do you","how to"],"when can":["when can i","when is","when will","when should"],"where to":["where can i","where do i","where is","where to"],"what is":["whats","what is","what are","what do"],"why do":["why does","why is","why are","why do"],"can i":["can you","is it possible","is there a way","can i"],"need to":["want to","have to","should i","need to"],"looking for":["searching for","trying to find","want to find","looking for"]},vf=({onNavigate:i,searchQuery:c})=>{const[a,u]=m.useState("all"),[h,p]=m.useState(c||""),[f,y]=m.useState(!1),[x,E]=m.useState(null),[w,N]=m.useState([]),[F,W]=m.useState(!1),[_,O]=m.useState(-1),[I,V]=m.useState(!1),[$,L]=m.useState(null),[z,re]=m.useState([]),[X,pe]=m.useState(!0),[ue,Le]=m.useState(null),[Fe,te]=m.useState([]),[fe,H]=m.useState([]),ye=[{id:"appointments",name:"Appointment Management",icon:"📅",color:"blue",features:["Calendar Integration","Automated Reminders","Conflict Resolution","Appointment History","Rescheduling Options"],description:"Manage your appointments efficiently with our comprehensive scheduling system"},{id:"scheduling",name:"Scheduling",icon:"⏰",color:"green",features:["Real-time Availability","Multiple Time Zones","Recurring Appointments","Buffer Time Settings"],description:"Schedule appointments with ease using our flexible booking system"},{id:"confirmation",name:"Confirmation",icon:"✅",color:"yellow",features:["Email Confirmations","SMS Notifications","Calendar Invites","Reminder Settings"],description:"Keep track of your appointments with automated confirmations"},{id:"cancellation",name:"Cancellation",icon:"❌",color:"red",features:["Cancellation Policy","Rescheduling Options","Waitlist Management","No-show Prevention"],description:"Handle appointment cancellations and rescheduling efficiently"},{id:"followup",name:"Follow-up",icon:"📞",color:"purple",features:["Post-appointment Surveys","Feedback Collection","Follow-up Scheduling","Communication History"],description:"Maintain relationships with automated follow-up systems"}];m.useEffect(()=>{ke()},[]);const ke=async()=>{try{pe(!0),Le(null),console.log("Loading customer service data...");const C=await pf();console.log("Loaded categories:",C),re(C);const R=await Ad();console.log("Loaded service topics:",R),te(R);const Q=await cf();console.log("Loaded urgent topics:",Q),H(Q),console.log("All topics combined:",[...R,...Q])}catch(C){console.error("Error loading data:",C),Le("Failed to load data. Please try again.")}finally{pe(!1)}},b=[...Fe,...fe].map((C,R)=>({...C,uniqueId:`${C.id}-${R}`})),B=C=>{const R=C.toLowerCase();for(const[Q,ae]of Object.entries(ff))if(ae.includes(R))return Q;return C},M=C=>{let R=C.toLowerCase();for(const[Q,ae]of Object.entries(gf))for(const Se of ae)R.includes(Se)&&(R=R.replace(Se,Q));return R.split(" ").map(Q=>B(Q)).join(" ")},U=C=>{if(!C.trim())return[];const R=M(C),Q=[];return b.forEach(ae=>{const Se=Ya(ae.title,R),nt=Ya(ae.description,R),Ze=ae.keywords.map(Ft=>Ya(Ft,R)),Re=Math.max(...Ze),Oe=Math.max(Se,nt,Re);Oe>.3&&Q.push({...ae,relevanceScore:Oe})}),Q.sort((ae,Se)=>Se.relevanceScore-ae.relevanceScore)},q=C=>{const R=C.target.value;p(R),W(!0),O(-1);const Q=U(R);N(Q)},k=C=>{if(F)switch(C.key){case"ArrowDown":C.preventDefault(),O(R=>R<w.length-1?R+1:R);break;case"ArrowUp":C.preventDefault(),O(R=>R>0?R-1:R);break;case"Enter":C.preventDefault(),_>=0&&_<w.length&&v(w[_]);break;case"Escape":W(!1);break}},v=C=>{p(C.title),W(!1),E(C),y(!0)},K=m.useMemo(()=>{const C=h.toLowerCase().trim();return b.filter(R=>{const Q=a==="all"||R.topic===a;if(!C)return Q;const ae=R.title?.toLowerCase().includes(C)||R.description?.toLowerCase().includes(C)||R.steps?.some(Se=>Se.toLowerCase().includes(C))||R.tips?.some(Se=>Se.toLowerCase().includes(C))||R.keywords?.some(Se=>Se.toLowerCase().includes(C));return Q&&ae}).sort((R,Q)=>R.title.localeCompare(Q.title))},[b,a,h]),T=C=>{E(C),y(!0)},ne=()=>{y(!1),E(null)},de=C=>{V(!1),p(""),L(C),y(!0)},be=(C,R)=>{},Ee=()=>a==="appointments"?n.jsxs("div",{className:"appointment-management",children:[n.jsxs("div",{className:"appointment-actions",children:[n.jsx("button",{onClick:()=>be(),children:"Schedule New"}),n.jsx("button",{onClick:()=>be(),children:"Reschedule"}),n.jsx("button",{onClick:()=>be(),children:"Cancel"}),n.jsx("button",{onClick:()=>be(),children:"Confirm"})]}),n.jsx("div",{className:"appointment-calendar"}),n.jsx("div",{className:"appointment-list"})]}):null;return n.jsxs("div",{className:"customer-service-container",children:[n.jsx(ll,{title:"Customer Service",subtitle:"Manage customer service interactions and support"}),X?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{className:"loading-text",children:"Loading customer service data..."})]}):ue?n.jsxs("div",{className:"error-container",children:[n.jsxs("div",{className:"error-message",children:[n.jsx("span",{className:"error-icon",children:"⚠️"}),n.jsx("span",{children:ue})]}),n.jsx("button",{className:"retry-button",onClick:ke,children:"Retry"})]}):n.jsxs("div",{className:"customer-service-content",children:[n.jsxs("div",{className:"customer-service-header",children:[n.jsx("h1",{className:"customer-service-title",children:"Customer Service"}),n.jsx("div",{className:"header-navigation",children:n.jsxs("div",{className:"quick-nav",children:[n.jsxs("button",{onClick:()=>i("home"),className:"nav-button home-button",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),n.jsxs("button",{onClick:()=>i("rebuttals"),className:`nav-button ${window.location.pathname.includes("rebuttals")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),n.jsxs("button",{onClick:()=>i("disposition"),className:`nav-button ${window.location.pathname.includes("disposition")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 3H15V5H9V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),n.jsxs("button",{onClick:()=>i("customerService"),className:`nav-button ${window.location.pathname.includes("customerService")?"active":""}`,children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]})]})})]}),n.jsxs("div",{className:"search-container",children:[n.jsxs("div",{className:"search-input-wrapper",children:[n.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M21 21l-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.jsx("input",{type:"text",placeholder:"Search service topics...",value:h,onChange:q,onKeyDown:k,onFocus:()=>W(!0),className:"search-input","aria-label":"Search service topics"}),h&&n.jsx("button",{onClick:()=>{p(""),W(!1),N([])},className:"clear-search-button","aria-label":"Clear search",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),I&&n.jsxs("div",{className:"quick-actions-dropdown",children:[n.jsxs("div",{className:"quick-actions-header",children:[n.jsx("h3",{children:"Quick Actions"}),n.jsx("p",{children:"Select an urgent rebuttal to handle immediately"})]}),fe.map(C=>n.jsxs("div",{className:"quick-action-item",onClick:()=>de(C),children:[n.jsx("span",{className:"quick-action-icon",children:"⚡"}),n.jsxs("div",{className:"quick-action-content",children:[n.jsx("h4",{children:C.title}),n.jsx("p",{children:C.description})]})]},C.id))]}),F&&w.length>0&&n.jsx("div",{className:"search-suggestions-dropdown",id:"search-suggestions",children:w.map((C,R)=>n.jsxs("div",{id:`suggestion-${R}`,className:`suggestion-item ${R===_?"selected":""}`,onClick:()=>v(C),role:"option","aria-selected":R===_,children:[n.jsx("span",{className:"suggestion-icon",children:ye.find(Q=>Q.id===C.topic)?.icon||"📋"}),n.jsxs("div",{className:"suggestion-content",children:[n.jsx("h4",{children:C.title}),n.jsx("p",{children:C.description})]})]},C.uniqueId))}),h&&n.jsxs("div",{className:"search-results-count",children:[K.length," result",K.length!==1?"s":""," found"]})]}),n.jsxs("div",{className:"service-layout",children:[n.jsxs("div",{className:"service-sidebar",children:[n.jsx("h2",{className:"sidebar-title",children:"Service Topics"}),n.jsxs("div",{className:"topic-buttons",children:[n.jsxs("button",{onClick:()=>u("all"),className:`topic-button ${a==="all"?"active":""}`,children:[n.jsx("span",{className:"topic-icon",children:"📋"}),n.jsx("span",{className:"topic-name",children:"All Topics"})]}),ye.map(C=>n.jsxs("button",{onClick:()=>u(C.id),className:`topic-button ${a===C.id?"active":""}`,children:[n.jsx("span",{className:"topic-icon",children:C.icon}),n.jsx("span",{className:"topic-name",children:C.name})]},C.id))]})]}),n.jsx("div",{className:"service-main",children:n.jsx("div",{className:"categories-grid",children:K.length===0?n.jsx("div",{className:"no-data-message",children:n.jsx("p",{children:"No service topics found for the selected category."})}):K.map(C=>n.jsxs("div",{className:"category-card",onClick:()=>T(C),children:[n.jsxs("div",{className:"category-header",children:[n.jsx("span",{className:"category-icon",children:ye.find(R=>R.id===C.topic)?.icon||"📋"}),n.jsx("h3",{children:C.title})]}),n.jsx("div",{className:"category-description",children:n.jsx("p",{children:C.description})}),n.jsxs("div",{className:"category-details",children:[n.jsxs("div",{className:"key-steps",children:[n.jsx("h4",{children:"Key Steps"}),n.jsx("ul",{children:C.steps.slice(0,3).map((R,Q)=>n.jsx("li",{children:R},Q))})]}),n.jsxs("div",{className:"quick-tips",children:[n.jsx("h4",{children:"Quick Tips"}),n.jsx("ul",{children:C.tips.slice(0,2).map((R,Q)=>n.jsx("li",{children:R},Q))})]})]}),n.jsx("div",{className:"category-tags",children:C.keywords.map((R,Q)=>n.jsx("span",{className:"category-tag",children:R},Q))})]},C.uniqueId))})})]})]}),f&&x&&n.jsx("div",{className:"modal-overlay",onClick:ne,children:n.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:x.title}),n.jsx("button",{className:"modal-close",onClick:ne,children:"×"})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"modal-section",children:[n.jsx("h3",{children:"Description"}),n.jsx("p",{children:x.description})]}),n.jsxs("div",{className:"modal-section",children:[n.jsx("h3",{children:"Steps"}),n.jsx("ol",{children:x.steps.map((C,R)=>n.jsx("li",{children:C},R))})]}),n.jsxs("div",{className:"modal-section",children:[n.jsx("h3",{children:"Tips"}),n.jsx("ul",{children:x.tips.map((C,R)=>n.jsx("li",{children:C},R))})]}),n.jsxs("div",{className:"modal-section",children:[n.jsx("h3",{children:"Related Keywords"}),n.jsx("div",{className:"keyword-tags",children:x.keywords.map((C,R)=>n.jsx("span",{className:"keyword-tag",children:C},R))})]})]})]})}),Ee()]})},As="faqs",Ds={async getAllFAQs(){try{const i=Ie(je(ie,As),it("createdAt","desc"));return(await xe(i)).docs.map(a=>({id:a.id,...a.data()}))}catch(i){throw console.error("Error fetching FAQs:",i),new Error("Failed to fetch FAQs")}},async getFAQById(i){try{const c=Ce(ie,As,i),a=await Xt(c);if(a.exists())return{id:a.id,...a.data()};throw new Error("FAQ not found")}catch(c){throw console.error("Error fetching FAQ:",c),new Error("Failed to fetch FAQ")}},async addFAQ(i){try{return{id:(await Wt(je(ie,As),{...i,createdAt:xn(),updatedAt:xn()})).id,...i,createdAt:new Date,updatedAt:new Date}}catch(c){throw console.error("Error adding FAQ:",c),new Error("Failed to add FAQ")}},async updateFAQ(i,c){try{const a=Ce(ie,As,i);return await wt(a,{...c,updatedAt:xn()}),{id:i,...c,updatedAt:new Date}}catch(a){throw console.error("Error updating FAQ:",a),new Error("Failed to update FAQ")}},async deleteFAQ(i){try{const c=Ce(ie,As,i);return await Vt(c),i}catch(c){throw console.error("Error deleting FAQ:",c),new Error("Failed to delete FAQ")}},async searchFAQs(i){try{const c=await this.getAllFAQs(),a=i.toLowerCase();return c.filter(u=>u.question.toLowerCase().includes(a)||u.answer.toLowerCase().includes(a))}catch(c){throw console.error("Error searching FAQs:",c),new Error("Failed to search FAQs")}}},yf=({onNavigate:i})=>{const{currentUser:c}=ni(),[a,u]=m.useState(null),[h,p]=m.useState([]),[f,y]=m.useState(!0),[x,E]=m.useState(null),[w,N]=m.useState(!1);m.useEffect(()=>{W(),F()},[c]);const F=()=>{const I=localStorage.getItem("adminUser");if(I)try{const V=JSON.parse(I);N(V.role==="admin")}catch(V){console.error("Error parsing admin user data:",V),N(!1)}else N(!1)},W=async()=>{try{y(!0),E(null);const I=await Ds.getAllFAQs();p(I)}catch(I){console.error("Error loading FAQs:",I),E("Failed to load FAQs. Please try again.")}finally{y(!1)}},_=I=>{u(a===I?null:I)},O=()=>{i(w?"admin/dashboard":"admin/login")};return f?n.jsx("div",{className:"faq-container",children:n.jsxs("div",{className:"faq-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading FAQs..."})]})}):x?n.jsx("div",{className:"faq-container",children:n.jsxs("div",{className:"faq-error",children:[n.jsx("span",{className:"error-icon",children:"⚠️"}),n.jsx("h3",{children:"Error Loading FAQs"}),n.jsx("p",{children:x}),n.jsx("button",{onClick:W,className:"retry-button",children:"Try Again"})]})}):n.jsxs("div",{className:"faq-container",children:[c&&w&&n.jsxs("button",{onClick:O,className:"dashboard-button-top-left",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M3 3H10V10H3V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M14 3H21V10H14V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M14 14H21V21H14V14Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M3 14H10V21H3V14Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Admin Dashboard"]}),n.jsxs("div",{className:"faq-header",children:[n.jsx("h1",{className:"faq-title",children:"Frequently Asked Questions"}),n.jsx("p",{className:"faq-subtitle",children:"FAQ for Reps"}),n.jsx("div",{className:"header-navigation",children:n.jsxs("div",{className:"quick-nav",children:[n.jsxs("button",{onClick:()=>i("home"),className:"nav-button home-button",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),n.jsxs("button",{onClick:()=>i("rebuttals"),className:"nav-button",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),n.jsxs("button",{onClick:()=>i("disposition"),className:"nav-button",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9 3H15V5H9V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),n.jsxs("button",{onClick:()=>i("customerService"),className:"nav-button",children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]})]})})]}),n.jsxs("div",{className:"faq-content",children:[n.jsx("div",{className:"faq-grid",children:h.length>0?h.map((I,V)=>n.jsxs("div",{className:`faq-card-public${a===V?" expanded":""}`,children:[n.jsxs("button",{className:`faq-question-public ${a===V?"active":""}`,onClick:()=>_(V),"aria-expanded":a===V,children:[n.jsx("span",{className:"faq-q-icon",children:"❓"}),n.jsx("span",{className:"question-text",children:I.question}),n.jsx("span",{className:"expand-icon",children:a===V?"−":"+"})]}),n.jsx("div",{className:"faq-divider-public"}),n.jsx("div",{className:`faq-answer-public ${a===V?"active":""}`,children:n.jsx("p",{children:I.answer})})]},V)):n.jsx("div",{className:"empty-faq",children:n.jsxs("div",{className:"empty-faq-content",children:[n.jsx("h3",{children:"No FAQ content available"}),n.jsx("p",{children:"FAQ content will be added here. Please check back later or contact support for assistance."})]})})}),n.jsx("div",{className:"faq-footer",children:n.jsxs("div",{className:"contact-section",children:[n.jsx("h3",{children:"Still have questions?"}),n.jsx("p",{children:"If you couldn't find the answer you're looking for, please contact your system administrator or IT support team for assistance."}),n.jsxs("button",{onClick:()=>i("customerService"),className:"contact-button",children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Get Help"]})]})})]})]})},xf="modulepreload",wf=function(i){return"/"+i},id={},ad=function(c,a,u){let h=Promise.resolve();if(a&&a.length>0){let f=function(E){return Promise.all(E.map(w=>Promise.resolve(w).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),x=y?.nonce||y?.getAttribute("nonce");h=f(a.map(E=>{if(E=wf(E),E in id)return;id[E]=!0;const w=E.endsWith(".css"),N=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${N}`))return;const F=document.createElement("link");if(F.rel=w?"stylesheet":xf,w||(F.as="script"),F.crossOrigin="",F.href=E,x&&F.setAttribute("nonce",x),document.head.appendChild(F),w)return new Promise((W,_)=>{F.addEventListener("load",W),F.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${E}`)))})}))}function p(f){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=f,window.dispatchEvent(y),!y.defaultPrevented)throw f}return h.then(f=>{for(const y of f||[])y.status==="rejected"&&p(y.reason);return c().catch(p)})};let _r,tl;try{({db:_r,auth:tl}=await ad(()=>import("./nodeConfig-B-dIOqtf.js"),__vite__mapDeps([0,1])))}catch{({db:_r,auth:tl}=await ad(()=>import("./config-CVZrMBl4.js"),__vite__mapDeps([2,1])))}const ri="rebuttals",si=()=>{if(typeof window>"u")return{uid:"script-admin"};const i=tl.currentUser;if(!i)throw new Error("User must be authenticated to perform this action");return i},jf=async i=>{try{const c=si();return(await Wt(je(_r,ri),{...i,createdBy:c.uid,createdAt:xn(),updatedAt:xn()})).id}catch(c){throw console.error("Error adding rebuttal:",c),c.code==="permission-denied"?new Error("You do not have permission to add rebuttals. Please make sure you are logged in as an admin."):c}},Mr=async(i,c)=>{try{const a=si(),u=Ce(_r,ri,i);await wt(u,{...c,updatedBy:a.uid,updatedAt:xn()})}catch(a){throw console.error("Error updating rebuttal:",a),a.code==="permission-denied"?new Error("You do not have permission to update rebuttals. Please make sure you are logged in as an admin."):a}},ld=async i=>{try{si();const c=Ce(_r,ri,i);await Vt(c)}catch(c){throw console.error("Error deleting rebuttal:",c),c.code==="permission-denied"?new Error("You do not have permission to delete rebuttals. Please make sure you are logged in as an admin."):c}},cd=async()=>{try{si();const i=Ie(je(_r,ri),it("createdAt","desc"));return(await xe(i)).docs.map(a=>({id:a.id,...a.data()}))}catch(i){throw console.error("Error getting rebuttals:",i),i.code==="permission-denied"?new Error("You do not have permission to view rebuttals. Please make sure you are logged in."):i}},ud=["Price Concern","Time Constraint","Spouse Decision","Budget Issues","Not Ready","Competitor Comparison","Quality Concerns","Installation Time","Warranty Questions","Financing Options","Custom Design","Material Selection","Maintenance","Rescheduling","Emergency Service"],nl=({rebuttal:i,onSave:c})=>{const[a,u]=m.useState({title:"",summary:"",content:{pt1:"",pt2:""},tags:[],category:"",situationOverview:"",rebuttalStrategy:"",tips:[]}),[h,p]=m.useState(!1),[f,y]=m.useState(""),[x,E]=m.useState(""),[w,N]=m.useState(""),[F,W]=m.useState(!1),[_,O]=m.useState([]),[I,V]=m.useState([]),[$,L]=m.useState(!0),z=an(),{id:re}=mm(),X=!!re||!!i;m.useEffect(()=>{pe()},[]),m.useEffect(()=>{if(i&&X){console.log("Populating form with rebuttal data:",i);const b={title:i.title||"",summary:i.summary||"",content:{pt1:typeof i.content=="object"?i.content.pt1||"":i.content||"",pt2:typeof i.content=="object"&&i.content.pt2||""},tags:i.tags||[],category:i.category||"",situationOverview:i.situationOverview||"",rebuttalStrategy:i.rebuttalStrategy||"",tips:i.tips||[]};console.log("Setting form data to:",b),u(b)}},[i,X]);const pe=async()=>{try{L(!0);const b=await ar.getAllCategories();V(b)}catch(b){console.error("Error loading categories:",b)}finally{L(!1)}},ue=b=>{const{name:B,value:M}=b.target;u(U=>({...U,[B]:M}))},Le=(b,B)=>{u(M=>({...M,content:{...M.content,[b]:B}}))},Fe=b=>{const B=b.target.value;if(E(B),B.trim()){const M=ud.filter(U=>U.toLowerCase().includes(B.toLowerCase())&&!a.tags.includes(U));O(M),W(!0)}else O([]),W(!1)},te=b=>{const B=b||x.trim();B&&!a.tags.includes(B)&&(u(M=>({...M,tags:[...M.tags,B]})),E(""),W(!1),O([]))},fe=b=>{u(B=>({...B,tags:B.tags.filter(M=>M!==b)}))},H=()=>{w.trim()&&!a.tips.includes(w.trim())&&(u(b=>({...b,tips:[...b.tips,w.trim()]})),N(""))},ye=b=>{u(B=>({...B,tips:B.tips.filter(M=>M!==b)}))},ke=async b=>{b.preventDefault(),y(""),p(!0);try{const B={...a,updatedAt:new Date().toISOString()};if(X){const M=i?.id||re;await Mr(M,B)}else B.createdAt=new Date().toISOString(),await jf(B);c?c():z("/admin/dashboard")}catch(B){console.error("Error saving rebuttal:",B),y("Error saving rebuttal")}finally{p(!1)}};return n.jsxs("div",{className:"rebuttal-form-modal",children:[f&&n.jsx("div",{className:"error-message",children:f}),n.jsxs("form",{onSubmit:ke,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"title",children:"Title"}),n.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:ue,required:!0,placeholder:"Enter rebuttal title"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"category",children:"Category"}),n.jsxs("select",{id:"category",name:"category",value:a.category,onChange:ue,required:!0,disabled:$,className:"category-select",children:[n.jsx("option",{value:"",children:"Select a category"}),I.map(b=>n.jsxs("option",{value:b.name,children:[b.icon," ",b.name]},b.id))]}),$&&n.jsx("div",{className:"loading-indicator",children:"Loading categories..."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"summary",children:"Summary"}),n.jsx("textarea",{id:"summary",name:"summary",value:a.summary,onChange:ue,required:!0,rows:"3",placeholder:"Enter a brief summary of the rebuttal"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"situationOverview",children:"Situation Overview"}),n.jsx("textarea",{id:"situationOverview",name:"situationOverview",value:a.situationOverview,onChange:ue,required:!0,rows:"4",placeholder:"Describe the situation or objection being addressed"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"rebuttalStrategy",children:"Rebuttal Strategy"}),n.jsx("textarea",{id:"rebuttalStrategy",name:"rebuttalStrategy",value:a.rebuttalStrategy,onChange:ue,required:!0,rows:"4",placeholder:"Describe the overall strategy for this rebuttal"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"content-pt1",children:"Initial Response (Part 1)"}),n.jsx("textarea",{id:"content-pt1",value:a.content.pt1,onChange:b=>Le("pt1",b.target.value),required:!0,rows:"6",placeholder:"Enter the initial response to the objection..."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"content-pt2",children:"Follow-up Response (Part 2)"}),n.jsx("textarea",{id:"content-pt2",value:a.content.pt2,onChange:b=>Le("pt2",b.target.value),rows:"6",placeholder:"Enter the follow-up response if the initial response doesn't work..."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tips"}),n.jsxs("div",{className:"tags-input-container",children:[n.jsx("input",{type:"text",value:w,onChange:b=>N(b.target.value),placeholder:"Add a tip (e.g., 'Stay calm and professional')",onKeyPress:b=>{b.key==="Enter"&&(b.preventDefault(),H())}}),n.jsx("button",{type:"button",onClick:H,className:"add-tag-btn",children:"Add Tip"})]}),n.jsx("div",{className:"tags-container",children:a.tips.map((b,B)=>n.jsxs("span",{className:"tag",children:["💡 ",b,n.jsx("button",{type:"button",onClick:()=>ye(b),className:"remove-tag-btn",children:"×"})]},B))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tags"}),n.jsxs("div",{className:"tags-input-container",children:[n.jsxs("div",{className:"tags-input-wrapper",children:[n.jsx("input",{type:"text",value:x,onChange:Fe,placeholder:"Add a tag or select from suggestions",className:"tags-input"}),F&&_.length>0&&n.jsx("div",{className:"tags-dropdown",children:_.map((b,B)=>n.jsx("div",{className:"tag-suggestion",onClick:()=>te(b),children:b},B))})]}),n.jsx("button",{type:"button",onClick:()=>te(),className:"add-tag-btn",disabled:!x.trim(),children:"Add Tag"})]}),n.jsx("div",{className:"tags-container",children:a.tags.map((b,B)=>n.jsxs("span",{className:"tag",children:["#",b,n.jsx("button",{type:"button",onClick:()=>fe(b),className:"remove-tag-btn",children:"×"})]},B))}),n.jsxs("div",{className:"premade-tags",children:[n.jsx("h4",{children:"Common Tags:"}),n.jsx("div",{className:"premade-tags-list",children:ud.map((b,B)=>n.jsx("button",{type:"button",onClick:()=>te(b),className:"premade-tag",disabled:a.tags.includes(b),children:b},B))})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:c,className:"cancel-btn",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:h,className:"submit-btn",children:h?"Saving...":X?"Update":"Save"})]})]})]})},Cf=()=>{const[i,c]=m.useState([]),[a,u]=m.useState(!0),[h,p]=m.useState(""),[f,y]=m.useState(""),[x,E]=m.useState(""),[w,N]=m.useState("all"),[F,W]=m.useState(!1),[_,O]=m.useState(null),[I,V]=m.useState([]),[$,L]=m.useState(""),[z,re]=m.useState(!1),[X,pe]=m.useState([]);an();const ue=m.useRef(null);m.useEffect(()=>{Le()},[]),m.useEffect(()=>{F&&ue.current&&(ue.current.scrollTop=0)},[F]);const Le=async()=>{try{u(!0);const v=await cd(),K=await Fe(v);c(K)}catch(v){console.error("Error loading rebuttals:",v),p("Failed to load rebuttals")}finally{u(!1)}},Fe=async(v,K=!0)=>{try{re(!0),pe([]);const T=await ar.getAllCategories(),ne={};T.forEach(C=>{ne[C.id]=C.name});let de=!1;const be=[],Ee=[];for(const C of v){const R=C.category;let Q={...C};if(R&&R.length===20&&!R.includes(" ")){const ae=ne[R];ae?(await Mr(C.id,{...C,category:ae}),Q.category=ae,de=!0):Ee.push(`Could not find category name for UID: ${R} (Rebuttal: ${C.title})`)}be.push(Q)}return K&&Ee.length>0&&(pe(Ee),setTimeout(()=>pe([]),1e4)),re(!1),be}catch(T){return re(!1),console.error("Error checking/fixing category names:",T),v}},te=async()=>{re(!0);const v=await cd(),K=await Fe(v,!0);c(K),re(!1)},fe=async v=>{if(window.confirm("Are you sure you want to delete this rebuttal? This action cannot be undone."))try{await ld(v),c(i.filter(K=>K.id!==v))}catch(K){console.error("Error deleting rebuttal:",K),p("Failed to delete rebuttal")}},H=async v=>{try{await Mr(v,{archived:!0,archivedAt:new Date().toISOString()}),c(i.map(K=>K.id===v?{...K,archived:!0,archivedAt:new Date().toISOString()}:K))}catch(K){console.error("Error archiving rebuttal:",K),p("Failed to archive rebuttal")}},ye=async v=>{try{await Mr(v,{archived:!1,archivedAt:null}),c(i.map(K=>K.id===v?{...K,archived:!1,archivedAt:null}:K))}catch(K){console.error("Error unarchiving rebuttal:",K),p("Failed to unarchive rebuttal")}},ke=v=>{const K={...v,summary:v.summary||v.objection||"",situationOverview:v.situationOverview||v.summary||v.objection||"",rebuttalStrategy:v.rebuttalStrategy||"",content:v.content?typeof v.content=="object"?v.content:{pt1:v.content,pt2:""}:v.response?typeof v.response=="object"?v.response:{pt1:v.response,pt2:""}:{pt1:"",pt2:""},tips:v.tips||[]};O(K),W(!0)},b=()=>{console.log("handleFormClose called");const v=document.querySelector(".modal-content");v?(v.style.animation="modalSlideOut 0.2s ease-in forwards",setTimeout(()=>{W(!1),O(null),Le()},200)):(W(!1),O(null),Le())},B=async()=>{if(!(!$||I.length===0))try{$==="delete"?window.confirm(`Are you sure you want to delete ${I.length} rebuttals?`)&&(await Promise.all(I.map(v=>ld(v))),c(i.filter(v=>!I.includes(v.id)))):$==="archive"?(await Promise.all(I.map(v=>Mr(v,{archived:!0,archivedAt:new Date().toISOString()}))),c(i.map(v=>I.includes(v.id)?{...v,archived:!0,archivedAt:new Date().toISOString()}:v))):$==="unarchive"&&(await Promise.all(I.map(v=>Mr(v,{archived:!1,archivedAt:null}))),c(i.map(v=>I.includes(v.id)?{...v,archived:!1,archivedAt:null}:v))),V([]),L("")}catch(v){console.error("Error performing bulk action:",v),p("Failed to perform bulk action")}},M=()=>{I.length===q.length?V([]):V(q.map(v=>v.id))},U=v=>{V(K=>K.includes(v)?K.filter(T=>T!==v):[...K,v])},q=i.filter(v=>{const K=v.title?.toLowerCase().includes(f.toLowerCase())||v.summary?.toLowerCase().includes(f.toLowerCase())||v.category?.toLowerCase().includes(f.toLowerCase())||v.tags?.some(de=>de.toLowerCase().includes(f.toLowerCase())),T=!x||v.category===x,ne=w==="all"||w==="archived"&&v.archived||w==="active"&&!v.archived;return K&&T&&ne}),k=[...new Set(i.map(v=>v.category).filter(Boolean))];return n.jsxs(n.Fragment,{children:[F&&n.jsx("div",{className:"modal-overlay",onClick:b,children:n.jsxs("div",{className:"modal-content modern-modal",ref:ue,onClick:v=>v.stopPropagation(),children:[n.jsxs("div",{className:"modal-header modern-modal-header",children:[n.jsx("h2",{children:_?"Edit Rebuttal":"Add New Rebuttal"}),n.jsx("button",{onClick:b,className:"modal-close-btn modern-modal-close",children:"×"})]}),n.jsx("div",{className:"modal-body modern-modal-body",children:n.jsx(nl,{rebuttal:_,onSave:b})})]})}),n.jsxs("div",{className:"rebuttal-management",children:[n.jsxs("div",{className:"management-header",children:[n.jsxs("div",{className:"header-content",children:[n.jsx("h1",{children:"Rebuttal Management"}),n.jsx("p",{children:"Manage all rebuttals in the system. Create, edit, archive, and delete rebuttals."})]}),n.jsxs("div",{className:"header-actions",children:[n.jsx("button",{className:"add-rebuttal-btn",onClick:()=>{O(null),W(!0)},children:"➕ Add New Rebuttal"}),n.jsx("button",{className:"fix-categories-btn",onClick:te,disabled:z,style:{marginLeft:"1rem",background:"#f39c12",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1.5rem",fontWeight:600,cursor:z?"not-allowed":"pointer"},children:z?"Fixing...":"Fix Category Names"})]})]}),X.length>0&&n.jsxs("div",{className:"fix-warning-toast",children:[n.jsx("strong",{children:"Warning:"}),n.jsx("ul",{children:X.map((v,K)=>n.jsx("li",{children:v},K))})]}),h&&n.jsxs("div",{className:"error-message",children:[h,n.jsx("button",{onClick:()=>p(""),children:"×"})]}),n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"search-box",children:[n.jsx("input",{type:"text",placeholder:"Search rebuttals...",value:f,onChange:v=>y(v.target.value),className:"search-input"}),n.jsx("span",{className:"search-icon",children:"🔍"})]}),n.jsxs("div",{className:"filter-controls",children:[n.jsxs("select",{value:x,onChange:v=>E(v.target.value),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Categories"}),k.map(v=>n.jsx("option",{value:v,children:v},v))]}),n.jsxs("select",{value:w,onChange:v=>N(v.target.value),className:"filter-select",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"archived",children:"Archived"})]})]})]}),I.length>0&&n.jsxs("div",{className:"bulk-actions",children:[n.jsxs("div",{className:"bulk-info",children:[I.length," rebuttal(s) selected"]}),n.jsxs("div",{className:"bulk-controls",children:[n.jsxs("select",{value:$,onChange:v=>L(v.target.value),className:"bulk-select",children:[n.jsx("option",{value:"",children:"Select Action"}),n.jsx("option",{value:"archive",children:"Archive Selected"}),n.jsx("option",{value:"unarchive",children:"Unarchive Selected"}),n.jsx("option",{value:"delete",children:"Delete Selected"})]}),n.jsx("button",{onClick:B,disabled:!$,className:"bulk-action-btn",children:"Apply"})]})]}),n.jsxs("div",{className:"rebuttals-table-container",children:[n.jsx("div",{className:"mobile-rebuttal-cards",children:q.map(v=>n.jsxs("div",{className:`rebuttal-card${v.archived?" archived":""}`,children:[n.jsxs("div",{className:"rebuttal-card-header",children:[n.jsx("div",{className:"rebuttal-card-title",children:v.title}),n.jsx("span",{className:"category-badge",children:v.category})]}),n.jsx("div",{className:"rebuttal-card-summary",children:v.summary}),n.jsxs("div",{className:"rebuttal-card-tags",children:[v.tags?.slice(0,3).map((K,T)=>n.jsxs("span",{className:"tag-badge",children:["#",K]},T)),v.tags?.length>3&&n.jsxs("span",{className:"more-tags",children:["+",v.tags.length-3]})]}),n.jsxs("div",{className:"rebuttal-card-status",children:[n.jsx("span",{className:`status-badge ${v.archived?"archived":"active"}`,children:v.archived?"Archived":"Active"}),n.jsx("span",{className:"date-info",children:new Date(v.createdAt?.toDate?.()||v.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"rebuttal-card-actions",children:[n.jsx("button",{onClick:()=>ke(v),className:"action-btn edit",title:"Edit",children:"✏️"}),v.archived?n.jsx("button",{onClick:()=>ye(v.id),className:"action-btn unarchive",title:"Unarchive",children:"📦"}):n.jsx("button",{onClick:()=>H(v.id),className:"action-btn archive",title:"Archive",children:"📦"}),n.jsx("button",{onClick:()=>fe(v.id),className:"action-btn delete",title:"Delete",children:"🗑️"})]})]},v.id))}),n.jsxs("table",{className:"rebuttals-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:n.jsx("input",{type:"checkbox",checked:I.length===q.length,onChange:M,className:"select-all-checkbox"})}),n.jsx("th",{children:"Title"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Tags"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:q.map(v=>n.jsxs("tr",{className:v.archived?"archived":"",children:[n.jsx("td",{children:n.jsx("input",{type:"checkbox",checked:I.includes(v.id),onChange:()=>U(v.id),className:"rebuttal-checkbox"})}),n.jsx("td",{children:n.jsxs("div",{className:"rebuttal-title",children:[n.jsx("strong",{children:v.title}),n.jsx("p",{className:"rebuttal-summary",children:v.summary})]})}),n.jsx("td",{children:n.jsx("span",{className:"category-badge",children:v.category})}),n.jsx("td",{children:n.jsxs("div",{className:"tags-container",children:[v.tags?.slice(0,3).map((K,T)=>n.jsxs("span",{className:"tag-badge",children:["#",K]},T)),v.tags?.length>3&&n.jsxs("span",{className:"more-tags",children:["+",v.tags.length-3]})]})}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${v.archived?"archived":"active"}`,children:v.archived?"Archived":"Active"})}),n.jsx("td",{children:n.jsx("div",{className:"date-info",children:new Date(v.createdAt?.toDate?.()||v.createdAt).toLocaleDateString()})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{onClick:()=>ke(v),className:"action-btn edit",title:"Edit",children:"✏️"}),v.archived?n.jsx("button",{onClick:()=>ye(v.id),className:"action-btn unarchive",title:"Unarchive",children:"📦"}):n.jsx("button",{onClick:()=>H(v.id),className:"action-btn archive",title:"Archive",children:"📦"}),n.jsx("button",{onClick:()=>fe(v.id),className:"action-btn delete",title:"Delete",children:"🗑️"})]})})]},v.id))})]})]}),n.jsxs("div",{className:"stats-footer",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Total:"}),n.jsx("span",{className:"stat-value",children:i.length})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Active:"}),n.jsx("span",{className:"stat-value",children:i.filter(v=>!v.archived).length})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Archived:"}),n.jsx("span",{className:"stat-value",children:i.filter(v=>v.archived).length})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Categories:"}),n.jsx("span",{className:"stat-value",children:k.length})]})]})]})]})},kf=()=>{const[i,c]=m.useState([]),[a,u]=m.useState(!0),[h,p]=m.useState(null),[f,y]=m.useState(null),[x,E]=m.useState(!1),[w,N]=m.useState(!1),[F,W]=m.useState(!1),[_,O]=m.useState(!1),[I,V]=m.useState(null),[$,L]=m.useState({name:"",icon:"",color:"",isActive:!0,description:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),z=["📊","📈","📉","📋","📝","📌","📍","🔍","🔎","🔐","🔑","🔒","🔓","💼","📁","📂","🗂️","📅","📆","🗓️","⏰","⏱️","⏲️","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🎯","🎨","🎭","🎪","🎟️","🎫","🎬","🎥","📺","📷","📹","🎞️","📽️","🎮","🎲","🧩","🎨","🎭","🎪","🎟️","🎫","🎬","🎥","📺","📷","📹","🎞️","📽️","🎮","🎲","🧩","🎯","🎨","🎪"];m.useEffect(()=>{re()},[]);const re=async()=>{try{u(!0);const fe=(await ar.getAllCategories()).map(H=>({...H,isActive:H.isActive??!0}));c(fe),p(null)}catch(te){console.error("Error loading categories:",te),p("Failed to load categories. Please try again.")}finally{u(!1)}},X=te=>{if(!te)return"N/A";try{if(te.toDate)return te.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});const fe=new Date(te);return isNaN(fe.getTime())?"N/A":fe.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(fe){return console.error("Error formatting date:",fe),"N/A"}},pe=async te=>{te.preventDefault();try{const fe={...$,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await ar.addCategory(fe),E(!1),L({name:"",icon:"",color:"",isActive:!0,description:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),re()}catch(fe){console.error("Error adding category:",fe),p("Failed to add category. Please try again.")}},ue=async te=>{te.preventDefault();try{const fe={...f,isActive:f.isActive??!0,updatedAt:new Date().toISOString()};await ar.updateCategory(f.id,fe),N(!1),y(null),re()}catch(fe){console.error("Error updating category:",fe),p("Failed to update category. Please try again.")}},Le=async()=>{try{await ar.deleteCategory(I.id),W(!1),V(null),re()}catch(te){console.error("Error deleting category:",te),p("Failed to delete category. Please try again.")}},Fe=te=>{x?L({...$,icon:te}):w&&f&&y({...f,icon:te}),O(!1)};return a?n.jsx("div",{className:"loading",children:"Loading categories..."}):h?n.jsx("div",{className:"error",children:h}):n.jsxs("div",{className:"category-management",children:[n.jsxs("div",{className:"category-header",children:[n.jsx("h2",{children:"Manage Categories"}),n.jsx("button",{className:"add-button",onClick:()=>E(!0),children:"Add New Category"})]}),n.jsx("div",{className:"categories-list redesigned",children:i.map(te=>n.jsxs("div",{className:"category-card redesigned",children:[n.jsxs("div",{className:"category-card-main",children:[n.jsx("div",{className:"category-card-icon",style:{background:te.color?`linear-gradient(135deg, ${te.color}33 0%, #fff 100%)`:"#f3f4f6"},children:n.jsx("span",{className:"icon-emoji",children:te.icon})}),n.jsxs("div",{className:"category-card-info",children:[n.jsx("div",{className:"category-card-title",children:te.name}),te.description&&n.jsx("div",{className:"category-card-desc",children:te.description}),n.jsx("div",{className:"category-card-badges",children:n.jsx("span",{className:`status-badge ${te.isActive?"active":"inactive"}`,children:te.isActive?"Active":"Inactive"})})]})]}),n.jsxs("div",{className:"category-card-meta",children:[n.jsxs("div",{className:"meta-item",children:[n.jsx("span",{className:"meta-icon",role:"img","aria-label":"Created",children:"📅"})," ",n.jsx("span",{className:"meta-label",children:"Created:"})," ",n.jsx("span",{className:"meta-value",children:X(te.createdAt)})]}),te.updatedAt&&n.jsxs("div",{className:"meta-item",children:[n.jsx("span",{className:"meta-icon",role:"img","aria-label":"Updated",children:"🕒"})," ",n.jsx("span",{className:"meta-label",children:"Updated:"})," ",n.jsx("span",{className:"meta-value",children:X(te.updatedAt)})]})]}),n.jsxs("div",{className:"category-card-actions",children:[n.jsxs("button",{className:"action-button edit-button",onClick:()=>{y(te),N(!0)},children:[n.jsx("span",{role:"img","aria-label":"Edit",children:"✏️"})," Edit"]}),n.jsxs("button",{className:"action-button delete-button",onClick:()=>{V(te),W(!0)},children:[n.jsx("span",{role:"img","aria-label":"Delete",children:"🗑️"})," Delete"]})]})]},te.id))}),x&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h2",{children:"Add New Category"}),n.jsxs("form",{onSubmit:pe,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Name"}),n.jsx("input",{type:"text",value:$.name,onChange:te=>L({...$,name:te.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description"}),n.jsx("textarea",{value:$.description,onChange:te=>L({...$,description:te.target.value}),placeholder:"Enter a description for this category",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Icon"}),n.jsxs("div",{className:"emoji-input-container",children:[n.jsx("input",{type:"text",value:$.icon,onChange:te=>L({...$,icon:te.target.value}),placeholder:"Click to select an emoji",required:!0,readOnly:!0,onClick:()=>O(!0)}),n.jsx("span",{className:"emoji-preview",children:$.icon})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Color"}),n.jsxs("select",{value:$.color,onChange:te=>L({...$,color:te.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Select a color"}),n.jsx("option",{value:"red",children:"Red"}),n.jsx("option",{value:"blue",children:"Blue"}),n.jsx("option",{value:"green",children:"Green"}),n.jsx("option",{value:"yellow",children:"Yellow"}),n.jsx("option",{value:"purple",children:"Purple"}),n.jsx("option",{value:"pink",children:"Pink"}),n.jsx("option",{value:"orange",children:"Orange"}),n.jsx("option",{value:"teal",children:"Teal"}),n.jsx("option",{value:"indigo",children:"Indigo"}),n.jsx("option",{value:"cyan",children:"Cyan"}),n.jsx("option",{value:"lime",children:"Lime"}),n.jsx("option",{value:"amber",children:"Amber"}),n.jsx("option",{value:"rose",children:"Rose"})]})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:$.isActive,onChange:te=>L({...$,isActive:te.target.checked})}),"Active Category"]})}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"submit",className:"submit-button",children:"Add Category"}),n.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{E(!1),L({name:"",icon:"",color:"",isActive:!0,description:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})},children:"Cancel"})]})]})]})}),w&&f&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h2",{children:"Edit Category"}),n.jsxs("form",{onSubmit:ue,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Name"}),n.jsx("input",{type:"text",value:f.name,onChange:te=>y({...f,name:te.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description"}),n.jsx("textarea",{value:f.description,onChange:te=>y({...f,description:te.target.value}),placeholder:"Enter a description for this category",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Icon"}),n.jsxs("div",{className:"emoji-input-container",children:[n.jsx("input",{type:"text",value:f.icon,onChange:te=>y({...f,icon:te.target.value}),placeholder:"Click to select an emoji",required:!0,readOnly:!0,onClick:()=>O(!0)}),n.jsx("span",{className:"emoji-preview",children:f.icon})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Color"}),n.jsxs("select",{value:f.color,onChange:te=>y({...f,color:te.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Select a color"}),n.jsx("option",{value:"red",children:"Red"}),n.jsx("option",{value:"blue",children:"Blue"}),n.jsx("option",{value:"green",children:"Green"}),n.jsx("option",{value:"yellow",children:"Yellow"}),n.jsx("option",{value:"purple",children:"Purple"}),n.jsx("option",{value:"pink",children:"Pink"}),n.jsx("option",{value:"orange",children:"Orange"}),n.jsx("option",{value:"teal",children:"Teal"}),n.jsx("option",{value:"indigo",children:"Indigo"}),n.jsx("option",{value:"cyan",children:"Cyan"}),n.jsx("option",{value:"lime",children:"Lime"}),n.jsx("option",{value:"amber",children:"Amber"}),n.jsx("option",{value:"rose",children:"Rose"})]})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:f.isActive,onChange:te=>y({...f,isActive:te.target.checked})}),"Active Category"]})}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"submit",className:"submit-button",children:"Save Changes"}),n.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{N(!1),y(null)},children:"Cancel"})]})]})]})}),F&&I&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h2",{children:"Delete Category"}),n.jsxs("p",{children:['Are you sure you want to delete the category "',I.name,'"?']}),n.jsx("p",{className:"warning",children:"This action cannot be undone."}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"delete-button",onClick:Le,children:"Delete"}),n.jsx("button",{className:"cancel-button",onClick:()=>{W(!1),V(null)},children:"Cancel"})]})]})}),_&&n.jsx("div",{className:"modal-overlay emoji-picker-overlay",children:n.jsxs("div",{className:"modal-content emoji-picker-content",children:[n.jsxs("div",{className:"emoji-picker-header",children:[n.jsx("h3",{children:"Select an Emoji"}),n.jsx("button",{className:"close-button",onClick:()=>O(!1),children:"×"})]}),n.jsx("div",{className:"emoji-grid",children:z.map((te,fe)=>n.jsx("button",{className:"emoji-button",onClick:()=>Fe(te),children:te},fe))})]})})]})},Nf=()=>{const[i,c]=m.useState([]),[a,u]=m.useState(!0),[h,p]=m.useState(null),[f,y]=m.useState(!1),[x,E]=m.useState(null),[w,N]=m.useState(""),[F,W]=m.useState("all"),[_,O]=m.useState([]),[I,V]=m.useState(!1),$=Xo(),[L,z]=m.useState({name:"",description:"",category:"",icon:"📋",nextSteps:"",situations:[""],tips:[""],examples:[""],subcategories:[""],isActive:!0});m.useEffect(()=>{re()},[]);const re=async()=>{try{u(!0);const b=je($,"dispositions"),B=Ie(b,it("name")),U=(await xe(B)).docs.map(q=>({id:q.id,...q.data()}));c(U)}catch(b){console.error("Error fetching dispositions:",b),p("Failed to load dispositions")}finally{u(!1)}},X=async b=>{b.preventDefault();try{const B=je($,"dispositions"),M={...L,situations:L.situations.filter(U=>U.trim()),tips:L.tips.filter(U=>U.trim()),examples:L.examples.filter(U=>U.trim()),subcategories:L.subcategories.filter(U=>U.trim())};x?await wt(Ce($,"dispositions",x.id),M):await Wt(B,M),y(!1),E(null),Fe(),re()}catch(B){console.error("Error saving disposition:",B),p("Failed to save disposition")}},pe=b=>{E(b),z({name:b.name||"",description:b.description||"",category:b.category||"",icon:b.icon||"📋",nextSteps:b.nextSteps||"",situations:b.situations||[""],tips:b.tips||[""],examples:b.examples||[""],subcategories:b.subcategories||[""],isActive:b.isActive===void 0?!0:b.isActive}),y(!0)},ue=async b=>{if(window.confirm("Are you sure you want to delete this disposition?"))try{await Vt(Ce($,"dispositions",b)),re()}catch(B){console.error("Error deleting disposition:",B),p("Failed to delete disposition")}},Le=async()=>{if(window.confirm(`Are you sure you want to delete ${_.length} dispositions?`))try{const b=_.map(B=>Vt(Ce($,"dispositions",B)));await Promise.all(b),O([]),V(!1),re()}catch(b){console.error("Error bulk deleting dispositions:",b),p("Failed to delete dispositions")}},Fe=()=>{z({name:"",description:"",category:"",icon:"📋",nextSteps:"",situations:[""],tips:[""],examples:[""],subcategories:[""],isActive:!0})},te=b=>{z(B=>({...B,[b]:[...B[b],""]}))},fe=(b,B)=>{z(M=>({...M,[b]:M[b].filter((U,q)=>q!==B)}))},H=(b,B,M)=>{z(U=>({...U,[b]:U[b].map((q,k)=>k===B?M:q)}))},ye=i.filter(b=>{const B=b.name.toLowerCase().includes(w.toLowerCase())||b.description.toLowerCase().includes(w.toLowerCase()),M=F==="all"||b.category===F;return B&&M}),ke=[...new Set(i.map(b=>b.category).filter(Boolean))];return a?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading dispositions..."})]}):n.jsxs("div",{className:"lead-disposition-management",children:[n.jsxs("div",{className:"management-header",children:[n.jsx("h2",{children:"Lead Disposition Management"}),n.jsxs("div",{className:"header-actions",children:[n.jsx("button",{className:"fix-button",onClick:async()=>{try{const b=je($,"dispositions"),M=(await xe(b)).docs.map(U=>U.data().isActive===void 0?wt(U.ref,{isActive:!0}):Promise.resolve());await Promise.all(M),re(),p("Fixed existing dispositions!"),setTimeout(()=>p(null),3e3)}catch(b){console.error("Error fixing dispositions:",b),p("Failed to fix dispositions")}},children:"🔧 Fix Existing Dispositions"}),n.jsx("button",{className:"add-button",onClick:()=>{E(null),Fe(),y(!0)},children:"➕ Add New Disposition"})]})]}),h&&n.jsxs("div",{className:"error-message",children:[h,n.jsx("button",{onClick:()=>p(null),children:"×"})]}),n.jsxs("div",{className:"management-controls",children:[n.jsxs("div",{className:"search-filter",children:[n.jsx("input",{type:"text",placeholder:"Search dispositions...",value:w,onChange:b=>N(b.target.value),className:"search-input"}),n.jsxs("select",{value:F,onChange:b=>W(b.target.value),className:"category-filter",children:[n.jsx("option",{value:"all",children:"All Categories"}),ke.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsxs("div",{className:"bulk-actions",children:[n.jsxs("label",{className:"select-all",children:[n.jsx("input",{type:"checkbox",checked:_.length===ye.length&&ye.length>0,onChange:b=>{b.target.checked?O(ye.map(B=>B.id)):O([])}}),"Select All"]}),_.length>0&&n.jsx("div",{className:"bulk-action-buttons",children:n.jsxs("button",{className:"bulk-delete-button",onClick:Le,children:["🗑️ Delete Selected (",_.length,")"]})})]})]}),n.jsx("div",{className:"dispositions-grid",children:ye.map(b=>n.jsxs("div",{className:"disposition-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("input",{type:"checkbox",checked:_.includes(b.id),onChange:B=>{B.target.checked?O(M=>[...M,b.id]):O(M=>M.filter(U=>U!==b.id))},className:"select-checkbox"}),n.jsx("span",{className:"disposition-icon",children:b.icon}),n.jsx("h3",{className:"disposition-name",children:b.name}),n.jsx("span",{className:`status-badge ${b.isActive===void 0||b.isActive?"active":"inactive"}`,children:b.isActive===void 0||b.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"card-content",children:[n.jsx("p",{className:"disposition-description",children:b.description}),b.category&&n.jsx("span",{className:"disposition-category",children:b.category})]}),n.jsxs("div",{className:"card-actions",children:[n.jsx("button",{className:"edit-button",onClick:()=>pe(b),children:"✏️ Edit"}),n.jsx("button",{className:"delete-button",onClick:()=>ue(b.id),children:"🗑️ Delete"})]})]},b.id))}),ye.length===0&&n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No dispositions found. Create your first disposition to get started!"})}),f&&n.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:n.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:x?"Edit Disposition":"Add New Disposition"}),n.jsx("button",{className:"modal-close",onClick:()=>y(!1),children:"×"})]}),n.jsxs("form",{onSubmit:X,className:"disposition-form",children:[n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Name *"}),n.jsx("input",{type:"text",value:L.name,onChange:b=>z(B=>({...B,name:b.target.value})),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Icon"}),n.jsx("input",{type:"text",value:L.icon,onChange:b=>z(B=>({...B,icon:b.target.value})),placeholder:"📋"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description *"}),n.jsx("textarea",{value:L.description,onChange:b=>z(B=>({...B,description:b.target.value})),required:!0,rows:3})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Category"}),n.jsx("input",{type:"text",value:L.category,onChange:b=>z(B=>({...B,category:b.target.value}))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{value:L.isActive?"active":"inactive",onChange:b=>z(B=>({...B,isActive:b.target.value==="active"})),children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Next Steps"}),n.jsx("textarea",{value:L.nextSteps,onChange:b=>z(B=>({...B,nextSteps:b.target.value})),rows:2})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Situations"}),L.situations.map((b,B)=>n.jsxs("div",{className:"array-input",children:[n.jsx("input",{type:"text",value:b,onChange:M=>H("situations",B,M.target.value),placeholder:"When to use this disposition..."}),n.jsx("button",{type:"button",onClick:()=>fe("situations",B),className:"remove-button",children:"×"})]},B)),n.jsx("button",{type:"button",onClick:()=>te("situations"),className:"add-array-button",children:"+ Add Situation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tips & Best Practices"}),L.tips.map((b,B)=>n.jsxs("div",{className:"array-input",children:[n.jsx("input",{type:"text",value:b,onChange:M=>H("tips",B,M.target.value),placeholder:"Tip or best practice..."}),n.jsx("button",{type:"button",onClick:()=>fe("tips",B),className:"remove-button",children:"×"})]},B)),n.jsx("button",{type:"button",onClick:()=>te("tips"),className:"add-array-button",children:"+ Add Tip"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Examples"}),L.examples.map((b,B)=>n.jsxs("div",{className:"array-input",children:[n.jsx("input",{type:"text",value:b,onChange:M=>H("examples",B,M.target.value),placeholder:"Common example..."}),n.jsx("button",{type:"button",onClick:()=>fe("examples",B),className:"remove-button",children:"×"})]},B)),n.jsx("button",{type:"button",onClick:()=>te("examples"),className:"add-array-button",children:"+ Add Example"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Subcategories"}),L.subcategories.map((b,B)=>n.jsxs("div",{className:"array-input",children:[n.jsx("input",{type:"text",value:b,onChange:M=>H("subcategories",B,M.target.value),placeholder:"Subcategory name..."}),n.jsx("button",{type:"button",onClick:()=>fe("subcategories",B),className:"remove-button",children:"×"})]},B)),n.jsx("button",{type:"button",onClick:()=>te("subcategories"),className:"add-array-button",children:"+ Add Subcategory"})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",onClick:()=>y(!1),className:"cancel-button",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"save-button",children:[x?"Update":"Create"," Disposition"]})]})]})]})})]})},Go={"Appointment Management":"📅",Scheduling:"⏰",Cancellation:"❌",Confirmation:"✅","Follow-up":"📞",Rescheduling:"🔄",Urgent:"⚠️",General:"💬"},Sf=["appointments","scheduling","confirmation","cancellation","followup"],bf=()=>{const[i,c]=m.useState([]),[a,u]=m.useState(!0),[h,p]=m.useState(null),[f,y]=m.useState(!1),[x,E]=m.useState(!1),[w,N]=m.useState(!1),[F,W]=m.useState(null),[_,O]=m.useState(""),[I,V]=m.useState("title"),[$,L]=m.useState(!1),[z,re]=m.useState("all"),[X,pe]=m.useState({total:0,urgent:0,categories:{}}),[ue,Le]=m.useState({title:"",description:"",topic:"",category:"",icon:"",steps:[""],tips:[""],keywords:[""],isUrgent:!1});m.useEffect(()=>{Fe()},[]),m.useEffect(()=>{const T=i.filter(de=>de.isUrgent).length,ne={};i.forEach(de=>{ne[de.category]=(ne[de.category]||0)+1}),pe({total:i.length,urgent:T,categories:ne})},[i]);const Fe=async()=>{try{u(!0);const T=await Ad();c(T),p(null)}catch(T){p("Failed to load service topics. Please try again."),console.error("Error loading topics:",T)}finally{u(!1)}},te=async()=>{if(window.confirm("Are you sure you want to reset all service topics? This action cannot be undone."))try{u(!0),await mf(),await Fe(),p("Service topics have been reset successfully!"),setTimeout(()=>p(null),3e3)}catch(T){p("Failed to reset service topics. Please try again."),console.error("Error resetting topics:",T)}finally{u(!1)}},fe=()=>{Le({title:"",description:"",topic:"",category:"",icon:"",steps:[""],tips:[""],keywords:[""],isUrgent:!1}),y(!0)},H=T=>{W(T),Le({title:T.title,description:T.description,topic:T.topic,category:T.category,icon:T.icon,steps:T.steps||[""],tips:T.tips||[""],keywords:T.keywords||[""],isUrgent:T.isUrgent||!1}),E(!0)},ye=T=>{W(T),N(!0)},ke=async T=>{T.preventDefault();try{f?await uf(ue):await df(F.id,ue),await Fe(),y(!1),E(!1),p(null)}catch(ne){p("Failed to save service topic. Please try again."),console.error("Error saving topic:",ne)}},b=async()=>{try{await hf(F.id),await Fe(),N(!1),p(null)}catch(T){p("Failed to delete service topic. Please try again."),console.error("Error deleting topic:",T)}},B=T=>{const{name:ne,value:de,type:be,checked:Ee}=T.target;Le(C=>({...C,[ne]:be==="checkbox"?Ee:de}))},M=(T,ne,de)=>{Le(be=>({...be,[de]:be[de].map((Ee,C)=>C===T?ne:Ee)}))},U=T=>{Le(ne=>({...ne,[T]:[...ne[T],""]}))},q=(T,ne)=>{Le(de=>({...de,[ne]:de[ne].filter((be,Ee)=>Ee!==T)}))},k=T=>{Le(ne=>({...ne,icon:T})),L(!1)},v=i.filter(T=>{const ne=T.title.toLowerCase().includes(_.toLowerCase())||T.description.toLowerCase().includes(_.toLowerCase())||T.category.toLowerCase().includes(_.toLowerCase()),de=z==="all"||T.category===z;return ne&&de}).sort((T,ne)=>{switch(I){case"title":return T.title.localeCompare(ne.title);case"category":return T.category.localeCompare(ne.category);case"urgent":return(ne.isUrgent?1:0)-(T.isUrgent?1:0);default:return 0}}),K=[...new Set(i.map(T=>T.category).filter(Boolean))];return a?n.jsx("div",{className:"customer-service-management",children:n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading customer service topics..."})]})}):n.jsxs("div",{className:"customer-service-management",children:[n.jsxs("div",{className:"management-header",children:[n.jsxs("div",{className:"header-content",children:[n.jsx("h2",{children:"Customer Service Management"}),n.jsx("p",{className:"header-subtitle",children:"Manage support topics, procedures, and customer service guidelines"})]}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"reset-button",onClick:te,children:[n.jsx("span",{className:"button-icon",children:"🔄"}),"Reset Topics"]}),n.jsxs("button",{className:"add-button",onClick:fe,children:[n.jsx("span",{className:"button-icon",children:"➕"}),"Add New Topic"]})]})]}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:"📋"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Total Topics"}),n.jsx("div",{className:"stat-number",children:X.total})]})]}),n.jsxs("div",{className:"stat-card urgent",children:[n.jsx("div",{className:"stat-icon",children:"⚠️"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Urgent Topics"}),n.jsx("div",{className:"stat-number",children:X.urgent})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:"🏷️"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Categories"}),n.jsx("div",{className:"stat-number",children:K.length})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:"📈"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Active"}),n.jsx("div",{className:"stat-number",children:X.total-X.urgent})]})]})]}),h&&n.jsxs("div",{className:"error-message",children:[n.jsx("span",{children:h}),n.jsx("button",{onClick:()=>p(null),children:"×"})]}),n.jsx("div",{className:"management-controls",children:n.jsxs("div",{className:"search-filter",children:[n.jsxs("div",{className:"search-container",children:[n.jsx("input",{type:"text",className:"search-input",placeholder:"Search topics...",value:_,onChange:T=>O(T.target.value)}),n.jsx("span",{className:"search-icon",children:"🔍"})]}),n.jsxs("select",{className:"category-filter",value:z,onChange:T=>re(T.target.value),children:[n.jsx("option",{value:"all",children:"All Categories"}),K.map(T=>n.jsx("option",{value:T,children:T},T))]}),n.jsxs("select",{className:"sort-select",value:I,onChange:T=>V(T.target.value),children:[n.jsx("option",{value:"title",children:"Sort by Title"}),n.jsx("option",{value:"category",children:"Sort by Category"}),n.jsx("option",{value:"urgent",children:"Sort by Urgency"})]})]})}),n.jsx("div",{className:"topics-grid",children:v.map(T=>n.jsxs("div",{className:`topic-card ${T.isUrgent?"urgent":""}`,children:[n.jsxs("div",{className:"card-header",children:[n.jsx("div",{className:"topic-icon",children:n.jsx("span",{className:"icon",children:T.icon||Go[T.category]||"💬"})}),n.jsxs("div",{className:"card-actions",children:[n.jsx("button",{className:"edit-button",onClick:()=>H(T),title:"Edit topic",children:"✏️"}),n.jsx("button",{className:"delete-button",onClick:()=>ye(T),title:"Delete topic",children:"🗑️"})]})]}),n.jsxs("div",{className:"card-content",children:[n.jsx("h3",{className:"topic-title",children:T.title}),n.jsx("p",{className:"topic-description",children:T.description}),n.jsxs("div",{className:"topic-meta",children:[n.jsxs("span",{className:"category-badge",children:[n.jsx("span",{className:"category-icon",children:Go[T.category]||"💬"}),T.category]}),T.isUrgent&&n.jsx("span",{className:"urgent-badge",children:"Urgent"})]}),n.jsxs("div",{className:"topic-stats",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Steps"}),n.jsx("span",{className:"stat-value",children:T.steps?.length||0})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Tips"}),n.jsx("span",{className:"stat-value",children:T.tips?.length||0})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Keywords"}),n.jsx("span",{className:"stat-value",children:T.keywords?.length||0})]})]})]})]},T.id))}),v.length===0&&n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:"📋"}),n.jsx("h3",{children:"No topics found"}),n.jsx("p",{children:"Create your first customer service topic to get started!"}),n.jsxs("button",{className:"add-button",onClick:fe,children:[n.jsx("span",{className:"button-icon",children:"➕"}),"Add New Topic"]})]}),(f||x)&&n.jsx("div",{className:"modal-overlay",onClick:()=>{y(!1),E(!1)},children:n.jsxs("div",{className:"topic-modal",onClick:T=>T.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:f?"Add New Topic":"Edit Topic"}),n.jsx("button",{className:"close-modal",onClick:()=>{y(!1),E(!1)},children:"×"})]}),n.jsxs("form",{onSubmit:ke,className:"topic-form",children:[n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Title *"}),n.jsx("input",{type:"text",name:"title",value:ue.title,onChange:B,required:!0,placeholder:"Enter topic title"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Category *"}),n.jsxs("select",{name:"category",value:ue.category,onChange:B,required:!0,children:[n.jsx("option",{value:"",children:"Select category"}),Sf.map(T=>n.jsx("option",{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T))]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description *"}),n.jsx("textarea",{name:"description",value:ue.description,onChange:B,required:!0,rows:3,placeholder:"Describe the topic..."})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Topic"}),n.jsx("input",{type:"text",name:"topic",value:ue.topic,onChange:B,placeholder:"Enter topic keyword"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Icon"}),n.jsxs("div",{className:"icon-input-container",children:[n.jsx("input",{type:"text",className:"icon-input",value:ue.icon,onChange:B,name:"icon",onClick:()=>L(!0),placeholder:"Click to select icon",readOnly:!0}),n.jsx("div",{className:"icon-preview",children:ue.icon||Go[ue.category]||"💬"})]}),$&&n.jsx("div",{className:"icon-picker",children:n.jsx("div",{className:"icon-picker-grid",children:Object.values(Go).map((T,ne)=>n.jsx("button",{className:"icon-picker-item",onClick:()=>k(T),children:T},ne))})})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Steps"}),ue.steps.map((T,ne)=>n.jsxs("div",{className:"array-input",children:[n.jsx("input",{type:"text",value:T,onChange:de=>M(ne,de.target.value,"steps"),placeholder:`Step ${ne+1}`}),n.jsx("button",{type:"button",className:"remove-button",onClick:()=>q(ne,"steps"),children:"×"})]},ne)),n.jsx("button",{type:"button",className:"add-array-button",onClick:()=>U("steps"),children:"+ Add Step"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tips & Best Practices"}),ue.tips.map((T,ne)=>n.jsxs("div",{className:"array-input",children:[n.jsx("input",{type:"text",value:T,onChange:de=>M(ne,de.target.value,"tips"),placeholder:`Tip ${ne+1}`}),n.jsx("button",{type:"button",className:"remove-button",onClick:()=>q(ne,"tips"),children:"×"})]},ne)),n.jsx("button",{type:"button",className:"add-array-button",onClick:()=>U("tips"),children:"+ Add Tip"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Keywords"}),ue.keywords.map((T,ne)=>n.jsxs("div",{className:"array-input",children:[n.jsx("input",{type:"text",value:T,onChange:de=>M(ne,de.target.value,"keywords"),placeholder:`Keyword ${ne+1}`}),n.jsx("button",{type:"button",className:"remove-button",onClick:()=>q(ne,"keywords"),children:"×"})]},ne)),n.jsx("button",{type:"button",className:"add-array-button",onClick:()=>U("keywords"),children:"+ Add Keyword"})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",name:"isUrgent",checked:ue.isUrgent,onChange:B}),n.jsx("span",{className:"checkmark"}),"Mark as Urgent"]})}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{y(!1),E(!1)},children:"Cancel"}),n.jsx("button",{type:"submit",className:"save-button",children:f?"Create Topic":"Save Changes"})]})]})]})}),w&&n.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:n.jsxs("div",{className:"delete-modal",onClick:T=>T.stopPropagation(),children:[n.jsxs("div",{className:"delete-header",children:[n.jsx("div",{className:"warning-icon",children:"⚠️"}),n.jsx("h2",{children:"Delete Topic"})]}),n.jsxs("div",{className:"delete-content",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:['"',F?.title,'"']}),"?"]}),n.jsx("p",{className:"delete-warning",children:"This action cannot be undone."})]}),n.jsxs("div",{className:"delete-actions",children:[n.jsx("button",{className:"cancel-button",onClick:()=>N(!1),children:"Cancel"}),n.jsx("button",{className:"delete-button",onClick:b,children:"Delete Topic"})]})]})})]})},Ef=()=>{const[i,c]=m.useState([]),[a,u]=m.useState(!0),[h,p]=m.useState(null),[f,y]=m.useState(!1),[x,E]=m.useState(!1),[w,N]=m.useState(null),[F,W]=m.useState(""),[_,O]=m.useState({question:"",answer:""});m.useEffect(()=>{I()},[]);const I=async()=>{try{u(!0),p(null);const X=await Ds.getAllFAQs();c(X)}catch(X){console.error("Error loading FAQs:",X),p("Failed to load FAQs. Please try again.")}finally{u(!1)}},V=async X=>{X.preventDefault();try{if(!_.question.trim()||!_.answer.trim()){p("Please fill in both question and answer fields.");return}await Ds.addFAQ(_),O({question:"",answer:""}),y(!1),p(null),I()}catch(pe){console.error("Error adding FAQ:",pe),p("Failed to add FAQ. Please try again.")}},$=async X=>{X.preventDefault();try{if(!w.question.trim()||!w.answer.trim()){p("Please fill in both question and answer fields.");return}await Ds.updateFAQ(w.id,{question:w.question,answer:w.answer}),N(null),E(!1),p(null),I()}catch(pe){console.error("Error updating FAQ:",pe),p("Failed to update FAQ. Please try again.")}},L=async X=>{if(window.confirm("Are you sure you want to delete this FAQ?"))try{await Ds.deleteFAQ(X),I(),p(null)}catch(pe){console.error("Error deleting FAQ:",pe),p("Failed to delete FAQ. Please try again.")}},z=X=>{N({...X}),E(!0)},re=i.filter(X=>X.question.toLowerCase().includes(F.toLowerCase())||X.answer.toLowerCase().includes(F.toLowerCase()));return a?n.jsxs("div",{className:"faq-management-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading FAQs..."})]}):n.jsxs("div",{className:"faq-management",children:[n.jsxs("div",{className:"faq-management-header",children:[n.jsx("h2",{children:"FAQ Management"}),n.jsx("div",{className:"faq-actions",children:n.jsxs("button",{className:"add-faq-button",onClick:()=>y(!0),children:[n.jsx("span",{children:"➕"})," Add New FAQ"]})})]}),h&&n.jsxs("div",{className:"error-message",children:[n.jsx("span",{className:"error-icon",children:"⚠️"}),h]}),n.jsxs("div",{className:"faq-search-section",children:[n.jsxs("div",{className:"search-container",children:[n.jsx("input",{type:"text",placeholder:"Search FAQs...",value:F,onChange:X=>W(X.target.value),className:"faq-search-input"}),n.jsx("span",{className:"search-icon",children:"🔍"})]}),n.jsx("div",{className:"search-results",children:F&&n.jsxs("span",{className:"results-count",children:[re.length," result",re.length!==1?"s":""," found"]})})]}),n.jsx("div",{className:"faq-list",children:re.length===0?n.jsx("div",{className:"no-faqs",children:n.jsxs("div",{className:"no-faqs-content",children:[n.jsx("span",{className:"no-faqs-icon",children:"❓"}),n.jsx("h3",{children:"No FAQs found"}),n.jsx("p",{children:F?"No FAQs match your search criteria.":'No FAQs have been added yet. Click "Add New FAQ" to get started.'})]})}):re.map(X=>n.jsxs("div",{className:"faq-item-admin",children:[n.jsxs("div",{className:"faq-content",children:[n.jsx("div",{className:"faq-question-admin",children:n.jsx("h3",{children:X.question})}),n.jsx("div",{className:"faq-answer-admin",children:n.jsx("p",{children:X.answer})}),n.jsxs("div",{className:"faq-meta",children:[n.jsxs("span",{className:"faq-date",children:["Created: ",X.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"]}),X.updatedAt&&X.updatedAt!==X.createdAt&&n.jsxs("span",{className:"faq-updated",children:["Updated: ",X.updatedAt?.toDate?.()?.toLocaleDateString()||"Unknown"]})]})]}),n.jsxs("div",{className:"faq-actions-admin",children:[n.jsx("button",{className:"edit-faq-button",onClick:()=>z(X),title:"Edit FAQ",children:"✏️"}),n.jsx("button",{className:"delete-faq-button",onClick:()=>L(X.id),title:"Delete FAQ",children:"🗑️"})]})]},X.id))}),f&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("button",{className:"modal-close",onClick:()=>{y(!1),O({question:"",answer:""}),p(null)},"aria-label":"Close",children:"×"}),n.jsx("h2",{children:"Add New FAQ"}),n.jsxs("form",{onSubmit:V,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"required",children:"Question"}),n.jsx("input",{type:"text",value:_.question,onChange:X=>O({..._,question:X.target.value}),placeholder:"Enter the question...",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"required",children:"Answer"}),n.jsx("textarea",{value:_.answer,onChange:X=>O({..._,answer:X.target.value}),rows:6,placeholder:"Enter the answer...",required:!0}),n.jsxs("div",{className:"char-count",children:[_.answer.length," characters"]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"submit",className:"submit-button",children:"Add FAQ"}),n.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{y(!1),O({question:"",answer:""}),p(null)},children:"Cancel"})]})]})]})}),x&&w&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h2",{children:"Edit FAQ"}),n.jsxs("form",{onSubmit:$,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"required",children:"Question"}),n.jsx("input",{type:"text",value:w.question,onChange:X=>N({...w,question:X.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"required",children:"Answer"}),n.jsx("textarea",{value:w.answer,onChange:X=>N({...w,answer:X.target.value}),rows:6,required:!0}),n.jsxs("div",{className:"char-count",children:[w.answer.length," characters"]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"submit",className:"submit-button",children:"Update FAQ"}),n.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{E(!1),N(null),p(null)},children:"Cancel"})]})]})]})})]})};ei().catch(i=>{console.error("Failed to initialize Firebase:",i)});const Ur={async restoreAuthSession(){try{const i=localStorage.getItem("adminUser");if(!i)throw new Error("No stored admin user found");const c=JSON.parse(i);return console.log("🔍 userService: Attempting to restore auth session for:",c.email),c}catch(i){throw console.error("🔍 userService: Error restoring auth session:",i),i}},async createUser(i,c,a="user"){try{if(console.log("createUser called with:",{email:i,role:a}),!Pe.currentUser)throw console.log("No current user in auth"),new Error("You must be logged in to create users");console.log("Current user exists:",Pe.currentUser.email);const u=Pe.currentUser.email,h=c;console.log("Creating user in Firebase Auth...");const f=(await dd(Pe,i,c)).user;console.log("User created in Firebase Auth:",f.uid),console.log("Creating user document in Firestore...");const y={uid:f.uid,email:f.email,role:a,createdAt:new Date().toISOString(),createdBy:Pe.currentUser.uid,lastSignIn:null,isActive:!0,emailVerified:f.emailVerified||!1,displayName:f.displayName||"",updatedAt:new Date().toISOString()};return console.log("User data to be saved:",y),await Or(Ce(ie,"users",f.uid),y),console.log("User document created in Firestore"),console.log("Signing out newly created user..."),await zu(Pe),console.log("Signing back in as admin..."),await Bu(Pe,u,h),console.log("Successfully signed back in as admin"),f}catch(u){throw console.error("Error creating user:",u),console.error("Error details:",{code:u.code,message:u.message,stack:u.stack}),u.code==="auth/email-already-in-use"?new Error("This email is already registered"):u.code==="auth/invalid-email"?new Error("Invalid email address"):u.code==="auth/weak-password"?new Error("Password should be at least 6 characters"):u}},async syncUsers(){try{if(!Pe.currentUser)throw new Error("You must be logged in to sync users");const i=await xe(je(ie,"users")),c=new Set(i.docs.map(u=>u.data().uid)),a=await xe(je(ie,"users"));for(const u of a.docs){const h=u.data();c.has(h.uid)||await Or(u(ie,"users",h.uid),{uid:h.uid,email:h.email,role:"user",createdAt:new Date().toISOString(),lastSignIn:null,isActive:!0,emailVerified:!1})}return!0}catch(i){throw console.error("Error syncing users:",i),i}},async getAllUsers(){try{if(console.log("getAllUsers called, checking current user..."),!Pe.currentUser)throw console.log("No current user in auth"),new Error("You must be logged in to view users");console.log("Current user exists:",Pe.currentUser.email),console.log("Fetching users from Firestore...");const i=je(ie,"users");console.log("Created users collection reference");const c=await xe(i);console.log("Firestore query completed, snapshot size:",c.size);const a=c.docs.map(u=>{const h=u.data();return console.log("Processing user document:",{id:u.id,...h}),{id:u.id,...h,role:h.role||"user",isActive:h.isActive!==void 0?h.isActive:!0,emailVerified:h.emailVerified||!1,lastSignIn:h.lastSignIn||null,createdAt:h.createdAt||new Date().toISOString()}});if(console.log("Processed users:",a),a.length===0){console.log("No users found in Firestore, attempting to sync..."),await this.syncUsers();const h=(await xe(i)).docs.map(p=>({id:p.id,...p.data(),role:p.data().role||"user",isActive:p.data().isActive!==void 0?p.data().isActive:!0,emailVerified:p.data().emailVerified||!1,lastSignIn:p.data().lastSignIn||null,createdAt:p.data().createdAt||new Date().toISOString()}));return console.log("Users after sync:",h),h}return a}catch(i){throw console.error("Error in getAllUsers:",i),console.error("Error details:",{code:i.code,message:i.message,stack:i.stack}),i.code==="permission-denied"?new Error("You do not have permission to view users"):i.code==="unauthenticated"?new Error("You must be logged in to view users"):i}},async updateUserLastSignIn(i){try{const c=Ce(ie,"users",i);await wt(c,{lastSignIn:new Date().toISOString()})}catch(c){console.error("Error updating last sign-in:",c)}},async updateUserRole(i,c){try{if(console.log("🔍 userService: updateUserRole called with:",{userId:i,newRole:c}),console.log("🔍 userService: auth.currentUser:",Pe.currentUser),!Pe.currentUser){console.log("🔍 userService: No Firebase Auth user, attempting to restore session...");try{const h=await this.restoreAuthSession();throw console.log("🔍 userService: Restored stored user:",h.email),new Error("Firebase Auth session required. Please log in again.")}catch(h){throw console.log("🔍 userService: Could not restore session:",h.message),new Error("You must be logged in to update user roles")}}console.log("🔍 userService: Current user authenticated, updating role...");const u=Ce(ie,"users",i);await wt(u,{role:c,updatedAt:new Date().toISOString(),updatedBy:Pe.currentUser.uid}),console.log("🔍 userService: Role updated successfully")}catch(a){throw console.error("🔍 userService: Error updating user role:",a),console.error("🔍 userService: Error details:",{code:a.code,message:a.message,stack:a.stack}),a.code==="permission-denied"?new Error("You do not have permission to update user roles"):a.code==="not-found"?new Error("User not found"):a.code==="unavailable"?new Error("Service temporarily unavailable. Please try again."):a}},async deleteUser(i){try{if(console.log("🔍 userService: deleteUser called with:",{userId:i}),console.log("🔍 userService: auth.currentUser:",Pe.currentUser),!Pe.currentUser){console.log("🔍 userService: No Firebase Auth user, attempting to restore session...");try{const a=await this.restoreAuthSession();throw console.log("🔍 userService: Restored stored user:",a.email),new Error("Firebase Auth session required. Please log in again.")}catch(a){throw console.log("🔍 userService: Could not restore session:",a.message),new Error("You must be logged in to delete users")}}console.log("🔍 userService: Current user authenticated, deleting user..."),await Vt(Ce(ie,"users",i)),console.log("🔍 userService: User deleted from Firestore successfully"),console.log("User deleted from Firestore. Note: User may still exist in Firebase Auth.")}catch(c){throw console.error("🔍 userService: Error deleting user:",c),console.error("🔍 userService: Error details:",{code:c.code,message:c.message,stack:c.stack}),c.code==="permission-denied"?new Error("You do not have permission to delete users"):c.code==="not-found"?new Error("User not found"):c}},async loginUser(i,c){try{const u=(await Bu(Pe,i,c)).user,h=Ce(ie,"users",u.uid),p=await Xt(h);let f=!1;if(p.exists()){const y=p.data();f=!y.displayName||y.displayName.trim()==="",await wt(h,{lastSignIn:new Date().toISOString(),emailVerified:u.emailVerified,needsDisplayName:f,updatedAt:new Date().toISOString()})}else{const y={uid:u.uid,email:u.email,role:"user",createdAt:new Date().toISOString(),lastSignIn:new Date().toISOString(),isActive:!0,emailVerified:u.emailVerified,displayName:"",updatedAt:new Date().toISOString(),needsDisplayName:!0};await Or(h,y),f=!0}return{user:u,needsDisplayName:f}}catch(a){throw console.error("Error logging in:",a),a}},async logoutUser(){try{await zu(Pe)}catch(i){throw console.error("Error logging out:",i),i}},getCurrentUser(){return Pe.currentUser},async isCurrentUserAdmin(){try{if(!Pe.currentUser)return!1;const i=await xe(Ie(je(ie,"users"),en("uid","==",Pe.currentUser.uid)));return i.empty?!1:i.docs[0].data().role==="admin"}catch(i){return console.error("Error checking admin status:",i),!1}},async updateDisplayName(i,c){try{if(!Pe.currentUser)throw new Error("You must be logged in to update display name");const a=Ce(ie,"users",i);await wt(a,{displayName:c,needsDisplayName:!1,updatedAt:new Date().toISOString()}),await bp(Pe.currentUser,{displayName:c})}catch(a){throw console.error("Error updating display name:",a),a}}},Af=()=>{const{currentUser:i}=ni(),[c,a]=m.useState([]),[u,h]=m.useState(!0),[p,f]=m.useState(null),[y,x]=m.useState(!1),[E,w]=m.useState(""),[N,F]=m.useState("all"),[W,_]=m.useState("all"),[O,I]=m.useState({email:"",password:"",confirmPassword:"",role:"user"}),[V,$]=m.useState("");m.useEffect(()=>{console.log("UserManagement mounted, currentUser:",i),i?(console.log("Current user exists, fetching users..."),L()):(console.log("No current user found"),f("You must be logged in to view users"),h(!1))},[i]);const L=async()=>{try{if(console.log("Starting fetchUsers..."),h(!0),f(null),!i){console.log("No current user in fetchUsers"),f("You must be logged in to view users"),h(!1);return}console.log("Calling userService.getAllUsers()...");const H=await Ur.getAllUsers();console.log("Fetched users:",H),!H||H.length===0?(console.log("No users found in response"),f("No users found. Try creating a new user.")):(console.log(`Found ${H.length} users`),a(H))}catch(H){console.error("Error in fetchUsers:",H),console.error("Error details:",{code:H.code,message:H.message,stack:H.stack}),H.message.includes("must be logged in")?f("You must be logged in to view users"):H.message.includes("permission-denied")?f("You do not have permission to view users. Please contact your administrator."):f(`Failed to fetch users: ${H.message}`)}finally{h(!1)}},z=async H=>{if(H.preventDefault(),$(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O.email)){$("Please enter a valid email address");return}if(O.password!==O.confirmPassword){$("Passwords do not match");return}if(O.password.length<6){$("Password must be at least 6 characters long");return}try{h(!0),await Ur.createUser(O.email,O.password,O.role),x(!1),I({email:"",password:"",confirmPassword:"",role:"user"}),await L(),alert("User created successfully! They can now log in with their email and password.")}catch(ke){console.error("Error adding user:",ke),ke.message.includes("must be logged in")?$("You must be logged in to create users"):ke.message.includes("already registered")?$("This email is already registered"):ke.message.includes("Invalid email")?$("Please enter a valid email address"):ke.message.includes("Password should be")?$("Password must be at least 6 characters long"):ke.message.includes("permission-denied")?$("You do not have permission to create users"):$(ke.message||"Failed to create user")}finally{h(!1)}},re=async H=>{if(window.confirm("Are you sure you want to delete this user?"))try{console.log("🔍 UserManagement: Attempting to delete user:",H),console.log("🔍 UserManagement: Current user:",Pe.currentUser),console.log("🔍 UserManagement: Stored admin user:",localStorage.getItem("adminUser")),await Ur.deleteUser(H),console.log("🔍 UserManagement: User deleted successfully"),L()}catch(ye){console.error("🔍 UserManagement: Error deleting user:",ye),console.error("🔍 UserManagement: Error details:",{code:ye.code,message:ye.message,stack:ye.stack}),ye.message.includes("must be logged in")?alert("You must be logged in to delete users"):ye.message.includes("Firebase Auth session required")?alert("Your session has expired. Please log in again to continue."):ye.message.includes("permission-denied")?alert("You do not have permission to delete users"):ye.message.includes("not found")?alert("User not found. They may have already been deleted."):alert(`Failed to delete user: ${ye.message}`)}},X=async(H,ye)=>{try{console.log("🔍 UserManagement: Attempting to update user role:",{userId:H,newRole:ye}),console.log("🔍 UserManagement: Current user:",Pe.currentUser),console.log("🔍 UserManagement: Stored admin user:",localStorage.getItem("adminUser")),await Ur.updateUserRole(H,ye),console.log("🔍 UserManagement: User role updated successfully"),L()}catch(ke){console.error("🔍 UserManagement: Error updating user role:",ke),console.error("🔍 UserManagement: Error details:",{code:ke.code,message:ke.message,stack:ke.stack}),ke.message.includes("must be logged in")?alert("You must be logged in to update user roles"):ke.message.includes("Firebase Auth session required")?alert("Your session has expired. Please log in again to continue."):ke.message.includes("permission-denied")?alert("You do not have permission to update user roles"):ke.message.includes("not found")?alert("User not found. They may have been deleted."):ke.message.includes("unavailable")?alert("Service temporarily unavailable. Please try again."):alert(`Failed to update user role: ${ke.message}`)}},pe=H=>H?new Date(H).toLocaleString():"Never",ue=H=>H.isActive!==!1?n.jsx("span",{className:"status-badge active",children:"Active"}):n.jsx("span",{className:"status-badge inactive",children:"Inactive"}),Le=H=>n.jsx("span",{className:`role-badge ${H.toLowerCase()}`,children:H.charAt(0).toUpperCase()+H.slice(1)}),te=c.filter(H=>{const ye=H.email.toLowerCase().includes(E.toLowerCase()),ke=N==="all"||H.role===N,b=W==="all"||W==="active"&&H.isActive||W==="inactive"&&!H.isActive;return ye&&ke&&b}),fe={currentUser:Pe.currentUser,storedAdminUser:localStorage.getItem("adminUser"),usersCount:c.length,filteredUsersCount:te.length};return u?n.jsxs("div",{className:"user-management-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading users..."})]}):p?n.jsx("div",{className:"user-management",children:n.jsxs("div",{className:"error-message",children:[n.jsx("div",{className:"error-icon",children:"⚠️"}),n.jsxs("div",{className:"error-content",children:[n.jsx("h3",{children:"Error Loading Users"}),n.jsx("p",{children:p}),n.jsxs("button",{onClick:L,className:"retry-button",children:[n.jsx("span",{children:"🔄"})," Retry"]})]})]})}):n.jsxs("div",{className:"user-management",children:[n.jsxs("div",{style:{backgroundColor:"#f0f8ff",border:"1px solid #007acc",borderRadius:"8px",padding:"15px",marginBottom:"20px",fontSize:"12px"},children:[n.jsx("h4",{style:{margin:"0 0 10px 0",color:"#007acc"},children:"🔍 Debug Info"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Current User:"})," ",fe.currentUser?`${fe.currentUser.email} (${fe.currentUser.uid})`:"None"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Stored Admin:"})," ",fe.storedAdminUser?"Yes":"No"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Users Count:"})," ",fe.usersCount]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Filtered Users:"})," ",fe.filteredUsersCount]})]}),!fe.currentUser&&fe.storedAdminUser&&n.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px"},children:[n.jsx("strong",{children:"⚠️ Session Issue:"})," You have stored admin data but no active Firebase Auth session.",n.jsx("button",{onClick:()=>window.location.href="/admin/login",style:{marginLeft:"10px",padding:"4px 8px",backgroundColor:"#007acc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Log In Again"})]})]}),n.jsxs("div",{className:"user-management-header",children:[n.jsxs("div",{className:"header-left",children:[n.jsx("h2",{children:"👥 User Management"}),n.jsx("p",{className:"header-subtitle",children:"Manage user accounts and permissions"})]}),n.jsx("div",{className:"header-right",children:n.jsxs("button",{className:"add-button",onClick:()=>x(!0),children:[n.jsx("span",{children:"➕"})," Add New User"]})})]}),n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"search-box",children:[n.jsx("span",{className:"search-icon",children:"🔍"}),n.jsx("input",{type:"text",placeholder:"Search users by email...",value:E,onChange:H=>w(H.target.value),className:"search-input"})]}),n.jsxs("div",{className:"filter-controls",children:[n.jsxs("select",{value:N,onChange:H=>F(H.target.value),className:"filter-select",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"user",children:"User"})]}),n.jsxs("select",{value:W,onChange:H=>_(H.target.value),className:"filter-select",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"users-stats",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("span",{className:"stat-number",children:c.length}),n.jsx("span",{className:"stat-label",children:"Total Users"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("span",{className:"stat-number",children:c.filter(H=>H.role==="admin").length}),n.jsx("span",{className:"stat-label",children:"Admins"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("span",{className:"stat-number",children:c.filter(H=>H.isActive!==!1).length}),n.jsx("span",{className:"stat-label",children:"Active Users"})]})]}),n.jsx("div",{className:"users-list",children:te.length===0?n.jsx("div",{className:"no-users",children:n.jsxs("div",{className:"no-users-content",children:[n.jsx("div",{className:"no-users-icon",children:"👤"}),n.jsx("h3",{children:"No Users Found"}),n.jsx("p",{children:E||N!=="all"||W!=="all"?"Try adjusting your search or filters.":"Get started by creating your first user account."}),!E&&N==="all"&&W==="all"&&n.jsxs("button",{className:"add-button",onClick:()=>x(!0),children:[n.jsx("span",{children:"➕"})," Create First User"]})]})}):n.jsx("div",{className:"users-grid",children:te.map(H=>n.jsxs("div",{className:"user-card redesigned",children:[n.jsxs("div",{className:"user-card-main",children:[n.jsx("div",{className:"user-avatar big",children:H.email.charAt(0).toUpperCase()}),n.jsxs("div",{className:"user-main-info",children:[n.jsx("div",{className:"user-email redesigned",children:H.email}),n.jsxs("div",{className:"user-badges redesigned",children:[ue(H),Le(H.role||"user")]})]}),n.jsxs("div",{className:"user-actions redesigned",children:[n.jsxs("button",{className:"action-button edit",onClick:()=>X(H.id||H.uid,H.role==="admin"?"user":"admin"),title:H.role==="admin"?"Remove Admin":"Make Admin",children:[H.role==="admin"?n.jsx("span",{role:"img","aria-label":"Remove Admin",children:"👑"}):n.jsx("span",{role:"img","aria-label":"Make Admin",children:"👤"}),H.role==="admin"?"Remove Admin":"Make Admin"]}),n.jsxs("button",{className:"action-button delete",onClick:()=>re(H.id||H.uid),title:"Delete User",children:[n.jsx("span",{role:"img","aria-label":"Delete",children:"🗑️"})," Delete"]})]})]}),n.jsx("div",{className:"user-card-divider"}),n.jsxs("div",{className:"user-card-meta",children:[n.jsxs("div",{className:"meta-item",children:[n.jsx("span",{className:"meta-icon",role:"img","aria-label":"Created",children:"📅"}),n.jsx("span",{className:"meta-label",children:"Created:"}),n.jsx("span",{className:"meta-value",children:pe(H.createdAt)})]}),n.jsxs("div",{className:"meta-item",children:[n.jsx("span",{className:"meta-icon",role:"img","aria-label":"Last Sign In",children:"🕒"}),n.jsx("span",{className:"meta-label",children:"Last Sign In:"}),n.jsx("span",{className:"meta-value",children:pe(H.lastSignIn)})]})]})]},H.id||H.uid))})}),y&&n.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:n.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"➕ Add New User"}),n.jsx("button",{className:"modal-close",onClick:()=>x(!1),children:"✕"})]}),V&&n.jsxs("div",{className:"error-message",children:[n.jsx("span",{children:"⚠️"})," ",V]}),n.jsxs("form",{onSubmit:z,className:"add-user-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"📧 Email Address"}),n.jsx("input",{type:"email",id:"email",value:O.email,onChange:H=>I({...O,email:H.target.value}),placeholder:"Enter user's email address",required:!0})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"🔒 Password"}),n.jsx("input",{type:"password",id:"password",value:O.password,onChange:H=>I({...O,password:H.target.value}),placeholder:"Enter password",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",children:"🔒 Confirm Password"}),n.jsx("input",{type:"password",id:"confirmPassword",value:O.confirmPassword,onChange:H=>I({...O,confirmPassword:H.target.value}),placeholder:"Confirm password",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"role",children:"👤 Role"}),n.jsxs("select",{id:"role",value:O.role,onChange:H=>I({...O,role:H.target.value}),children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:()=>x(!1),children:"Cancel"}),n.jsx("button",{type:"submit",className:"create-button",disabled:u,children:u?"🔄 Creating...":"✅ Create User"})]})]})]})})]})},Lf=()=>{const[i,c]=m.useState({totalRebuttals:0,totalCategories:0,totalDispositions:0,totalUsers:0,recentActivity:[],topCategories:[],systemHealth:"Good"}),[a,u]=m.useState(!0);m.useEffect(()=>{h()},[]);const h=async()=>{try{u(!0);const f=Xo(),y=await xe(je(f,"rebuttals")),x=await xe(je(f,"categories")),E=await xe(je(f,"dispositions")),w=await xe(je(f,"users")),N=Ie(je(f,"rebuttals"),it("createdAt","desc"),Ep(5)),W=(await xe(N)).docs.map(I=>({id:I.id,...I.data(),type:"rebuttal"})),_={};y.docs.forEach(I=>{const V=I.data().category;V&&(_[V]=(_[V]||0)+1)});const O=Object.entries(_).map(([I,V])=>({name:I,count:V})).sort((I,V)=>V.count-I.count).slice(0,5);c({totalRebuttals:y.size,totalCategories:x.size,totalDispositions:E.size,totalUsers:w.size,recentActivity:W,topCategories:O,systemHealth:"Good"})}catch(f){console.error("Error fetching dashboard data:",f),c(y=>({...y,systemHealth:"Error"}))}finally{u(!1)}},p=f=>f?(f.toDate?f.toDate():new Date(f)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return a?n.jsxs("div",{className:"dashboard-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading dashboard data..."})]}):n.jsxs("div",{className:"dashboard-view",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{className:"header-content",children:[n.jsx("h1",{children:"Dashboard Overview"}),n.jsx("p",{children:"Welcome to your admin dashboard. Here's what's happening with your system."})]}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"refresh-btn",onClick:h,children:[n.jsx("span",{children:"🔄"}),"Refresh"]})})]}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:"📚"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Total Rebuttals"}),n.jsx("div",{className:"stat-number",children:i.totalRebuttals}),n.jsx("div",{className:"stat-label",children:"Active responses"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:"🏷️"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Categories"}),n.jsx("div",{className:"stat-number",children:i.totalCategories}),n.jsx("div",{className:"stat-label",children:"Organized groups"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:"📋"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Dispositions"}),n.jsx("div",{className:"stat-number",children:i.totalDispositions}),n.jsx("div",{className:"stat-label",children:"Lead outcomes"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:"👥"}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:"Users"}),n.jsx("div",{className:"stat-number",children:i.totalUsers}),n.jsx("div",{className:"stat-label",children:"Registered users"})]})]})]}),n.jsxs("div",{className:"dashboard-grid",children:[n.jsxs("div",{className:"dashboard-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h2",{children:"📈 Recent Activity"}),n.jsx("span",{className:"card-subtitle",children:"Latest rebuttals added"})]}),n.jsx("div",{className:"activity-list",children:i.recentActivity.length>0?i.recentActivity.map((f,y)=>n.jsxs("div",{className:"activity-item",children:[n.jsx("div",{className:"activity-icon",children:"📝"}),n.jsxs("div",{className:"activity-content",children:[n.jsx("div",{className:"activity-title",children:f.summary||f.objection||"Untitled Rebuttal"}),n.jsxs("div",{className:"activity-meta",children:[n.jsx("span",{className:"activity-category",children:f.category||"Uncategorized"}),n.jsx("span",{className:"activity-date",children:p(f.createdAt)})]})]})]},f.id)):n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:"📝"}),n.jsx("p",{children:"No recent activity"}),n.jsx("span",{children:"New rebuttals will appear here"})]})})]}),n.jsxs("div",{className:"dashboard-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h2",{children:"🏆 Top Categories"}),n.jsx("span",{className:"card-subtitle",children:"Most used categories"})]}),n.jsx("div",{className:"categories-list",children:i.topCategories.length>0?i.topCategories.map((f,y)=>n.jsxs("div",{className:"category-item",children:[n.jsxs("div",{className:"category-rank",children:["#",y+1]}),n.jsxs("div",{className:"category-content",children:[n.jsx("div",{className:"category-name",children:f.name}),n.jsxs("div",{className:"category-count",children:[f.count," rebuttals"]})]}),n.jsx("div",{className:"category-bar",children:n.jsx("div",{className:"category-progress",style:{width:`${f.count/Math.max(...i.topCategories.map(x=>x.count))*100}%`}})})]},f.name)):n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:"🏷️"}),n.jsx("p",{children:"No categories yet"}),n.jsx("span",{children:"Categories will appear here"})]})})]}),n.jsxs("div",{className:"dashboard-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h2",{children:"⚡ System Status"}),n.jsx("span",{className:"card-subtitle",children:"Current system health"})]}),n.jsxs("div",{className:"system-status",children:[n.jsxs("div",{className:`status-indicator ${i.systemHealth.toLowerCase()}`,children:[n.jsx("div",{className:"status-dot"}),n.jsx("span",{className:"status-text",children:i.systemHealth})]}),n.jsxs("div",{className:"status-details",children:[n.jsxs("div",{className:"status-item",children:[n.jsx("span",{className:"status-label",children:"Database"}),n.jsx("span",{className:"status-value",children:"Connected"})]}),n.jsxs("div",{className:"status-item",children:[n.jsx("span",{className:"status-label",children:"Authentication"}),n.jsx("span",{className:"status-value",children:"Active"})]}),n.jsxs("div",{className:"status-item",children:[n.jsx("span",{className:"status-label",children:"Storage"}),n.jsx("span",{className:"status-value",children:"Healthy"})]})]})]})]}),n.jsxs("div",{className:"dashboard-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h2",{children:"🚀 Quick Actions"}),n.jsx("span",{className:"card-subtitle",children:"Common admin tasks"})]}),n.jsxs("div",{className:"quick-actions",children:[n.jsxs("button",{className:"action-btn primary",children:[n.jsx("span",{className:"action-icon",children:"➕"}),n.jsxs("div",{className:"action-content",children:[n.jsx("strong",{children:"Add Rebuttal"}),n.jsx("span",{children:"Create new response"})]})]}),n.jsxs("button",{className:"action-btn secondary",children:[n.jsx("span",{className:"action-icon",children:"🏷️"}),n.jsxs("div",{className:"action-content",children:[n.jsx("strong",{children:"Manage Categories"}),n.jsx("span",{children:"Organize content"})]})]}),n.jsxs("button",{className:"action-btn tertiary",children:[n.jsx("span",{className:"action-icon",children:"📊"}),n.jsxs("div",{className:"action-content",children:[n.jsx("strong",{children:"View Analytics"}),n.jsx("span",{children:"Performance data"})]})]}),n.jsxs("button",{className:"action-btn quaternary",children:[n.jsx("span",{className:"action-icon",children:"⚙️"}),n.jsxs("div",{className:"action-content",children:[n.jsx("strong",{children:"Settings"}),n.jsx("span",{children:"Configure system"})]})]})]})]})]})]})},Rf=()=>{const{currentUser:i,authLoading:c}=ni(),a=an(),[u,h]=m.useState(!0),[p,f]=m.useState(null),[y,x]=m.useState(null),[E,w]=m.useState("dashboard");m.useEffect(()=>{(async()=>{try{if(console.log("🔍 AdminDashboard: Starting auth check..."),console.log("🔍 AdminDashboard: Current user:",i),console.log("🔍 AdminDashboard: Auth loading:",c),c){console.log("🔍 AdminDashboard: Auth is still loading...");return}if(!i){console.log("🔍 AdminDashboard: No current user, redirecting to login"),a("/admin/login");return}const _=localStorage.getItem("adminUser");if(_){const O=JSON.parse(_);console.log("🔍 AdminDashboard: Found admin user in localStorage:",O),x(O),h(!1)}else{console.log("🔍 AdminDashboard: No admin user in localStorage, checking Firestore...");const O=Ce(Xo(),"admins",i.uid),I=await Xt(O);if(I.exists()){const V=I.data();console.log("🔍 AdminDashboard: Found admin in Firestore:",V),x({...i,...V}),localStorage.setItem("adminUser",JSON.stringify({...i,...V})),h(!1)}else{console.log("🔍 AdminDashboard: User is not admin, redirecting to login"),a("/admin/login");return}}console.log("🔍 AdminDashboard: Auth check completed successfully")}catch(_){console.error("🔍 AdminDashboard: Auth check error:",_),f("Authentication error: "+_.message),h(!1)}})()},[i,c,a]);const N=()=>{localStorage.removeItem("adminUser"),a("/admin/login")},F=()=>{switch(E){case"dashboard":return n.jsx(Lf,{});case"rebuttals":return n.jsx(Cf,{});case"categories":return n.jsx(kf,{});case"dispositions":return n.jsx(Nf,{});case"customer-service":return n.jsx(bf,{});case"faq":return n.jsx(Ef,{});case"users":return n.jsx(Af,{});default:return null}};return u?n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[n.jsx("div",{style:{fontSize:"1.2rem",fontWeight:600},children:"Loading Admin Dashboard..."}),n.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Please wait while we initialize your admin panel"}),n.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}})]}):p?n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[n.jsx("h2",{children:"Error"}),n.jsx("p",{children:p}),n.jsx("button",{onClick:()=>window.location.reload(),children:"Retry"})]}):y?n.jsxs("div",{className:"admin-dashboard",children:[n.jsxs("header",{className:"admin-header",children:[n.jsx("h1",{children:"Admin Dashboard"}),n.jsxs("div",{className:"admin-actions",children:[n.jsxs("span",{children:["Welcome, ",y.email]}),n.jsx("button",{className:"admin-header-button",onClick:()=>a("/"),children:"Main Page"}),n.jsx("button",{className:"admin-header-button",onClick:N,children:"Logout"})]})]}),n.jsxs("nav",{className:"admin-nav",children:[n.jsxs("button",{className:`nav-tab${E==="dashboard"?" active":""}`,onClick:()=>w("dashboard"),children:[n.jsx("span",{role:"img","aria-label":"Dashboard",children:"🏠"})," Dashboard"]}),n.jsxs("button",{className:`nav-tab${E==="rebuttals"?" active":""}`,onClick:()=>w("rebuttals"),children:[n.jsx("span",{role:"img","aria-label":"Rebuttals",children:"📝"})," Rebuttals"]}),n.jsxs("button",{className:`nav-tab${E==="categories"?" active":""}`,onClick:()=>w("categories"),children:[n.jsx("span",{role:"img","aria-label":"Categories",children:"🏷️"})," Categories"]}),n.jsxs("button",{className:`nav-tab${E==="dispositions"?" active":""}`,onClick:()=>w("dispositions"),children:[n.jsx("span",{role:"img","aria-label":"Dispositions",children:"📋"})," Dispositions"]}),n.jsxs("button",{className:`nav-tab${E==="customer-service"?" active":""}`,onClick:()=>w("customer-service"),children:[n.jsx("span",{role:"img","aria-label":"Customer Service",children:"👥"})," Customer Service"]}),n.jsxs("button",{className:`nav-tab${E==="faq"?" active":""}`,onClick:()=>w("faq"),children:[n.jsx("span",{role:"img","aria-label":"FAQ",children:"❓"})," FAQ"]}),n.jsxs("button",{className:`nav-tab${E==="users"?" active":""}`,onClick:()=>w("users"),children:[n.jsx("span",{role:"img","aria-label":"Users",children:"👤"})," Users"]})]}),n.jsx("main",{className:"admin-content",children:F()})]}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[n.jsx("h2",{children:"Access Denied"}),n.jsx("p",{children:"You don't have permission to access the admin dashboard."}),n.jsx("button",{onClick:()=>a("/admin/login"),children:"Go to Login"})]})},Df=()=>{const i=an(),{currentUser:c,loading:a}=ni(),[u,h]=m.useState("initializing");m.useEffect(()=>{if(console.log("🔍 AdminDashboardTest: Component mounted"),console.log("🔍 AdminDashboardTest: currentUser:",c),console.log("🔍 AdminDashboardTest: authLoading:",a),a){h("auth-loading");return}if(!c){h("no-user");return}localStorage.getItem("adminUser")?(console.log("🔍 AdminDashboardTest: Found admin user in localStorage"),h("admin-found")):(console.log("🔍 AdminDashboardTest: No admin user found"),h("not-admin"))},[c,a]);const p=()=>{i("/admin/login")},f=()=>{window.location.reload()},y=()=>{switch(u){case"initializing":return n.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[n.jsx("h2",{children:"Initializing..."}),n.jsx("p",{children:"Setting up test environment"})]});case"auth-loading":return n.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[n.jsx("h2",{children:"Authentication Loading"}),n.jsx("p",{children:"Please wait while we check your authentication status..."}),n.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"20px auto"}})]});case"no-user":return n.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[n.jsx("h2",{children:"No User Found"}),n.jsx("p",{children:"You need to be logged in to access the admin dashboard."}),n.jsx("button",{onClick:p,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},children:"Go to Login"})]});case"admin-found":return n.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[n.jsx("h2",{children:"Admin Access Confirmed"}),n.jsx("p",{children:"You are logged in as an admin. The dashboard should work properly."}),n.jsxs("div",{style:{backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px",padding:"15px",margin:"20px 0",color:"#155724"},children:[n.jsx("strong",{children:"Status:"})," Ready to load full dashboard"]}),n.jsx("button",{onClick:f,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Full Dashboard"})]});case"not-admin":return n.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[n.jsx("h2",{children:"Access Denied"}),n.jsx("p",{children:"You are logged in but do not have admin privileges."}),n.jsx("button",{onClick:p,style:{padding:"10px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},children:"Go to Login"})]});default:return n.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[n.jsx("h2",{children:"Unknown State"}),n.jsxs("p",{children:["Current state: ",u]}),n.jsx("button",{onClick:f,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]})}};return n.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Arial, sans-serif"},children:[n.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden"},children:[n.jsxs("div",{style:{backgroundColor:"#007bff",color:"white",padding:"20px",textAlign:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Admin Dashboard Test"}),n.jsx("p",{style:{margin:"10px 0 0 0",opacity:.9},children:"Debugging the white screen issue"})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{backgroundColor:"#e9ecef",padding:"15px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:[n.jsx("strong",{children:"Debug Info:"}),n.jsx("br",{}),"Auth Loading: ",a?"Yes":"No",n.jsx("br",{}),"Current User: ",c?"Yes":"No",n.jsx("br",{}),"Test State: ",u,n.jsx("br",{}),"Timestamp: ",new Date().toLocaleString()]}),y()]})]})}),n.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Tf=()=>{const[i,c]=m.useState({firebaseInit:"pending",auth:"pending",firestore:"pending",collections:"pending"}),[a,u]=m.useState(null);m.useEffect(()=>{(async()=>{try{console.log("🔍 FirebaseTest: Starting Firebase tests...");try{console.log("🔍 FirebaseTest: Testing Firebase initialization..."),await ei(),c(y=>({...y,firebaseInit:"success"})),console.log("✅ FirebaseTest: Firebase initialized successfully")}catch(y){console.error("❌ FirebaseTest: Firebase initialization failed:",y),c(x=>({...x,firebaseInit:"error"})),u(`Firebase initialization failed: ${y.message}`);return}try{if(console.log("🔍 FirebaseTest: Testing Auth..."),Pe)console.log("✅ FirebaseTest: Auth is available"),c(y=>({...y,auth:"success"}));else throw new Error("Auth is not available")}catch(y){console.error("❌ FirebaseTest: Auth test failed:",y),c(x=>({...x,auth:"error"}))}try{if(console.log("🔍 FirebaseTest: Testing Firestore..."),ie)console.log("✅ FirebaseTest: Firestore is available"),c(y=>({...y,firestore:"success"}));else throw new Error("Firestore is not available")}catch(y){console.error("❌ FirebaseTest: Firestore test failed:",y),c(x=>({...x,firestore:"error"}))}try{console.log("🔍 FirebaseTest: Testing Firestore collections...");const y=["rebuttals","categories","admins","users"];let x=[];for(const E of y)try{const w=await xe(je(ie,E));console.log(`✅ FirebaseTest: Collection '${E}' is accessible (${w.size} documents)`),x.push(E)}catch(w){console.log(`⚠️ FirebaseTest: Collection '${E}' is not accessible:`,w.message)}x.length>0?c(E=>({...E,collections:"success",accessibleCollections:x})):c(E=>({...E,collections:"error"}))}catch(y){console.error("❌ FirebaseTest: Collections test failed:",y),c(x=>({...x,collections:"error"}))}console.log("🔍 FirebaseTest: All tests completed")}catch(y){console.error("❌ FirebaseTest: Test suite failed:",y),u(`Test suite failed: ${y.message}`)}})()},[]);const h=f=>{switch(f){case"success":return"#28a745";case"error":return"#dc3545";case"pending":return"#ffc107";default:return"#6c757d"}},p=f=>{switch(f){case"success":return"✅ Success";case"error":return"❌ Error";case"pending":return"⏳ Pending";default:return"❓ Unknown"}};return n.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Arial, sans-serif",padding:"20px"},children:n.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden"},children:[n.jsxs("div",{style:{backgroundColor:"#007bff",color:"white",padding:"20px",textAlign:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Firebase Connection Test"}),n.jsx("p",{style:{margin:"10px 0 0 0",opacity:.9},children:"Testing Firebase configuration and connectivity"})]}),n.jsxs("div",{style:{padding:"20px"},children:[a&&n.jsxs("div",{style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",padding:"15px",marginBottom:"20px",color:"#721c24"},children:[n.jsx("strong",{children:"Error:"})," ",a]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{children:"Test Results"}),Object.entries(i).map(([f,y])=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderBottom:"1px solid #e9ecef",backgroundColor:y==="pending"?"#f8f9fa":"white"},children:[n.jsx("span",{style:{fontWeight:"bold",textTransform:"capitalize"},children:f.replace(/([A-Z])/g," $1").trim()}),n.jsx("span",{style:{color:h(y),fontWeight:"bold"},children:p(y)})]},f))]}),i.collections==="success"&&i.accessibleCollections&&n.jsxs("div",{style:{backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px",padding:"15px",marginBottom:"20px"},children:[n.jsx("strong",{children:"Accessible Collections:"}),n.jsx("ul",{style:{margin:"10px 0 0 0"},children:i.accessibleCollections.map(f=>n.jsx("li",{children:f},f))})]}),n.jsxs("div",{style:{backgroundColor:"#e9ecef",padding:"15px",borderRadius:"4px",fontSize:"14px"},children:[n.jsx("strong",{children:"Environment Info:"}),n.jsx("br",{}),"Environment: ","production",n.jsx("br",{}),"Firebase API Key: ","Set",n.jsx("br",{}),"Firebase Project ID: ","Set",n.jsx("br",{}),"Timestamp: ",new Date().toLocaleString()]}),n.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[n.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Run Tests Again"}),n.jsx("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Go Back"})]})]})]})})})},If=()=>{throw new Error("This is a test error")};class Pf extends Ts.Component{constructor(c){super(c),this.state={hasError:!1,error:null}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,a){console.error("Test ErrorBoundary caught error:",c,a)}render(){return this.state.hasError?n.jsxs("div",{style:{padding:"20px",color:"red",textAlign:"center",maxWidth:"600px",margin:"40px auto",border:"1px solid red",borderRadius:"4px"},children:[n.jsx("h2",{children:"Error Boundary Test - Working!"}),n.jsxs("p",{children:["Error: ",this.state.error?.message]}),n.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const Ff=()=>n.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Arial, sans-serif",padding:"20px"},children:n.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden"},children:[n.jsxs("div",{style:{backgroundColor:"#007bff",color:"white",padding:"20px",textAlign:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Error Boundary Test"}),n.jsx("p",{style:{margin:"10px 0 0 0",opacity:.9},children:"Testing if error boundaries work correctly"})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{backgroundColor:"#e9ecef",padding:"15px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:[n.jsx("strong",{children:"Test Info:"}),n.jsx("br",{}),"This page tests if the ErrorBoundary component is working correctly.",n.jsx("br",{}),"If you see an error message below, the ErrorBoundary is working.",n.jsx("br",{}),"If you see a white screen or the app crashes, there's an issue."]}),n.jsx(Pf,{children:n.jsx(If,{})})]})]})})}),Mf=()=>{const[i,c]=m.useState(""),[a,u]=m.useState(""),[h,p]=m.useState(""),[f,y]=m.useState(!1),[x,E]=m.useState(!1),[w,N]=m.useState(""),[F,W]=m.useState(null),_=an();m.useEffect(()=>{localStorage.getItem("adminUser")&&_("/admin/dashboard")},[_]);const O=async $=>{try{const L=Ce(ie,"admins",$.uid),z=await Xt(L);if(!z.exists())return await Or(L,{email:$.email,role:"admin",displayName:$.displayName||"",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()}),!0;const re=z.data();return(!re?.role||re.role!=="admin")&&await Or(L,{role:"admin",lastLogin:new Date().toISOString()},{merge:!0}),!0}catch(L){throw console.error("Error verifying admin status:",L),L}},I=async $=>{$.preventDefault(),p(""),y(!0);try{const{user:L,needsDisplayName:z}=await Ur.loginUser(i,a);if(z){W(L),E(!0),y(!1);return}await O(L),localStorage.setItem("adminUser",JSON.stringify({...L,role:"admin"})),_("/admin/dashboard")}catch(L){p(L.message||"Failed to sign in. Please try again.")}finally{y(!1)}},V=async $=>{if($.preventDefault(),!w.trim()){p("Please enter a display name");return}y(!0);try{await Ur.updateDisplayName(F.uid,w.trim()),await O(F),localStorage.setItem("adminUser",JSON.stringify({...F,displayName:w.trim(),role:"admin"})),_("/admin/dashboard")}catch(L){p(L.message||"Failed to update display name. Please try again.")}finally{y(!1)}};return x?n.jsxs("div",{className:"admin-login-container",children:[n.jsxs("button",{className:"back-button",onClick:()=>_("/"),children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back to Home"]}),n.jsxs("div",{className:"admin-login-card",children:[n.jsxs("div",{className:"admin-login-header",children:[n.jsx("h1",{children:"Set Your Display Name"}),n.jsx("p",{children:"Please enter your display name to continue"})]}),h&&n.jsx("div",{className:"error-message",children:h}),n.jsxs("form",{onSubmit:V,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"displayName",children:"Display Name"}),n.jsx("input",{type:"text",id:"displayName",value:w,onChange:$=>N($.target.value),placeholder:"Enter your display name",required:!0})]}),n.jsx("button",{type:"submit",className:"submit-button",disabled:f,children:f?"Saving...":"Continue"})]})]})]}):n.jsxs("div",{className:"admin-login-container",children:[n.jsxs("button",{className:"back-button",onClick:()=>_("/"),children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back to Home"]}),n.jsxs("div",{className:"admin-login-card",children:[n.jsxs("div",{className:"admin-login-header",children:[n.jsx("h1",{children:"Admin Login"}),n.jsx("p",{children:"Sign in to access the admin dashboard"})]}),h&&n.jsx("div",{className:"error-message",children:h}),n.jsxs("form",{onSubmit:I,className:"login-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",value:i,onChange:$=>c($.target.value),placeholder:"Enter your email",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsx("input",{type:"password",id:"password",value:a,onChange:$=>u($.target.value),placeholder:"Enter your password",required:!0})]}),n.jsx("button",{type:"submit",className:"login-button",disabled:f,children:f?"Signing in...":"Sign In"})]})]})]})},Uf=()=>{const[i,c]=m.useState(""),[a,u]=m.useState(""),[h,p]=m.useState(""),[f,y]=m.useState(""),[x,E]=m.useState(""),[w,N]=m.useState(!1),F=async W=>{if(W.preventDefault(),y(""),E(""),N(!0),a!==h){y("Passwords do not match"),N(!1);return}if(a.length<6){y("Password must be at least 6 characters long"),N(!1);return}try{await qm(i,a),E("Admin user created successfully! You can now log in."),c(""),u(""),p("")}catch(_){console.error("Error creating admin:",_),_.code==="auth/email-already-in-use"?y("This email is already registered"):y(_.message||"Failed to create admin user")}finally{N(!1)}};return n.jsx("div",{className:"admin-setup-container",children:n.jsxs("div",{className:"admin-setup-card",children:[n.jsx("h1",{children:"Create Admin User"}),n.jsx("p",{children:"Set up your first admin account"}),f&&n.jsx("div",{className:"error-message",children:f}),x&&n.jsx("div",{className:"success-message",children:x}),n.jsxs("form",{onSubmit:F,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",value:i,onChange:W=>c(W.target.value),placeholder:"Enter admin email",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsx("input",{type:"password",id:"password",value:a,onChange:W=>u(W.target.value),placeholder:"Enter password",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx("input",{type:"password",id:"confirmPassword",value:h,onChange:W=>p(W.target.value),placeholder:"Confirm password",required:!0})]}),n.jsx("button",{type:"submit",className:"submit-button",disabled:w,children:w?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"loading-spinner"}),"Creating Admin..."]}):"Create Admin User"})]})]})})},Of=()=>{const[i,c]=m.useState([]),[a,u]=m.useState(null),[h,p]=m.useState(!1),[f,y]=m.useState(!1),[x,E]=m.useState({title:"",description:"",icon:"",keySteps:[""],quickTips:[""],tags:[""]});m.useEffect(()=>{w()},[]);const w=async()=>{try{const L=je(ie,"customerServiceCategories"),re=(await xe(L)).docs.map(X=>({id:X.id,...X.data()}));c(re)}catch(L){console.error("Error loading categories:",L)}},N=async()=>{try{const L=je(ie,"customerServiceCategories");await Wt(L,{...x,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),p(!1),_(),w()}catch(L){console.error("Error adding category:",L)}},F=async()=>{try{if(!a)return;const L=Ce(ie,"customerServiceCategories",a.id);await wt(L,{...x,updatedAt:new Date().toISOString()}),y(!1),_(),w()}catch(L){console.error("Error updating category:",L)}},W=async L=>{if(window.confirm("Are you sure you want to delete this category?"))try{const z=Ce(ie,"customerServiceCategories",L);await Vt(z),w()}catch(z){console.error("Error deleting category:",z)}},_=()=>{E({title:"",description:"",icon:"",keySteps:[""],quickTips:[""],tags:[""]}),u(null)},O=(L,z)=>{E(re=>({...re,[z]:L.target.value}))},I=(L,z,re)=>{E(X=>({...X,[re]:X[re].map((pe,ue)=>ue===L?z:pe)}))},V=L=>{E(z=>({...z,[L]:[...z[L],""]}))},$=(L,z)=>{E(re=>({...re,[z]:re[z].filter((X,pe)=>pe!==L)}))};return n.jsxs("div",{className:"customer-service-manager",children:[n.jsxs("div",{className:"manager-header",children:[n.jsx("h1",{children:"Customer Service Content Manager"}),n.jsx("button",{className:"add-button",onClick:()=>{_(),p(!0)},children:"Add New Category"})]}),n.jsx("div",{className:"categories-grid",children:i.map(L=>n.jsxs("div",{className:"category-card",children:[n.jsxs("div",{className:"category-header",children:[n.jsx("span",{className:"category-icon",children:L.icon}),n.jsx("h3",{children:L.title})]}),n.jsx("p",{className:"category-description",children:L.description}),n.jsxs("div",{className:"category-actions",children:[n.jsx("button",{onClick:()=>{u(L),E(L),y(!0)},className:"edit-button",children:"Edit"}),n.jsx("button",{onClick:()=>W(L.id),className:"delete-button",children:"Delete"})]})]},L.id))}),h&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h2",{children:"Add New Category"}),n.jsxs("form",{onSubmit:L=>{L.preventDefault(),N()},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Title"}),n.jsx("input",{type:"text",value:x.title,onChange:L=>O(L,"title"),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description"}),n.jsx("textarea",{value:x.description,onChange:L=>O(L,"description"),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Icon (emoji)"}),n.jsx("input",{type:"text",value:x.icon,onChange:L=>O(L,"icon"),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Key Steps"}),x.keySteps.map((L,z)=>n.jsxs("div",{className:"array-input-group",children:[n.jsx("input",{type:"text",value:L,onChange:re=>I(z,re.target.value,"keySteps"),required:!0}),n.jsx("button",{type:"button",onClick:()=>$(z,"keySteps"),className:"remove-button",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:()=>V("keySteps"),className:"add-item-button",children:"Add Step"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Quick Tips"}),x.quickTips.map((L,z)=>n.jsxs("div",{className:"array-input-group",children:[n.jsx("input",{type:"text",value:L,onChange:re=>I(z,re.target.value,"quickTips"),required:!0}),n.jsx("button",{type:"button",onClick:()=>$(z,"quickTips"),className:"remove-button",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:()=>V("quickTips"),className:"add-item-button",children:"Add Tip"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tags"}),x.tags.map((L,z)=>n.jsxs("div",{className:"array-input-group",children:[n.jsx("input",{type:"text",value:L,onChange:re=>I(z,re.target.value,"tags"),required:!0}),n.jsx("button",{type:"button",onClick:()=>$(z,"tags"),className:"remove-button",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:()=>V("tags"),className:"add-item-button",children:"Add Tag"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"submit",className:"save-button",children:"Save"}),n.jsx("button",{type:"button",onClick:()=>{p(!1),_()},className:"cancel-button",children:"Cancel"})]})]})]})}),f&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h2",{children:"Edit Category"}),n.jsxs("form",{onSubmit:L=>{L.preventDefault(),F()},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Title"}),n.jsx("input",{type:"text",value:x.title,onChange:L=>O(L,"title"),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description"}),n.jsx("textarea",{value:x.description,onChange:L=>O(L,"description"),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Icon (emoji)"}),n.jsx("input",{type:"text",value:x.icon,onChange:L=>O(L,"icon"),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Key Steps"}),x.keySteps.map((L,z)=>n.jsxs("div",{className:"array-input-group",children:[n.jsx("input",{type:"text",value:L,onChange:re=>I(z,re.target.value,"keySteps"),required:!0}),n.jsx("button",{type:"button",onClick:()=>$(z,"keySteps"),className:"remove-button",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:()=>V("keySteps"),className:"add-item-button",children:"Add Step"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Quick Tips"}),x.quickTips.map((L,z)=>n.jsxs("div",{className:"array-input-group",children:[n.jsx("input",{type:"text",value:L,onChange:re=>I(z,re.target.value,"quickTips"),required:!0}),n.jsx("button",{type:"button",onClick:()=>$(z,"quickTips"),className:"remove-button",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:()=>V("quickTips"),className:"add-item-button",children:"Add Tip"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Tags"}),x.tags.map((L,z)=>n.jsxs("div",{className:"array-input-group",children:[n.jsx("input",{type:"text",value:L,onChange:re=>I(z,re.target.value,"tags"),required:!0}),n.jsx("button",{type:"button",onClick:()=>$(z,"tags"),className:"remove-button",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:()=>V("tags"),className:"add-item-button",children:"Add Tag"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{type:"submit",className:"save-button",children:"Save Changes"}),n.jsx("button",{type:"button",onClick:()=>{y(!1),_()},className:"cancel-button",children:"Cancel"})]})]})]})})]})},Ls=({children:i})=>{const c=an(),a=cr(),[u,h]=m.useState(!0),[p,f]=m.useState(!1),[y,x]=m.useState(!1),E=[{path:"/",label:"Home",icon:"🏠"},{path:"/rebuttals",label:"Rebuttals",icon:"💬"},{path:"/disposition",label:"Disposition",icon:"📋"},{path:"/customerService",label:"Customer Service",icon:"👥"},{path:"/faq",label:"FAQ",icon:"❓"}],w=()=>{x(!0)},N=()=>{x(!1)},F=()=>{h(!u)},W=()=>{f(!p)};return n.jsxs("div",{className:"layout",children:[n.jsx("main",{className:`main-content ${u?"expanded":""} ${p?"full-width":""}`,children:i}),!p&&n.jsxs("nav",{className:`side-nav ${u?"collapsed":""}`,children:[n.jsxs("div",{className:"nav-header",children:[n.jsx("h2",{children:"CloseLoop"}),n.jsxs("div",{className:"nav-buttons",children:[n.jsx("button",{className:"nav-toggle",onClick:F,"aria-label":u?"Expand navigation":"Collapse navigation",children:u?"→":"←"}),u&&n.jsx("button",{className:"nav-hide",onClick:W,"aria-label":"Hide navigation",children:"✕"})]})]}),n.jsx("ul",{className:"nav-items",children:E.map(_=>n.jsxs("li",{className:`nav-item ${a.pathname===_.path?"active":""}`,onClick:()=>c(_.path),children:[n.jsx("span",{className:"nav-icon",children:_.icon}),!u&&n.jsx("span",{className:"nav-label",children:_.label})]},_.path))}),n.jsx("div",{className:"nav-footer",children:n.jsxs("button",{className:"download-button",onClick:w,title:"Download Desktop App",children:[n.jsx("span",{className:"download-icon",children:"⬇️"}),!u&&n.jsx("span",{className:"download-text",children:"Download App"})]})})]}),p&&n.jsx("button",{className:"show-nav-button",onClick:W,"aria-label":"Show navigation",children:"→"}),y&&n.jsx("div",{className:"coming-soon-overlay",onClick:N,children:n.jsxs("div",{className:"coming-soon-popup",onClick:_=>_.stopPropagation(),children:[n.jsxs("div",{className:"coming-soon-header",children:[n.jsx("h2",{children:"🚀 Coming Soon!"}),n.jsx("button",{className:"coming-soon-close",onClick:N,children:"✕"})]}),n.jsxs("div",{className:"coming-soon-content",children:[n.jsx("div",{className:"coming-soon-icon",children:"💻"}),n.jsx("h3",{children:"Desktop App"}),n.jsx("p",{children:"We're working hard to bring you the desktop version of CloseLoop. Stay tuned for updates!"}),n.jsxs("div",{className:"coming-soon-features",children:[n.jsxs("div",{className:"feature",children:[n.jsx("span",{className:"feature-icon",children:"⚡"}),n.jsx("span",{children:"Faster Performance"})]}),n.jsxs("div",{className:"feature",children:[n.jsx("span",{className:"feature-icon",children:"🔒"}),n.jsx("span",{children:"Enhanced Security"})]}),n.jsxs("div",{className:"feature",children:[n.jsx("span",{className:"feature-icon",children:"🔄"}),n.jsx("span",{children:"Offline Access"})]})]})]}),n.jsx("div",{className:"coming-soon-footer",children:n.jsx("button",{className:"coming-soon-button",onClick:N,children:"Got it!"})})]})})]})},_f=()=>n.jsx("div",{className:"loading-screen",children:n.jsxs("div",{className:"loading-container",children:[n.jsxs("div",{className:"logo-container",children:[n.jsx("div",{className:"logo-circle"}),n.jsxs("div",{className:"logo-text",children:[n.jsx("span",{children:"L"}),n.jsx("span",{children:"H"}),n.jsx("span",{children:"P"})]})]}),n.jsxs("div",{className:"loading-animation",children:[n.jsx("div",{className:"loading-bar",children:n.jsx("div",{className:"loading-progress"})}),n.jsxs("div",{className:"loading-dots",children:[n.jsx("div",{className:"dot"}),n.jsx("div",{className:"dot"}),n.jsx("div",{className:"dot"})]})]}),n.jsxs("div",{className:"loading-text",children:[n.jsx("span",{children:"L"}),n.jsx("span",{children:"o"}),n.jsx("span",{children:"a"}),n.jsx("span",{children:"d"}),n.jsx("span",{children:"i"}),n.jsx("span",{children:"n"}),n.jsx("span",{children:"g"}),n.jsx("span",{className:"dot-1",children:"."}),n.jsx("span",{className:"dot-2",children:"."}),n.jsx("span",{className:"dot-3",children:"."})]})]})}),Rs=({children:i})=>i,Zo=({Component:i})=>{const c=an(),a=u=>{c(`/${u}`)};return n.jsx(i,{onNavigate:a})};function zf(){const[i,c]=Ts.useState(!0);return Ts.useEffect(()=>{const a=setTimeout(()=>{c(!1)},1500);return()=>clearTimeout(a)},[]),i?n.jsx(_f,{}):n.jsx(Um,{children:n.jsxs(Rm,{children:[n.jsx(pt,{path:"/admin",element:n.jsx(nd,{to:"/admin/dashboard",replace:!0})}),n.jsx(pt,{path:"/admin/setup",element:n.jsx(Uf,{})}),n.jsx(pt,{path:"/admin/login",element:n.jsx(Mf,{})}),n.jsx(pt,{path:"/admin/dashboard",element:n.jsx(Rs,{children:n.jsx(Rf,{})})}),n.jsx(pt,{path:"/admin/test",element:n.jsx(Rs,{children:n.jsx(Df,{})})}),n.jsx(pt,{path:"/admin/firebase-test",element:n.jsx(Tf,{})}),n.jsx(pt,{path:"/admin/error-test",element:n.jsx(Ff,{})}),n.jsx(pt,{path:"/admin/rebuttals/new",element:n.jsx(Rs,{children:n.jsx(nl,{})})}),n.jsx(pt,{path:"/admin/rebuttals/edit/:id",element:n.jsx(Rs,{children:n.jsx(nl,{})})}),n.jsx(pt,{path:"/admin/customer-service",element:n.jsx(Rs,{children:n.jsx(Of,{})})}),n.jsx(pt,{path:"/",element:n.jsx(Ls,{children:n.jsx(Jm,{})})}),n.jsx(pt,{path:"/rebuttals",element:n.jsx(Ls,{children:n.jsx(Zo,{Component:ef})})}),n.jsx(pt,{path:"/disposition",element:n.jsx(Ls,{children:n.jsx(Zo,{Component:sf})})}),n.jsx(pt,{path:"/customerService",element:n.jsx(Ls,{children:n.jsx(Zo,{Component:vf})})}),n.jsx(pt,{path:"/faq",element:n.jsx(Ls,{children:n.jsx(Zo,{Component:yf})})}),n.jsx(pt,{path:"*",element:n.jsx(nd,{to:"/",replace:!0})})]})})}const Bf=async()=>{try{await ei(),Op.createRoot(document.getElementById("root")).render(n.jsx(Ts.StrictMode,{children:n.jsx(nf,{children:n.jsx(zf,{})})}))}catch(i){console.error("Failed to initialize app:",i);const c=document.getElementById("root");c&&(c.innerHTML=`
        <div style="color: red; padding: 20px;">
          Failed to initialize application. Please try refreshing the page.
          <br/>
          Error: ${i.message}
        </div>
      `)}};Bf();
