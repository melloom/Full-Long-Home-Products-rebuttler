const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nodeConfig-CsZWQOIK.js","assets/index-35c79a8a-CzBIBpeT.js","assets/config-CAOtLZBn.js"])))=>i.map(i=>d[i]);
import{c as Me,q as Ze,g as Oe,o as It,a as yn,d as Fe,u as sn,w as Vn,b as Jn,e as Fn,f as Tl,h as g1,i as vn,j as y1,k as $i,l as v1,s as Ar,m as Tr,n as x1,p as Mm,r as Im,t as av,v as w1}from"./index-35c79a8a-CzBIBpeT.js";import{getDb as je,auth as tt,initializeFirebase as ch,checkFirebaseConnection as Is}from"./config-CAOtLZBn.js";function j1(e,r){for(var o=0;o<r.length;o++){const i=r[o];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const d=Object.getOwnPropertyDescriptor(i,l);d&&Object.defineProperty(e,l,d.get?d:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=o(l);fetch(l.href,d)}})();function dh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cd={exports:{}},yi={},Nd={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function b1(){if(Om)return Ke;Om=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function L(S,b,F){this.props=S,this.context=b,this.refs=k,this.updater=F||T}L.prototype.isReactComponent={},L.prototype.setState=function(S,b){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,b,"setState")},L.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function P(){}P.prototype=L.prototype;function O(S,b,F){this.props=S,this.context=b,this.refs=k,this.updater=F||T}var N=O.prototype=new P;N.constructor=O,A(N,L.prototype),N.isPureReactComponent=!0;var R=Array.isArray,$=Object.prototype.hasOwnProperty,U={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function ee(S,b,F){var M,ne={},le=null,Se=null;if(b!=null)for(M in b.ref!==void 0&&(Se=b.ref),b.key!==void 0&&(le=""+b.key),b)$.call(b,M)&&!J.hasOwnProperty(M)&&(ne[M]=b[M]);var be=arguments.length-2;if(be===1)ne.children=F;else if(1<be){for(var Q=Array(be),_=0;_<be;_++)Q[_]=arguments[_+2];ne.children=Q}if(S&&S.defaultProps)for(M in be=S.defaultProps,be)ne[M]===void 0&&(ne[M]=be[M]);return{$$typeof:e,type:S,key:le,ref:Se,props:ne,_owner:U.current}}function ae(S,b){return{$$typeof:e,type:S.type,key:b,ref:S.ref,props:S.props,_owner:S._owner}}function ye(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function H(S){var b={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(F){return b[F]})}var ue=/\/+/g;function te(S,b){return typeof S=="object"&&S!==null&&S.key!=null?H(""+S.key):b.toString(36)}function xe(S,b,F,M,ne){var le=typeof S;(le==="undefined"||le==="boolean")&&(S=null);var Se=!1;if(S===null)Se=!0;else switch(le){case"string":case"number":Se=!0;break;case"object":switch(S.$$typeof){case e:case r:Se=!0}}if(Se)return Se=S,ne=ne(Se),S=M===""?"."+te(Se,0):M,R(ne)?(F="",S!=null&&(F=S.replace(ue,"$&/")+"/"),xe(ne,b,F,"",function(_){return _})):ne!=null&&(ye(ne)&&(ne=ae(ne,F+(!ne.key||Se&&Se.key===ne.key?"":(""+ne.key).replace(ue,"$&/")+"/")+S)),b.push(ne)),1;if(Se=0,M=M===""?".":M+":",R(S))for(var be=0;be<S.length;be++){le=S[be];var Q=M+te(le,be);Se+=xe(le,b,F,Q,ne)}else if(Q=w(S),typeof Q=="function")for(S=Q.call(S),be=0;!(le=S.next()).done;)le=le.value,Q=M+te(le,be++),Se+=xe(le,b,F,Q,ne);else if(le==="object")throw b=String(S),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Se}function Ne(S,b,F){if(S==null)return S;var M=[],ne=0;return xe(S,M,"","",function(le){return b.call(F,le,ne++)}),M}function V(S){if(S._status===-1){var b=S._result;b=b(),b.then(function(F){(S._status===0||S._status===-1)&&(S._status=1,S._result=F)},function(F){(S._status===0||S._status===-1)&&(S._status=2,S._result=F)}),S._status===-1&&(S._status=0,S._result=b)}if(S._status===1)return S._result.default;throw S._result}var Y={current:null},q={transition:null},C={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:q,ReactCurrentOwner:U};function E(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Ne,forEach:function(S,b,F){Ne(S,function(){b.apply(this,arguments)},F)},count:function(S){var b=0;return Ne(S,function(){b++}),b},toArray:function(S){return Ne(S,function(b){return b})||[]},only:function(S){if(!ye(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ke.Component=L,Ke.Fragment=o,Ke.Profiler=l,Ke.PureComponent=O,Ke.StrictMode=i,Ke.Suspense=f,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,Ke.act=E,Ke.cloneElement=function(S,b,F){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var M=A({},S.props),ne=S.key,le=S.ref,Se=S._owner;if(b!=null){if(b.ref!==void 0&&(le=b.ref,Se=U.current),b.key!==void 0&&(ne=""+b.key),S.type&&S.type.defaultProps)var be=S.type.defaultProps;for(Q in b)$.call(b,Q)&&!J.hasOwnProperty(Q)&&(M[Q]=b[Q]===void 0&&be!==void 0?be[Q]:b[Q])}var Q=arguments.length-2;if(Q===1)M.children=F;else if(1<Q){be=Array(Q);for(var _=0;_<Q;_++)be[_]=arguments[_+2];M.children=be}return{$$typeof:e,type:S.type,key:ne,ref:le,props:M,_owner:Se}},Ke.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:d,_context:S},S.Consumer=S},Ke.createElement=ee,Ke.createFactory=function(S){var b=ee.bind(null,S);return b.type=S,b},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(S){return{$$typeof:p,render:S}},Ke.isValidElement=ye,Ke.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:V}},Ke.memo=function(S,b){return{$$typeof:y,type:S,compare:b===void 0?null:b}},Ke.startTransition=function(S){var b=q.transition;q.transition={};try{S()}finally{q.transition=b}},Ke.unstable_act=E,Ke.useCallback=function(S,b){return Y.current.useCallback(S,b)},Ke.useContext=function(S){return Y.current.useContext(S)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(S){return Y.current.useDeferredValue(S)},Ke.useEffect=function(S,b){return Y.current.useEffect(S,b)},Ke.useId=function(){return Y.current.useId()},Ke.useImperativeHandle=function(S,b,F){return Y.current.useImperativeHandle(S,b,F)},Ke.useInsertionEffect=function(S,b){return Y.current.useInsertionEffect(S,b)},Ke.useLayoutEffect=function(S,b){return Y.current.useLayoutEffect(S,b)},Ke.useMemo=function(S,b){return Y.current.useMemo(S,b)},Ke.useReducer=function(S,b,F){return Y.current.useReducer(S,b,F)},Ke.useRef=function(S){return Y.current.useRef(S)},Ke.useState=function(S){return Y.current.useState(S)},Ke.useSyncExternalStore=function(S,b,F){return Y.current.useSyncExternalStore(S,b,F)},Ke.useTransition=function(){return Y.current.useTransition()},Ke.version="18.3.1",Ke}var Fm;function uh(){return Fm||(Fm=1,Nd.exports=b1()),Nd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function k1(){if(Vm)return yi;Vm=1;var e=uh(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(p,f,y){var g,v={},w=null,T=null;y!==void 0&&(w=""+y),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(T=f.ref);for(g in f)i.call(f,g)&&!d.hasOwnProperty(g)&&(v[g]=f[g]);if(p&&p.defaultProps)for(g in f=p.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:r,type:p,key:w,ref:T,props:v,_owner:l.current}}return yi.Fragment=o,yi.jsx=u,yi.jsxs=u,yi}var _m;function S1(){return _m||(_m=1,Cd.exports=k1()),Cd.exports}var t=S1(),x=uh();const ts=dh(x),C1=j1({__proto__:null,default:ts},[x]);var tl={},Ad={exports:{}},gn={},Td={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function N1(){return Bm||(Bm=1,function(e){function r(q,C){var E=q.length;q.push(C);e:for(;0<E;){var S=E-1>>>1,b=q[S];if(0<l(b,C))q[S]=C,q[E]=b,E=S;else break e}}function o(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var C=q[0],E=q.pop();if(E!==C){q[0]=E;e:for(var S=0,b=q.length,F=b>>>1;S<F;){var M=2*(S+1)-1,ne=q[M],le=M+1,Se=q[le];if(0>l(ne,E))le<b&&0>l(Se,ne)?(q[S]=Se,q[le]=E,S=le):(q[S]=ne,q[M]=E,S=M);else if(le<b&&0>l(Se,E))q[S]=Se,q[le]=E,S=le;else break e}}return C}function l(q,C){var E=q.sortIndex-C.sortIndex;return E!==0?E:q.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var u=Date,p=u.now();e.unstable_now=function(){return u.now()-p}}var f=[],y=[],g=1,v=null,w=3,T=!1,A=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(q){for(var C=o(y);C!==null;){if(C.callback===null)i(y);else if(C.startTime<=q)i(y),C.sortIndex=C.expirationTime,r(f,C);else break;C=o(y)}}function R(q){if(k=!1,N(q),!A)if(o(f)!==null)A=!0,V($);else{var C=o(y);C!==null&&Y(R,C.startTime-q)}}function $(q,C){A=!1,k&&(k=!1,P(ee),ee=-1),T=!0;var E=w;try{for(N(C),v=o(f);v!==null&&(!(v.expirationTime>C)||q&&!H());){var S=v.callback;if(typeof S=="function"){v.callback=null,w=v.priorityLevel;var b=S(v.expirationTime<=C);C=e.unstable_now(),typeof b=="function"?v.callback=b:v===o(f)&&i(f),N(C)}else i(f);v=o(f)}if(v!==null)var F=!0;else{var M=o(y);M!==null&&Y(R,M.startTime-C),F=!1}return F}finally{v=null,w=E,T=!1}}var U=!1,J=null,ee=-1,ae=5,ye=-1;function H(){return!(e.unstable_now()-ye<ae)}function ue(){if(J!==null){var q=e.unstable_now();ye=q;var C=!0;try{C=J(!0,q)}finally{C?te():(U=!1,J=null)}}else U=!1}var te;if(typeof O=="function")te=function(){O(ue)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ne=xe.port2;xe.port1.onmessage=ue,te=function(){Ne.postMessage(null)}}else te=function(){L(ue,0)};function V(q){J=q,U||(U=!0,te())}function Y(q,C){ee=L(function(){q(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){A||T||(A=!0,V($))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return o(f)},e.unstable_next=function(q){switch(w){case 1:case 2:case 3:var C=3;break;default:C=w}var E=w;w=C;try{return q()}finally{w=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,C){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var E=w;w=q;try{return C()}finally{w=E}},e.unstable_scheduleCallback=function(q,C,E){var S=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?S+E:S):E=S,q){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=E+b,q={id:g++,callback:C,priorityLevel:q,startTime:E,expirationTime:b,sortIndex:-1},E>S?(q.sortIndex=E,r(y,q),o(f)===null&&q===o(y)&&(k?(P(ee),ee=-1):k=!0,Y(R,E-S))):(q.sortIndex=b,r(f,q),A||T||(A=!0,V($))),q},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(q){var C=w;return function(){var E=w;w=C;try{return q.apply(this,arguments)}finally{w=E}}}}(Ed)),Ed}var Wm;function A1(){return Wm||(Wm=1,Td.exports=N1()),Td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function T1(){if(Um)return gn;Um=1;var e=uh(),r=A1();function o(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function d(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(l[n]=s,n=0;n<s.length;n++)i.add(s[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(n){return f.call(v,n)?!0:f.call(g,n)?!1:y.test(n)?v[n]=!0:(g[n]=!0,!1)}function T(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A(n,s,a,c){if(s===null||typeof s>"u"||T(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(n,s,a,c,h,m,j){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=j}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){L[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];L[s]=new k(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){L[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){L[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){L[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){L[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){L[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){L[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){L[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(P,O);L[s]=new k(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(P,O);L[s]=new k(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(P,O);L[s]=new k(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){L[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),L.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){L[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function N(n,s,a,c){var h=L.hasOwnProperty(s)?L[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,a,h,c)&&(a=null),c||h===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):h.mustUseProperty?n[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?n.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),U=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),H=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),q=Symbol.iterator;function C(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var E=Object.assign,S;function b(n){if(S===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);S=s&&s[1]||""}return`
`+S+n}var F=!1;function M(n,s){if(!n||F)return"";F=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var c=X}Reflect.construct(n,[],s)}else{try{s.call()}catch(X){c=X}n.call(s.prototype)}else{try{throw Error()}catch(X){c=X}n()}}catch(X){if(X&&c&&typeof X.stack=="string"){for(var h=X.stack.split(`
`),m=c.stack.split(`
`),j=h.length-1,D=m.length-1;1<=j&&0<=D&&h[j]!==m[D];)D--;for(;1<=j&&0<=D;j--,D--)if(h[j]!==m[D]){if(j!==1||D!==1)do if(j--,D--,0>D||h[j]!==m[D]){var B=`
`+h[j].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=j&&0<=D);break}}}finally{F=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?b(n):""}function ne(n){switch(n.tag){case 5:return b(n.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return n=M(n.type,!1),n;case 11:return n=M(n.type.render,!1),n;case 1:return n=M(n.type,!0),n;default:return""}}function le(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case J:return"Fragment";case U:return"Portal";case ae:return"Profiler";case ee:return"StrictMode";case te:return"Suspense";case xe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case H:return(n.displayName||"Context")+".Consumer";case ye:return(n._context.displayName||"Context")+".Provider";case ue:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ne:return s=n.displayName||null,s!==null?s:le(n.type)||"Memo";case V:s=n._payload,n=n._init;try{return le(n(s))}catch{}}return null}function Se(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(s);case 8:return s===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Q(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _(n){var s=Q(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(j){c=""+j,m.call(this,j)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(j){c=""+j},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Z(n){n._valueTracker||(n._valueTracker=_(n))}function oe(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Q(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function ve(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ae(n,s){var a=s.checked;return E({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function st(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=be(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function He(n,s){s=s.checked,s!=null&&N(n,"checked",s,!1)}function Ve(n,s){He(n,s);var a=be(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Gt(n,s.type,a):s.hasOwnProperty("defaultValue")&&Gt(n,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Je(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Gt(n,s,a){(s!=="number"||ve(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var an=Array.isArray;function Ot(n,s,a,c){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&c&&(n[a].defaultSelected=!0)}else{for(a=""+be(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function wn(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(o(91));return E({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function pr(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(o(92));if(an(a)){if(1<a.length)throw Error(o(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:be(a)}}function Xn(n,s){var a=be(s.value),c=be(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function ln(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Bn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fr(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Bn(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dt,Ft=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,h)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ut(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var An={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ps=["Webkit","ms","Moz","O"];Object.keys(An).forEach(function(n){ps.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),An[s]=An[n]})});function Wn(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||An.hasOwnProperty(n)&&An[n]?(""+s).trim():s+"px"}function ie(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Wn(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,h):n[a]=h}}var me=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(n,s){if(s){if(me[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(o(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(o(61))}if(s.style!=null&&typeof s.style!="object")throw Error(o(62))}}function Ie(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function it(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var De=null,Xe=null,Ye=null;function et(n){if(n=ni(n)){if(typeof De!="function")throw Error(o(280));var s=n.stateNode;s&&(s=ga(s),De(n.stateNode,n.type,s))}}function ze(n){Xe?Ye?Ye.push(n):Ye=[n]:Xe=n}function We(){if(Xe){var n=Xe,s=Ye;if(Ye=Xe=null,et(n),s)for(n=0;n<s.length;n++)et(s[n])}}function qe(n,s){return n(s)}function ut(){}var jn=!1;function er(n,s,a){if(jn)return n(s,a);jn=!0;try{return qe(n,s,a)}finally{jn=!1,(Xe!==null||Ye!==null)&&(ut(),We())}}function St(n,s){var a=n.stateNode;if(a===null)return null;var c=ga(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var Un=!1;if(p)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Un=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Un=!1}function tr(n,s,a,c,h,m,j,D,B){var X=Array.prototype.slice.call(arguments,3);try{s.apply(a,X)}catch(de){this.onError(de)}}var cn=!1,nr=null,mr=!1,Rr=null,rr={onError:function(n){cn=!0,nr=n}};function fs(n,s,a,c,h,m,j,D,B){cn=!1,nr=null,tr.apply(rr,arguments)}function Oo(n,s,a,c,h,m,j,D,B){if(fs.apply(this,arguments),cn){if(cn){var X=nr;cn=!1,nr=null}else throw Error(o(198));mr||(mr=!0,Rr=X)}}function Tn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Ge(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function ct(n){if(Tn(n)!==n)throw Error(o(188))}function ft(n){var s=n.alternate;if(!s){if(s=Tn(n),s===null)throw Error(o(188));return s!==n?null:n}for(var a=n,c=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return ct(h),n;if(m===c)return ct(h),s;m=m.sibling}throw Error(o(188))}if(a.return!==c.return)a=h,c=m;else{for(var j=!1,D=h.child;D;){if(D===a){j=!0,a=h,c=m;break}if(D===c){j=!0,c=h,a=m;break}D=D.sibling}if(!j){for(D=m.child;D;){if(D===a){j=!0,a=m,c=h;break}if(D===c){j=!0,c=m,a=h;break}D=D.sibling}if(!j)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:s}function Yt(n){return n=ft(n),n!==null?Qt(n):null}function Qt(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Qt(n);if(s!==null)return s;n=n.sibling}return null}var gr=r.unstable_scheduleCallback,_s=r.unstable_cancelCallback,Fo=r.unstable_shouldYield,Hl=r.unstable_requestPaint,vt=r.unstable_now,ql=r.unstable_getCurrentPriorityLevel,yr=r.unstable_ImmediatePriority,Bs=r.unstable_UserBlockingPriority,ms=r.unstable_NormalPriority,Gl=r.unstable_LowPriority,Ws=r.unstable_IdlePriority,I=null,W=null;function se(n){if(W&&typeof W.onCommitFiberRoot=="function")try{W.onCommitFiberRoot(I,n,void 0,(n.current.flags&128)===128)}catch{}}var ge=Math.clz32?Math.clz32:Qe,re=Math.log,pe=Math.LN2;function Qe(n){return n>>>=0,n===0?32:31-(re(n)/pe|0)|0}var tn=64,ot=4194304;function at(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pt(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,h=n.suspendedLanes,m=n.pingedLanes,j=a&268435455;if(j!==0){var D=j&~h;D!==0?c=at(D):(m&=j,m!==0&&(c=at(m)))}else j=a&~h,j!==0?c=at(j):m!==0&&(c=at(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-ge(s),h=1<<a,c|=n[a],s&=~h;return c}function dn(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes;0<m;){var j=31-ge(m),D=1<<j,B=h[j];B===-1?((D&a)===0||(D&c)!==0)&&(h[j]=dn(D,s)):B<=s&&(n.expiredLanes|=D),m&=~D}}function Mr(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Us(){var n=tn;return tn<<=1,(tn&4194240)===0&&(tn=64),n}function Vo(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function _o(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-ge(s),n[s]=a}function F0(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var h=31-ge(a),m=1<<h;s[h]=0,c[h]=-1,n[h]=-1,a&=~m}}function Yl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-ge(a),h=1<<c;h&s|n[c]&s&&(n[c]|=s),a&=~h}}var lt=0;function up(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var hp,Ql,pp,fp,mp,Kl=!1,ta=[],Ir=null,Or=null,Fr=null,Bo=new Map,Wo=new Map,Vr=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gp(n,s){switch(n){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Bo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(s.pointerId)}}function Uo(n,s,a,c,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},s!==null&&(s=ni(s),s!==null&&Ql(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function _0(n,s,a,c,h){switch(s){case"focusin":return Ir=Uo(Ir,n,s,a,c,h),!0;case"dragenter":return Or=Uo(Or,n,s,a,c,h),!0;case"mouseover":return Fr=Uo(Fr,n,s,a,c,h),!0;case"pointerover":var m=h.pointerId;return Bo.set(m,Uo(Bo.get(m)||null,n,s,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Wo.set(m,Uo(Wo.get(m)||null,n,s,a,c,h)),!0}return!1}function yp(n){var s=gs(n.target);if(s!==null){var a=Tn(s);if(a!==null){if(s=a.tag,s===13){if(s=Ge(a),s!==null){n.blockedOn=s,mp(n.priority,function(){pp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function na(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Jl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);we=c,a.target.dispatchEvent(c),we=null}else return s=ni(a),s!==null&&Ql(s),n.blockedOn=a,!1;s.shift()}return!0}function vp(n,s,a){na(n)&&a.delete(s)}function B0(){Kl=!1,Ir!==null&&na(Ir)&&(Ir=null),Or!==null&&na(Or)&&(Or=null),Fr!==null&&na(Fr)&&(Fr=null),Bo.forEach(vp),Wo.forEach(vp)}function zo(n,s){n.blockedOn===s&&(n.blockedOn=null,Kl||(Kl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,B0)))}function $o(n){function s(h){return zo(h,n)}if(0<ta.length){zo(ta[0],n);for(var a=1;a<ta.length;a++){var c=ta[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Ir!==null&&zo(Ir,n),Or!==null&&zo(Or,n),Fr!==null&&zo(Fr,n),Bo.forEach(s),Wo.forEach(s),a=0;a<Vr.length;a++)c=Vr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)yp(a),a.blockedOn===null&&Vr.shift()}var zs=R.ReactCurrentBatchConfig,ra=!0;function W0(n,s,a,c){var h=lt,m=zs.transition;zs.transition=null;try{lt=1,Zl(n,s,a,c)}finally{lt=h,zs.transition=m}}function U0(n,s,a,c){var h=lt,m=zs.transition;zs.transition=null;try{lt=4,Zl(n,s,a,c)}finally{lt=h,zs.transition=m}}function Zl(n,s,a,c){if(ra){var h=Jl(n,s,a,c);if(h===null)mc(n,s,c,sa,a),gp(n,c);else if(_0(h,n,s,a,c))c.stopPropagation();else if(gp(n,c),s&4&&-1<V0.indexOf(n)){for(;h!==null;){var m=ni(h);if(m!==null&&hp(m),m=Jl(n,s,a,c),m===null&&mc(n,s,c,sa,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else mc(n,s,c,null,a)}}var sa=null;function Jl(n,s,a,c){if(sa=null,n=it(c),n=gs(n),n!==null)if(s=Tn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Ge(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return sa=n,null}function xp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ql()){case yr:return 1;case Bs:return 4;case ms:case Gl:return 16;case Ws:return 536870912;default:return 16}default:return 16}}var _r=null,Xl=null,oa=null;function wp(){if(oa)return oa;var n,s=Xl,a=s.length,c,h="value"in _r?_r.value:_r.textContent,m=h.length;for(n=0;n<a&&s[n]===h[n];n++);var j=a-n;for(c=1;c<=j&&s[a-c]===h[m-c];c++);return oa=h.slice(n,1<c?1-c:void 0)}function ia(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function aa(){return!0}function jp(){return!1}function bn(n){function s(a,c,h,m,j){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=j,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(a=n[D],this[D]=a?a(m):m[D]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?aa:jp,this.isPropagationStopped=jp,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),s}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=bn($s),Ho=E({},$s,{view:0,detail:0}),z0=bn(Ho),tc,nc,qo,la=E({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qo&&(qo&&n.type==="mousemove"?(tc=n.screenX-qo.screenX,nc=n.screenY-qo.screenY):nc=tc=0,qo=n),tc)},movementY:function(n){return"movementY"in n?n.movementY:nc}}),bp=bn(la),$0=E({},la,{dataTransfer:0}),H0=bn($0),q0=E({},Ho,{relatedTarget:0}),rc=bn(q0),G0=E({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=bn(G0),Q0=E({},$s,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),K0=bn(Q0),Z0=E({},$s,{data:0}),kp=bn(Z0),J0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ew[n])?!!s[n]:!1}function sc(){return tw}var nw=E({},Ho,{key:function(n){if(n.key){var s=J0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ia(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?X0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(n){return n.type==="keypress"?ia(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ia(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),rw=bn(nw),sw=E({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sp=bn(sw),ow=E({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),iw=bn(ow),aw=E({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),lw=bn(aw),cw=E({},la,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dw=bn(cw),uw=[9,13,27,32],oc=p&&"CompositionEvent"in window,Go=null;p&&"documentMode"in document&&(Go=document.documentMode);var hw=p&&"TextEvent"in window&&!Go,Cp=p&&(!oc||Go&&8<Go&&11>=Go),Np=" ",Ap=!1;function Tp(n,s){switch(n){case"keyup":return uw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hs=!1;function pw(n,s){switch(n){case"compositionend":return Ep(s);case"keypress":return s.which!==32?null:(Ap=!0,Np);case"textInput":return n=s.data,n===Np&&Ap?null:n;default:return null}}function fw(n,s){if(Hs)return n==="compositionend"||!oc&&Tp(n,s)?(n=wp(),oa=Xl=_r=null,Hs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cp&&s.locale!=="ko"?null:s.data;default:return null}}var mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!mw[n.type]:s==="textarea"}function Dp(n,s,a,c){ze(c),s=pa(s,"onChange"),0<s.length&&(a=new ec("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Yo=null,Qo=null;function gw(n){Qp(n,0)}function ca(n){var s=Ks(n);if(oe(s))return n}function yw(n,s){if(n==="change")return s}var Pp=!1;if(p){var ic;if(p){var ac="oninput"in document;if(!ac){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),ac=typeof Rp.oninput=="function"}ic=ac}else ic=!1;Pp=ic&&(!document.documentMode||9<document.documentMode)}function Mp(){Yo&&(Yo.detachEvent("onpropertychange",Ip),Qo=Yo=null)}function Ip(n){if(n.propertyName==="value"&&ca(Qo)){var s=[];Dp(s,Qo,n,it(n)),er(gw,s)}}function vw(n,s,a){n==="focusin"?(Mp(),Yo=s,Qo=a,Yo.attachEvent("onpropertychange",Ip)):n==="focusout"&&Mp()}function xw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ca(Qo)}function ww(n,s){if(n==="click")return ca(s)}function jw(n,s){if(n==="input"||n==="change")return ca(s)}function bw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Hn=typeof Object.is=="function"?Object.is:bw;function Ko(n,s){if(Hn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!f.call(s,h)||!Hn(n[h],s[h]))return!1}return!0}function Op(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Fp(n,s){var a=Op(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Op(a)}}function Vp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Vp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function _p(){for(var n=window,s=ve();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ve(n.document)}return s}function lc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function kw(n){var s=_p(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Vp(a.ownerDocument.documentElement,a)){if(c!==null&&lc(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var h=a.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!n.extend&&m>c&&(h=c,c=m,m=h),h=Fp(a,m);var j=Fp(a,c);h&&j&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==j.node||n.focusOffset!==j.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),n.removeAllRanges(),m>c?(n.addRange(s),n.extend(j.node,j.offset)):(s.setEnd(j.node,j.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Sw=p&&"documentMode"in document&&11>=document.documentMode,qs=null,cc=null,Zo=null,dc=!1;function Bp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dc||qs==null||qs!==ve(c)||(c=qs,"selectionStart"in c&&lc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Zo&&Ko(Zo,c)||(Zo=c,c=pa(cc,"onSelect"),0<c.length&&(s=new ec("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=qs)))}function da(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Gs={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},uc={},Wp={};p&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ua(n){if(uc[n])return uc[n];if(!Gs[n])return n;var s=Gs[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Wp)return uc[n]=s[a];return n}var Up=ua("animationend"),zp=ua("animationiteration"),$p=ua("animationstart"),Hp=ua("transitionend"),qp=new Map,Gp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(n,s){qp.set(n,s),d(s,[n])}for(var hc=0;hc<Gp.length;hc++){var pc=Gp[hc],Cw=pc.toLowerCase(),Nw=pc[0].toUpperCase()+pc.slice(1);Br(Cw,"on"+Nw)}Br(Up,"onAnimationEnd"),Br(zp,"onAnimationIteration"),Br($p,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Hp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Yp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Oo(c,s,void 0,n),n.currentTarget=null}function Qp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],h=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var j=c.length-1;0<=j;j--){var D=c[j],B=D.instance,X=D.currentTarget;if(D=D.listener,B!==m&&h.isPropagationStopped())break e;Yp(h,D,X),m=B}else for(j=0;j<c.length;j++){if(D=c[j],B=D.instance,X=D.currentTarget,D=D.listener,B!==m&&h.isPropagationStopped())break e;Yp(h,D,X),m=B}}}if(mr)throw n=Rr,mr=!1,Rr=null,n}function ht(n,s){var a=s[jc];a===void 0&&(a=s[jc]=new Set);var c=n+"__bubble";a.has(c)||(Kp(s,n,2,!1),a.add(c))}function fc(n,s,a){var c=0;s&&(c|=4),Kp(a,n,c,s)}var ha="_reactListening"+Math.random().toString(36).slice(2);function Xo(n){if(!n[ha]){n[ha]=!0,i.forEach(function(a){a!=="selectionchange"&&(Aw.has(a)||fc(a,!1,n),fc(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ha]||(s[ha]=!0,fc("selectionchange",!1,s))}}function Kp(n,s,a,c){switch(xp(s)){case 1:var h=W0;break;case 4:h=U0;break;default:h=Zl}a=h.bind(null,s,a,n),h=void 0,!Un||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function mc(n,s,a,c,h){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var D=c.stateNode.containerInfo;if(D===h||D.nodeType===8&&D.parentNode===h)break;if(j===4)for(j=c.return;j!==null;){var B=j.tag;if((B===3||B===4)&&(B=j.stateNode.containerInfo,B===h||B.nodeType===8&&B.parentNode===h))return;j=j.return}for(;D!==null;){if(j=gs(D),j===null)return;if(B=j.tag,B===5||B===6){c=m=j;continue e}D=D.parentNode}}c=c.return}er(function(){var X=m,de=it(a),he=[];e:{var ce=qp.get(n);if(ce!==void 0){var Ce=ec,Le=n;switch(n){case"keypress":if(ia(a)===0)break e;case"keydown":case"keyup":Ce=rw;break;case"focusin":Le="focus",Ce=rc;break;case"focusout":Le="blur",Ce=rc;break;case"beforeblur":case"afterblur":Ce=rc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=iw;break;case Up:case zp:case $p:Ce=Y0;break;case Hp:Ce=lw;break;case"scroll":Ce=z0;break;case"wheel":Ce=dw;break;case"copy":case"cut":case"paste":Ce=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Sp}var Pe=(s&4)!==0,Ct=!Pe&&n==="scroll",G=Pe?ce!==null?ce+"Capture":null:ce;Pe=[];for(var z=X,K;z!==null;){K=z;var fe=K.stateNode;if(K.tag===5&&fe!==null&&(K=fe,G!==null&&(fe=St(z,G),fe!=null&&Pe.push(ei(z,fe,K)))),Ct)break;z=z.return}0<Pe.length&&(ce=new Ce(ce,Le,null,a,de),he.push({event:ce,listeners:Pe}))}}if((s&7)===0){e:{if(ce=n==="mouseover"||n==="pointerover",Ce=n==="mouseout"||n==="pointerout",ce&&a!==we&&(Le=a.relatedTarget||a.fromElement)&&(gs(Le)||Le[vr]))break e;if((Ce||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,Ce?(Le=a.relatedTarget||a.toElement,Ce=X,Le=Le?gs(Le):null,Le!==null&&(Ct=Tn(Le),Le!==Ct||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=X),Ce!==Le)){if(Pe=bp,fe="onMouseLeave",G="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(Pe=Sp,fe="onPointerLeave",G="onPointerEnter",z="pointer"),Ct=Ce==null?ce:Ks(Ce),K=Le==null?ce:Ks(Le),ce=new Pe(fe,z+"leave",Ce,a,de),ce.target=Ct,ce.relatedTarget=K,fe=null,gs(de)===X&&(Pe=new Pe(G,z+"enter",Le,a,de),Pe.target=K,Pe.relatedTarget=Ct,fe=Pe),Ct=fe,Ce&&Le)t:{for(Pe=Ce,G=Le,z=0,K=Pe;K;K=Ys(K))z++;for(K=0,fe=G;fe;fe=Ys(fe))K++;for(;0<z-K;)Pe=Ys(Pe),z--;for(;0<K-z;)G=Ys(G),K--;for(;z--;){if(Pe===G||G!==null&&Pe===G.alternate)break t;Pe=Ys(Pe),G=Ys(G)}Pe=null}else Pe=null;Ce!==null&&Zp(he,ce,Ce,Pe,!1),Le!==null&&Ct!==null&&Zp(he,Ct,Le,Pe,!0)}}e:{if(ce=X?Ks(X):window,Ce=ce.nodeName&&ce.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ce.type==="file")var Re=yw;else if(Lp(ce))if(Pp)Re=jw;else{Re=xw;var _e=vw}else(Ce=ce.nodeName)&&Ce.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Re=ww);if(Re&&(Re=Re(n,X))){Dp(he,Re,a,de);break e}_e&&_e(n,ce,X),n==="focusout"&&(_e=ce._wrapperState)&&_e.controlled&&ce.type==="number"&&Gt(ce,"number",ce.value)}switch(_e=X?Ks(X):window,n){case"focusin":(Lp(_e)||_e.contentEditable==="true")&&(qs=_e,cc=X,Zo=null);break;case"focusout":Zo=cc=qs=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Bp(he,a,de);break;case"selectionchange":if(Sw)break;case"keydown":case"keyup":Bp(he,a,de)}var Be;if(oc)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Hs?Tp(n,a)&&($e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&($e="onCompositionStart");$e&&(Cp&&a.locale!=="ko"&&(Hs||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Hs&&(Be=wp()):(_r=de,Xl="value"in _r?_r.value:_r.textContent,Hs=!0)),_e=pa(X,$e),0<_e.length&&($e=new kp($e,n,null,a,de),he.push({event:$e,listeners:_e}),Be?$e.data=Be:(Be=Ep(a),Be!==null&&($e.data=Be)))),(Be=hw?pw(n,a):fw(n,a))&&(X=pa(X,"onBeforeInput"),0<X.length&&(de=new kp("onBeforeInput","beforeinput",null,a,de),he.push({event:de,listeners:X}),de.data=Be))}Qp(he,s)})}function ei(n,s,a){return{instance:n,listener:s,currentTarget:a}}function pa(n,s){for(var a=s+"Capture",c=[];n!==null;){var h=n,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=St(n,a),m!=null&&c.unshift(ei(n,m,h)),m=St(n,s),m!=null&&c.push(ei(n,m,h))),n=n.return}return c}function Ys(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Zp(n,s,a,c,h){for(var m=s._reactName,j=[];a!==null&&a!==c;){var D=a,B=D.alternate,X=D.stateNode;if(B!==null&&B===c)break;D.tag===5&&X!==null&&(D=X,h?(B=St(a,m),B!=null&&j.unshift(ei(a,B,D))):h||(B=St(a,m),B!=null&&j.push(ei(a,B,D)))),a=a.return}j.length!==0&&n.push({event:s,listeners:j})}var Tw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function Jp(n){return(typeof n=="string"?n:""+n).replace(Tw,`
`).replace(Ew,"")}function fa(n,s,a){if(s=Jp(s),Jp(n)!==s&&a)throw Error(o(425))}function ma(){}var gc=null,yc=null;function vc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(n){return Xp.resolve(null).then(n).catch(Pw)}:xc;function Pw(n){setTimeout(function(){throw n})}function wc(n,s){var a=s,c=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){n.removeChild(h),$o(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);$o(s)}function Wr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function ef(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),sr="__reactFiber$"+Qs,ti="__reactProps$"+Qs,vr="__reactContainer$"+Qs,jc="__reactEvents$"+Qs,Rw="__reactListeners$"+Qs,Mw="__reactHandles$"+Qs;function gs(n){var s=n[sr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[vr]||a[sr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=ef(n);n!==null;){if(a=n[sr])return a;n=ef(n)}return s}n=a,a=n.parentNode}return null}function ni(n){return n=n[sr]||n[vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ks(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function ga(n){return n[ti]||null}var bc=[],Zs=-1;function Ur(n){return{current:n}}function pt(n){0>Zs||(n.current=bc[Zs],bc[Zs]=null,Zs--)}function dt(n,s){Zs++,bc[Zs]=n.current,n.current=s}var zr={},Kt=Ur(zr),un=Ur(!1),ys=zr;function Js(n,s){var a=n.type.contextTypes;if(!a)return zr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=s[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=h),h}function hn(n){return n=n.childContextTypes,n!=null}function ya(){pt(un),pt(Kt)}function tf(n,s,a){if(Kt.current!==zr)throw Error(o(168));dt(Kt,s),dt(un,a)}function nf(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(o(108,Se(n)||"Unknown",h));return E({},a,c)}function va(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||zr,ys=Kt.current,dt(Kt,n),dt(un,un.current),!0}function rf(n,s,a){var c=n.stateNode;if(!c)throw Error(o(169));a?(n=nf(n,s,ys),c.__reactInternalMemoizedMergedChildContext=n,pt(un),pt(Kt),dt(Kt,n)):pt(un),dt(un,a)}var xr=null,xa=!1,kc=!1;function sf(n){xr===null?xr=[n]:xr.push(n)}function Iw(n){xa=!0,sf(n)}function $r(){if(!kc&&xr!==null){kc=!0;var n=0,s=lt;try{var a=xr;for(lt=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}xr=null,xa=!1}catch(h){throw xr!==null&&(xr=xr.slice(n+1)),gr(yr,$r),h}finally{lt=s,kc=!1}}return null}var Xs=[],eo=0,wa=null,ja=0,En=[],Ln=0,vs=null,wr=1,jr="";function xs(n,s){Xs[eo++]=ja,Xs[eo++]=wa,wa=n,ja=s}function of(n,s,a){En[Ln++]=wr,En[Ln++]=jr,En[Ln++]=vs,vs=n;var c=wr;n=jr;var h=32-ge(c)-1;c&=~(1<<h),a+=1;var m=32-ge(s)+h;if(30<m){var j=h-h%5;m=(c&(1<<j)-1).toString(32),c>>=j,h-=j,wr=1<<32-ge(s)+h|a<<h|c,jr=m+n}else wr=1<<m|a<<h|c,jr=n}function Sc(n){n.return!==null&&(xs(n,1),of(n,1,0))}function Cc(n){for(;n===wa;)wa=Xs[--eo],Xs[eo]=null,ja=Xs[--eo],Xs[eo]=null;for(;n===vs;)vs=En[--Ln],En[Ln]=null,jr=En[--Ln],En[Ln]=null,wr=En[--Ln],En[Ln]=null}var kn=null,Sn=null,mt=!1,qn=null;function af(n,s){var a=Mn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function lf(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,kn=n,Sn=Wr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,kn=n,Sn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=vs!==null?{id:wr,overflow:jr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Mn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,kn=n,Sn=null,!0):!1;default:return!1}}function Nc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ac(n){if(mt){var s=Sn;if(s){var a=s;if(!lf(n,s)){if(Nc(n))throw Error(o(418));s=Wr(a.nextSibling);var c=kn;s&&lf(n,s)?af(c,a):(n.flags=n.flags&-4097|2,mt=!1,kn=n)}}else{if(Nc(n))throw Error(o(418));n.flags=n.flags&-4097|2,mt=!1,kn=n}}}function cf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kn=n}function ba(n){if(n!==kn)return!1;if(!mt)return cf(n),mt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!vc(n.type,n.memoizedProps)),s&&(s=Sn)){if(Nc(n))throw df(),Error(o(418));for(;s;)af(n,s),s=Wr(s.nextSibling)}if(cf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){Sn=Wr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}Sn=null}}else Sn=kn?Wr(n.stateNode.nextSibling):null;return!0}function df(){for(var n=Sn;n;)n=Wr(n.nextSibling)}function to(){Sn=kn=null,mt=!1}function Tc(n){qn===null?qn=[n]:qn.push(n)}var Ow=R.ReactCurrentBatchConfig;function ri(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var c=a.stateNode}if(!c)throw Error(o(147,n));var h=c,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(j){var D=h.refs;j===null?delete D[m]:D[m]=j},s._stringRef=m,s)}if(typeof n!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,n))}return n}function ka(n,s){throw n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function uf(n){var s=n._init;return s(n._payload)}function hf(n){function s(G,z){if(n){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function a(G,z){if(!n)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function c(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function h(G,z){return G=Jr(G,z),G.index=0,G.sibling=null,G}function m(G,z,K){return G.index=K,n?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=2,z):K):(G.flags|=2,z)):(G.flags|=1048576,z)}function j(G){return n&&G.alternate===null&&(G.flags|=2),G}function D(G,z,K,fe){return z===null||z.tag!==6?(z=xd(K,G.mode,fe),z.return=G,z):(z=h(z,K),z.return=G,z)}function B(G,z,K,fe){var Re=K.type;return Re===J?de(G,z,K.props.children,fe,K.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===V&&uf(Re)===z.type)?(fe=h(z,K.props),fe.ref=ri(G,z,K),fe.return=G,fe):(fe=Ga(K.type,K.key,K.props,null,G.mode,fe),fe.ref=ri(G,z,K),fe.return=G,fe)}function X(G,z,K,fe){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=wd(K,G.mode,fe),z.return=G,z):(z=h(z,K.children||[]),z.return=G,z)}function de(G,z,K,fe,Re){return z===null||z.tag!==7?(z=As(K,G.mode,fe,Re),z.return=G,z):(z=h(z,K),z.return=G,z)}function he(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=xd(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return K=Ga(z.type,z.key,z.props,null,G.mode,K),K.ref=ri(G,null,z),K.return=G,K;case U:return z=wd(z,G.mode,K),z.return=G,z;case V:var fe=z._init;return he(G,fe(z._payload),K)}if(an(z)||C(z))return z=As(z,G.mode,K,null),z.return=G,z;ka(G,z)}return null}function ce(G,z,K,fe){var Re=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Re!==null?null:D(G,z,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case $:return K.key===Re?B(G,z,K,fe):null;case U:return K.key===Re?X(G,z,K,fe):null;case V:return Re=K._init,ce(G,z,Re(K._payload),fe)}if(an(K)||C(K))return Re!==null?null:de(G,z,K,fe,null);ka(G,K)}return null}function Ce(G,z,K,fe,Re){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return G=G.get(K)||null,D(z,G,""+fe,Re);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case $:return G=G.get(fe.key===null?K:fe.key)||null,B(z,G,fe,Re);case U:return G=G.get(fe.key===null?K:fe.key)||null,X(z,G,fe,Re);case V:var _e=fe._init;return Ce(G,z,K,_e(fe._payload),Re)}if(an(fe)||C(fe))return G=G.get(K)||null,de(z,G,fe,Re,null);ka(z,fe)}return null}function Le(G,z,K,fe){for(var Re=null,_e=null,Be=z,$e=z=0,Bt=null;Be!==null&&$e<K.length;$e++){Be.index>$e?(Bt=Be,Be=null):Bt=Be.sibling;var rt=ce(G,Be,K[$e],fe);if(rt===null){Be===null&&(Be=Bt);break}n&&Be&&rt.alternate===null&&s(G,Be),z=m(rt,z,$e),_e===null?Re=rt:_e.sibling=rt,_e=rt,Be=Bt}if($e===K.length)return a(G,Be),mt&&xs(G,$e),Re;if(Be===null){for(;$e<K.length;$e++)Be=he(G,K[$e],fe),Be!==null&&(z=m(Be,z,$e),_e===null?Re=Be:_e.sibling=Be,_e=Be);return mt&&xs(G,$e),Re}for(Be=c(G,Be);$e<K.length;$e++)Bt=Ce(Be,G,$e,K[$e],fe),Bt!==null&&(n&&Bt.alternate!==null&&Be.delete(Bt.key===null?$e:Bt.key),z=m(Bt,z,$e),_e===null?Re=Bt:_e.sibling=Bt,_e=Bt);return n&&Be.forEach(function(Xr){return s(G,Xr)}),mt&&xs(G,$e),Re}function Pe(G,z,K,fe){var Re=C(K);if(typeof Re!="function")throw Error(o(150));if(K=Re.call(K),K==null)throw Error(o(151));for(var _e=Re=null,Be=z,$e=z=0,Bt=null,rt=K.next();Be!==null&&!rt.done;$e++,rt=K.next()){Be.index>$e?(Bt=Be,Be=null):Bt=Be.sibling;var Xr=ce(G,Be,rt.value,fe);if(Xr===null){Be===null&&(Be=Bt);break}n&&Be&&Xr.alternate===null&&s(G,Be),z=m(Xr,z,$e),_e===null?Re=Xr:_e.sibling=Xr,_e=Xr,Be=Bt}if(rt.done)return a(G,Be),mt&&xs(G,$e),Re;if(Be===null){for(;!rt.done;$e++,rt=K.next())rt=he(G,rt.value,fe),rt!==null&&(z=m(rt,z,$e),_e===null?Re=rt:_e.sibling=rt,_e=rt);return mt&&xs(G,$e),Re}for(Be=c(G,Be);!rt.done;$e++,rt=K.next())rt=Ce(Be,G,$e,rt.value,fe),rt!==null&&(n&&rt.alternate!==null&&Be.delete(rt.key===null?$e:rt.key),z=m(rt,z,$e),_e===null?Re=rt:_e.sibling=rt,_e=rt);return n&&Be.forEach(function(m1){return s(G,m1)}),mt&&xs(G,$e),Re}function Ct(G,z,K,fe){if(typeof K=="object"&&K!==null&&K.type===J&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case $:e:{for(var Re=K.key,_e=z;_e!==null;){if(_e.key===Re){if(Re=K.type,Re===J){if(_e.tag===7){a(G,_e.sibling),z=h(_e,K.props.children),z.return=G,G=z;break e}}else if(_e.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===V&&uf(Re)===_e.type){a(G,_e.sibling),z=h(_e,K.props),z.ref=ri(G,_e,K),z.return=G,G=z;break e}a(G,_e);break}else s(G,_e);_e=_e.sibling}K.type===J?(z=As(K.props.children,G.mode,fe,K.key),z.return=G,G=z):(fe=Ga(K.type,K.key,K.props,null,G.mode,fe),fe.ref=ri(G,z,K),fe.return=G,G=fe)}return j(G);case U:e:{for(_e=K.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){a(G,z.sibling),z=h(z,K.children||[]),z.return=G,G=z;break e}else{a(G,z);break}else s(G,z);z=z.sibling}z=wd(K,G.mode,fe),z.return=G,G=z}return j(G);case V:return _e=K._init,Ct(G,z,_e(K._payload),fe)}if(an(K))return Le(G,z,K,fe);if(C(K))return Pe(G,z,K,fe);ka(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(a(G,z.sibling),z=h(z,K),z.return=G,G=z):(a(G,z),z=xd(K,G.mode,fe),z.return=G,G=z),j(G)):a(G,z)}return Ct}var no=hf(!0),pf=hf(!1),Sa=Ur(null),Ca=null,ro=null,Ec=null;function Lc(){Ec=ro=Ca=null}function Dc(n){var s=Sa.current;pt(Sa),n._currentValue=s}function Pc(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function so(n,s){Ca=n,Ec=ro=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(pn=!0),n.firstContext=null)}function Dn(n){var s=n._currentValue;if(Ec!==n)if(n={context:n,memoizedValue:s,next:null},ro===null){if(Ca===null)throw Error(o(308));ro=n,Ca.dependencies={lanes:0,firstContext:n}}else ro=ro.next=n;return s}var ws=null;function Rc(n){ws===null?ws=[n]:ws.push(n)}function ff(n,s,a,c){var h=s.interleaved;return h===null?(a.next=a,Rc(s)):(a.next=h.next,h.next=a),s.interleaved=a,br(n,c)}function br(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Hr=!1;function Mc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function kr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function qr(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,br(n,a)}return h=c.interleaved,h===null?(s.next=s,Rc(c)):(s.next=h.next,h.next=s),c.interleaved=s,br(n,a)}function Na(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Yl(n,a)}}function gf(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var j={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=j:m=m.next=j,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Aa(n,s,a,c){var h=n.updateQueue;Hr=!1;var m=h.firstBaseUpdate,j=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var B=D,X=B.next;B.next=null,j===null?m=X:j.next=X,j=B;var de=n.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==j&&(D===null?de.firstBaseUpdate=X:D.next=X,de.lastBaseUpdate=B))}if(m!==null){var he=h.baseState;j=0,de=X=B=null,D=m;do{var ce=D.lane,Ce=D.eventTime;if((c&ce)===ce){de!==null&&(de=de.next={eventTime:Ce,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Le=n,Pe=D;switch(ce=s,Ce=a,Pe.tag){case 1:if(Le=Pe.payload,typeof Le=="function"){he=Le.call(Ce,he,ce);break e}he=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Pe.payload,ce=typeof Le=="function"?Le.call(Ce,he,ce):Le,ce==null)break e;he=E({},he,ce);break e;case 2:Hr=!0}}D.callback!==null&&D.lane!==0&&(n.flags|=64,ce=h.effects,ce===null?h.effects=[D]:ce.push(D))}else Ce={eventTime:Ce,lane:ce,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(X=de=Ce,B=he):de=de.next=Ce,j|=ce;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;ce=D,D=ce.next,ce.next=null,h.lastBaseUpdate=ce,h.shared.pending=null}}while(!0);if(de===null&&(B=he),h.baseState=B,h.firstBaseUpdate=X,h.lastBaseUpdate=de,s=h.shared.interleaved,s!==null){h=s;do j|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);ks|=j,n.lanes=j,n.memoizedState=he}}function yf(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(o(191,h));h.call(c)}}}var si={},or=Ur(si),oi=Ur(si),ii=Ur(si);function js(n){if(n===si)throw Error(o(174));return n}function Ic(n,s){switch(dt(ii,s),dt(oi,n),dt(or,si),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:fr(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=fr(s,n)}pt(or),dt(or,s)}function oo(){pt(or),pt(oi),pt(ii)}function vf(n){js(ii.current);var s=js(or.current),a=fr(s,n.type);s!==a&&(dt(oi,n),dt(or,a))}function Oc(n){oi.current===n&&(pt(or),pt(oi))}var xt=Ur(0);function Ta(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fc=[];function Vc(){for(var n=0;n<Fc.length;n++)Fc[n]._workInProgressVersionPrimary=null;Fc.length=0}var Ea=R.ReactCurrentDispatcher,_c=R.ReactCurrentBatchConfig,bs=0,wt=null,Rt=null,Vt=null,La=!1,ai=!1,li=0,Fw=0;function Zt(){throw Error(o(321))}function Bc(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Hn(n[a],s[a]))return!1;return!0}function Wc(n,s,a,c,h,m){if(bs=m,wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ea.current=n===null||n.memoizedState===null?Ww:Uw,n=a(c,h),ai){m=0;do{if(ai=!1,li=0,25<=m)throw Error(o(301));m+=1,Vt=Rt=null,s.updateQueue=null,Ea.current=zw,n=a(c,h)}while(ai)}if(Ea.current=Ra,s=Rt!==null&&Rt.next!==null,bs=0,Vt=Rt=wt=null,La=!1,s)throw Error(o(300));return n}function Uc(){var n=li!==0;return li=0,n}function ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?wt.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function Pn(){if(Rt===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Rt.next;var s=Vt===null?wt.memoizedState:Vt.next;if(s!==null)Vt=s,Rt=n;else{if(n===null)throw Error(o(310));Rt=n,n={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?wt.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function ci(n,s){return typeof s=="function"?s(n):s}function zc(n){var s=Pn(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var c=Rt,h=c.baseQueue,m=a.pending;if(m!==null){if(h!==null){var j=h.next;h.next=m.next,m.next=j}c.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,c=c.baseState;var D=j=null,B=null,X=m;do{var de=X.lane;if((bs&de)===de)B!==null&&(B=B.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),c=X.hasEagerState?X.eagerState:n(c,X.action);else{var he={lane:de,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};B===null?(D=B=he,j=c):B=B.next=he,wt.lanes|=de,ks|=de}X=X.next}while(X!==null&&X!==m);B===null?j=c:B.next=D,Hn(c,s.memoizedState)||(pn=!0),s.memoizedState=c,s.baseState=j,s.baseQueue=B,a.lastRenderedState=c}if(n=a.interleaved,n!==null){h=n;do m=h.lane,wt.lanes|=m,ks|=m,h=h.next;while(h!==n)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function $c(n){var s=Pn(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var c=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var j=h=h.next;do m=n(m,j.action),j=j.next;while(j!==h);Hn(m,s.memoizedState)||(pn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function xf(){}function wf(n,s){var a=wt,c=Pn(),h=s(),m=!Hn(c.memoizedState,h);if(m&&(c.memoizedState=h,pn=!0),c=c.queue,Hc(kf.bind(null,a,c,n),[n]),c.getSnapshot!==s||m||Vt!==null&&Vt.memoizedState.tag&1){if(a.flags|=2048,di(9,bf.bind(null,a,c,h,s),void 0,null),_t===null)throw Error(o(349));(bs&30)!==0||jf(a,s,h)}return h}function jf(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function bf(n,s,a,c){s.value=a,s.getSnapshot=c,Sf(s)&&Cf(n)}function kf(n,s,a){return a(function(){Sf(s)&&Cf(n)})}function Sf(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Hn(n,a)}catch{return!0}}function Cf(n){var s=br(n,1);s!==null&&Kn(s,n,1,-1)}function Nf(n){var s=ir();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:n},s.queue=n,n=n.dispatch=Bw.bind(null,wt,n),[s.memoizedState,n]}function di(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Af(){return Pn().memoizedState}function Da(n,s,a,c){var h=ir();wt.flags|=n,h.memoizedState=di(1|s,a,void 0,c===void 0?null:c)}function Pa(n,s,a,c){var h=Pn();c=c===void 0?null:c;var m=void 0;if(Rt!==null){var j=Rt.memoizedState;if(m=j.destroy,c!==null&&Bc(c,j.deps)){h.memoizedState=di(s,a,m,c);return}}wt.flags|=n,h.memoizedState=di(1|s,a,m,c)}function Tf(n,s){return Da(8390656,8,n,s)}function Hc(n,s){return Pa(2048,8,n,s)}function Ef(n,s){return Pa(4,2,n,s)}function Lf(n,s){return Pa(4,4,n,s)}function Df(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Pf(n,s,a){return a=a!=null?a.concat([n]):null,Pa(4,4,Df.bind(null,s,n),a)}function qc(){}function Rf(n,s){var a=Pn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Bc(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Mf(n,s){var a=Pn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Bc(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function If(n,s,a){return(bs&21)===0?(n.baseState&&(n.baseState=!1,pn=!0),n.memoizedState=a):(Hn(a,s)||(a=Us(),wt.lanes|=a,ks|=a,n.baseState=!0),s)}function Vw(n,s){var a=lt;lt=a!==0&&4>a?a:4,n(!0);var c=_c.transition;_c.transition={};try{n(!1),s()}finally{lt=a,_c.transition=c}}function Of(){return Pn().memoizedState}function _w(n,s,a){var c=Kr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ff(n))Vf(s,a);else if(a=ff(n,s,a,c),a!==null){var h=rn();Kn(a,n,c,h),_f(a,s,c)}}function Bw(n,s,a){var c=Kr(n),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ff(n))Vf(s,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var j=s.lastRenderedState,D=m(j,a);if(h.hasEagerState=!0,h.eagerState=D,Hn(D,j)){var B=s.interleaved;B===null?(h.next=h,Rc(s)):(h.next=B.next,B.next=h),s.interleaved=h;return}}catch{}finally{}a=ff(n,s,h,c),a!==null&&(h=rn(),Kn(a,n,c,h),_f(a,s,c))}}function Ff(n){var s=n.alternate;return n===wt||s!==null&&s===wt}function Vf(n,s){ai=La=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function _f(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Yl(n,a)}}var Ra={readContext:Dn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},Ww={readContext:Dn,useCallback:function(n,s){return ir().memoizedState=[n,s===void 0?null:s],n},useContext:Dn,useEffect:Tf,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Da(4194308,4,Df.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Da(4194308,4,n,s)},useInsertionEffect:function(n,s){return Da(4,2,n,s)},useMemo:function(n,s){var a=ir();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=ir();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=_w.bind(null,wt,n),[c.memoizedState,n]},useRef:function(n){var s=ir();return n={current:n},s.memoizedState=n},useState:Nf,useDebugValue:qc,useDeferredValue:function(n){return ir().memoizedState=n},useTransition:function(){var n=Nf(!1),s=n[0];return n=Vw.bind(null,n[1]),ir().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=wt,h=ir();if(mt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),_t===null)throw Error(o(349));(bs&30)!==0||jf(c,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,Tf(kf.bind(null,c,m,n),[n]),c.flags|=2048,di(9,bf.bind(null,c,m,a,s),void 0,null),a},useId:function(){var n=ir(),s=_t.identifierPrefix;if(mt){var a=jr,c=wr;a=(c&~(1<<32-ge(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=li++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Fw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Uw={readContext:Dn,useCallback:Rf,useContext:Dn,useEffect:Hc,useImperativeHandle:Pf,useInsertionEffect:Ef,useLayoutEffect:Lf,useMemo:Mf,useReducer:zc,useRef:Af,useState:function(){return zc(ci)},useDebugValue:qc,useDeferredValue:function(n){var s=Pn();return If(s,Rt.memoizedState,n)},useTransition:function(){var n=zc(ci)[0],s=Pn().memoizedState;return[n,s]},useMutableSource:xf,useSyncExternalStore:wf,useId:Of,unstable_isNewReconciler:!1},zw={readContext:Dn,useCallback:Rf,useContext:Dn,useEffect:Hc,useImperativeHandle:Pf,useInsertionEffect:Ef,useLayoutEffect:Lf,useMemo:Mf,useReducer:$c,useRef:Af,useState:function(){return $c(ci)},useDebugValue:qc,useDeferredValue:function(n){var s=Pn();return Rt===null?s.memoizedState=n:If(s,Rt.memoizedState,n)},useTransition:function(){var n=$c(ci)[0],s=Pn().memoizedState;return[n,s]},useMutableSource:xf,useSyncExternalStore:wf,useId:Of,unstable_isNewReconciler:!1};function Gn(n,s){if(n&&n.defaultProps){s=E({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Gc(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:E({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ma={isMounted:function(n){return(n=n._reactInternals)?Tn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=rn(),h=Kr(n),m=kr(c,h);m.payload=s,a!=null&&(m.callback=a),s=qr(n,m,h),s!==null&&(Kn(s,n,h,c),Na(s,n,h))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=rn(),h=Kr(n),m=kr(c,h);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=qr(n,m,h),s!==null&&(Kn(s,n,h,c),Na(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=rn(),c=Kr(n),h=kr(a,c);h.tag=2,s!=null&&(h.callback=s),s=qr(n,h,c),s!==null&&(Kn(s,n,c,a),Na(s,n,c))}};function Bf(n,s,a,c,h,m,j){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,j):s.prototype&&s.prototype.isPureReactComponent?!Ko(a,c)||!Ko(h,m):!0}function Wf(n,s,a){var c=!1,h=zr,m=s.contextType;return typeof m=="object"&&m!==null?m=Dn(m):(h=hn(s)?ys:Kt.current,c=s.contextTypes,m=(c=c!=null)?Js(n,h):zr),s=new s(a,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ma,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=m),s}function Uf(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Ma.enqueueReplaceState(s,s.state,null)}function Yc(n,s,a,c){var h=n.stateNode;h.props=a,h.state=n.memoizedState,h.refs={},Mc(n);var m=s.contextType;typeof m=="object"&&m!==null?h.context=Dn(m):(m=hn(s)?ys:Kt.current,h.context=Js(n,m)),h.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Gc(n,s,m,a),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ma.enqueueReplaceState(h,h.state,null),Aa(n,a,h,c),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function io(n,s){try{var a="",c=s;do a+=ne(c),c=c.return;while(c);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:h,digest:null}}function Qc(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Kc(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function zf(n,s,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Wa||(Wa=!0,ud=c),Kc(n,s)},a}function $f(n,s,a){a=kr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Kc(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Kc(n,s),typeof c!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),a}function Hf(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new $w;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),n=s1.bind(null,n,s,a),s.then(n,n))}function qf(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Gf(n,s,a,c,h){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kr(-1,1),s.tag=2,qr(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var Hw=R.ReactCurrentOwner,pn=!1;function nn(n,s,a,c){s.child=n===null?pf(s,null,a,c):no(s,n.child,a,c)}function Yf(n,s,a,c,h){a=a.render;var m=s.ref;return so(s,h),c=Wc(n,s,a,c,m,h),a=Uc(),n!==null&&!pn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Sr(n,s,h)):(mt&&a&&Sc(s),s.flags|=1,nn(n,s,c,h),s.child)}function Qf(n,s,a,c,h){if(n===null){var m=a.type;return typeof m=="function"&&!vd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Kf(n,s,m,c,h)):(n=Ga(a.type,null,c,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&h)===0){var j=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(j,c)&&n.ref===s.ref)return Sr(n,s,h)}return s.flags|=1,n=Jr(m,c),n.ref=s.ref,n.return=s,s.child=n}function Kf(n,s,a,c,h){if(n!==null){var m=n.memoizedProps;if(Ko(m,c)&&n.ref===s.ref)if(pn=!1,s.pendingProps=c=m,(n.lanes&h)!==0)(n.flags&131072)!==0&&(pn=!0);else return s.lanes=n.lanes,Sr(n,s,h)}return Zc(n,s,a,c,h)}function Zf(n,s,a){var c=s.pendingProps,h=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(lo,Cn),Cn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,dt(lo,Cn),Cn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,dt(lo,Cn),Cn|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,dt(lo,Cn),Cn|=c;return nn(n,s,h,a),s.child}function Jf(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Zc(n,s,a,c,h){var m=hn(a)?ys:Kt.current;return m=Js(s,m),so(s,h),a=Wc(n,s,a,c,m,h),c=Uc(),n!==null&&!pn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Sr(n,s,h)):(mt&&c&&Sc(s),s.flags|=1,nn(n,s,a,h),s.child)}function Xf(n,s,a,c,h){if(hn(a)){var m=!0;va(s)}else m=!1;if(so(s,h),s.stateNode===null)Oa(n,s),Wf(s,a,c),Yc(s,a,c,h),c=!0;else if(n===null){var j=s.stateNode,D=s.memoizedProps;j.props=D;var B=j.context,X=a.contextType;typeof X=="object"&&X!==null?X=Dn(X):(X=hn(a)?ys:Kt.current,X=Js(s,X));var de=a.getDerivedStateFromProps,he=typeof de=="function"||typeof j.getSnapshotBeforeUpdate=="function";he||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(D!==c||B!==X)&&Uf(s,j,c,X),Hr=!1;var ce=s.memoizedState;j.state=ce,Aa(s,c,j,h),B=s.memoizedState,D!==c||ce!==B||un.current||Hr?(typeof de=="function"&&(Gc(s,a,de,c),B=s.memoizedState),(D=Hr||Bf(s,a,D,c,ce,B,X))?(he||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),j.props=c,j.state=B,j.context=X,c=D):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{j=s.stateNode,mf(n,s),D=s.memoizedProps,X=s.type===s.elementType?D:Gn(s.type,D),j.props=X,he=s.pendingProps,ce=j.context,B=a.contextType,typeof B=="object"&&B!==null?B=Dn(B):(B=hn(a)?ys:Kt.current,B=Js(s,B));var Ce=a.getDerivedStateFromProps;(de=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(D!==he||ce!==B)&&Uf(s,j,c,B),Hr=!1,ce=s.memoizedState,j.state=ce,Aa(s,c,j,h);var Le=s.memoizedState;D!==he||ce!==Le||un.current||Hr?(typeof Ce=="function"&&(Gc(s,a,Ce,c),Le=s.memoizedState),(X=Hr||Bf(s,a,X,c,ce,Le,B)||!1)?(de||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(c,Le,B),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(c,Le,B)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||D===n.memoizedProps&&ce===n.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&ce===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Le),j.props=c,j.state=Le,j.context=B,c=X):(typeof j.componentDidUpdate!="function"||D===n.memoizedProps&&ce===n.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&ce===n.memoizedState||(s.flags|=1024),c=!1)}return Jc(n,s,a,c,m,h)}function Jc(n,s,a,c,h,m){Jf(n,s);var j=(s.flags&128)!==0;if(!c&&!j)return h&&rf(s,a,!1),Sr(n,s,m);c=s.stateNode,Hw.current=s;var D=j&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&j?(s.child=no(s,n.child,null,m),s.child=no(s,null,D,m)):nn(n,s,D,m),s.memoizedState=c.state,h&&rf(s,a,!0),s.child}function em(n){var s=n.stateNode;s.pendingContext?tf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&tf(n,s.context,!1),Ic(n,s.containerInfo)}function tm(n,s,a,c,h){return to(),Tc(h),s.flags|=256,nn(n,s,a,c),s.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function ed(n){return{baseLanes:n,cachePool:null,transitions:null}}function nm(n,s,a){var c=s.pendingProps,h=xt.current,m=!1,j=(s.flags&128)!==0,D;if((D=j)||(D=n!==null&&n.memoizedState===null?!1:(h&2)!==0),D?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),dt(xt,h&1),n===null)return Ac(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(j=c.children,n=c.fallback,m?(c=s.mode,m=s.child,j={mode:"hidden",children:j},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=j):m=Ya(j,c,0,null),n=As(n,c,a,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=ed(a),s.memoizedState=Xc,n):td(s,j));if(h=n.memoizedState,h!==null&&(D=h.dehydrated,D!==null))return qw(n,s,j,c,D,h,a);if(m){m=c.fallback,j=s.mode,h=n.child,D=h.sibling;var B={mode:"hidden",children:c.children};return(j&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=B,s.deletions=null):(c=Jr(h,B),c.subtreeFlags=h.subtreeFlags&14680064),D!==null?m=Jr(D,m):(m=As(m,j,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,j=n.child.memoizedState,j=j===null?ed(a):{baseLanes:j.baseLanes|a,cachePool:null,transitions:j.transitions},m.memoizedState=j,m.childLanes=n.childLanes&~a,s.memoizedState=Xc,c}return m=n.child,n=m.sibling,c=Jr(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function td(n,s){return s=Ya({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Ia(n,s,a,c){return c!==null&&Tc(c),no(s,n.child,null,a),n=td(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function qw(n,s,a,c,h,m,j){if(a)return s.flags&256?(s.flags&=-257,c=Qc(Error(o(422))),Ia(n,s,j,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=c.fallback,h=s.mode,c=Ya({mode:"visible",children:c.children},h,0,null),m=As(m,h,j,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&no(s,n.child,null,j),s.child.memoizedState=ed(j),s.memoizedState=Xc,m);if((s.mode&1)===0)return Ia(n,s,j,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var D=c.dgst;return c=D,m=Error(o(419)),c=Qc(m,c,void 0),Ia(n,s,j,c)}if(D=(j&n.childLanes)!==0,pn||D){if(c=_t,c!==null){switch(j&-j){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|j))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,br(n,h),Kn(c,n,h,-1))}return yd(),c=Qc(Error(o(421))),Ia(n,s,j,c)}return h.data==="$?"?(s.flags|=128,s.child=n.child,s=o1.bind(null,n),h._reactRetry=s,null):(n=m.treeContext,Sn=Wr(h.nextSibling),kn=s,mt=!0,qn=null,n!==null&&(En[Ln++]=wr,En[Ln++]=jr,En[Ln++]=vs,wr=n.id,jr=n.overflow,vs=s),s=td(s,c.children),s.flags|=4096,s)}function rm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Pc(n.return,s,a)}function nd(n,s,a,c,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function sm(n,s,a){var c=s.pendingProps,h=c.revealOrder,m=c.tail;if(nn(n,s,c.children,a),c=xt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rm(n,a,s);else if(n.tag===19)rm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(dt(xt,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&Ta(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),nd(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Ta(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}nd(s,!0,a,null,m);break;case"together":nd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Oa(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Sr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ks|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,a=Jr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Jr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Gw(n,s,a){switch(s.tag){case 3:em(s),to();break;case 5:vf(s);break;case 1:hn(s.type)&&va(s);break;case 4:Ic(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;dt(Sa,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(dt(xt,xt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?nm(n,s,a):(dt(xt,xt.current&1),n=Sr(n,s,a),n!==null?n.sibling:null);dt(xt,xt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return sm(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),dt(xt,xt.current),c)break;return null;case 22:case 23:return s.lanes=0,Zf(n,s,a)}return Sr(n,s,a)}var om,rd,im,am;om=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},rd=function(){},im=function(n,s,a,c){var h=n.memoizedProps;if(h!==c){n=s.stateNode,js(or.current);var m=null;switch(a){case"input":h=Ae(n,h),c=Ae(n,c),m=[];break;case"select":h=E({},h,{value:void 0}),c=E({},c,{value:void 0}),m=[];break;case"textarea":h=wn(n,h),c=wn(n,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ma)}Te(a,c);var j;a=null;for(X in h)if(!c.hasOwnProperty(X)&&h.hasOwnProperty(X)&&h[X]!=null)if(X==="style"){var D=h[X];for(j in D)D.hasOwnProperty(j)&&(a||(a={}),a[j]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(l.hasOwnProperty(X)?m||(m=[]):(m=m||[]).push(X,null));for(X in c){var B=c[X];if(D=h?.[X],c.hasOwnProperty(X)&&B!==D&&(B!=null||D!=null))if(X==="style")if(D){for(j in D)!D.hasOwnProperty(j)||B&&B.hasOwnProperty(j)||(a||(a={}),a[j]="");for(j in B)B.hasOwnProperty(j)&&D[j]!==B[j]&&(a||(a={}),a[j]=B[j])}else a||(m||(m=[]),m.push(X,a)),a=B;else X==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,D=D?D.__html:void 0,B!=null&&D!==B&&(m=m||[]).push(X,B)):X==="children"?typeof B!="string"&&typeof B!="number"||(m=m||[]).push(X,""+B):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(l.hasOwnProperty(X)?(B!=null&&X==="onScroll"&&ht("scroll",n),m||D===B||(m=[])):(m=m||[]).push(X,B))}a&&(m=m||[]).push("style",a);var X=m;(s.updateQueue=X)&&(s.flags|=4)}},am=function(n,s,a,c){a!==c&&(s.flags|=4)};function ui(n,s){if(!mt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Jt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Yw(n,s,a){var c=s.pendingProps;switch(Cc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return hn(s.type)&&ya(),Jt(s),null;case 3:return c=s.stateNode,oo(),pt(un),pt(Kt),Vc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ba(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(fd(qn),qn=null))),rd(n,s),Jt(s),null;case 5:Oc(s);var h=js(ii.current);if(a=s.type,n!==null&&s.stateNode!=null)im(n,s,a,c,h),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(o(166));return Jt(s),null}if(n=js(or.current),ba(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[sr]=s,c[ti]=m,n=(s.mode&1)!==0,a){case"dialog":ht("cancel",c),ht("close",c);break;case"iframe":case"object":case"embed":ht("load",c);break;case"video":case"audio":for(h=0;h<Jo.length;h++)ht(Jo[h],c);break;case"source":ht("error",c);break;case"img":case"image":case"link":ht("error",c),ht("load",c);break;case"details":ht("toggle",c);break;case"input":st(c,m),ht("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},ht("invalid",c);break;case"textarea":pr(c,m),ht("invalid",c)}Te(a,m),h=null;for(var j in m)if(m.hasOwnProperty(j)){var D=m[j];j==="children"?typeof D=="string"?c.textContent!==D&&(m.suppressHydrationWarning!==!0&&fa(c.textContent,D,n),h=["children",D]):typeof D=="number"&&c.textContent!==""+D&&(m.suppressHydrationWarning!==!0&&fa(c.textContent,D,n),h=["children",""+D]):l.hasOwnProperty(j)&&D!=null&&j==="onScroll"&&ht("scroll",c)}switch(a){case"input":Z(c),Je(c,m,!0);break;case"textarea":Z(c),ln(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ma)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{j=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Bn(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=j.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=j.createElement(a,{is:c.is}):(n=j.createElement(a),a==="select"&&(j=n,c.multiple?j.multiple=!0:c.size&&(j.size=c.size))):n=j.createElementNS(n,a),n[sr]=s,n[ti]=c,om(n,s,!1,!1),s.stateNode=n;e:{switch(j=Ie(a,c),a){case"dialog":ht("cancel",n),ht("close",n),h=c;break;case"iframe":case"object":case"embed":ht("load",n),h=c;break;case"video":case"audio":for(h=0;h<Jo.length;h++)ht(Jo[h],n);h=c;break;case"source":ht("error",n),h=c;break;case"img":case"image":case"link":ht("error",n),ht("load",n),h=c;break;case"details":ht("toggle",n),h=c;break;case"input":st(n,c),h=Ae(n,c),ht("invalid",n);break;case"option":h=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},h=E({},c,{value:void 0}),ht("invalid",n);break;case"textarea":pr(n,c),h=wn(n,c),ht("invalid",n);break;default:h=c}Te(a,h),D=h;for(m in D)if(D.hasOwnProperty(m)){var B=D[m];m==="style"?ie(n,B):m==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ft(n,B)):m==="children"?typeof B=="string"?(a!=="textarea"||B!=="")&&Ut(n,B):typeof B=="number"&&Ut(n,""+B):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(l.hasOwnProperty(m)?B!=null&&m==="onScroll"&&ht("scroll",n):B!=null&&N(n,m,B,j))}switch(a){case"input":Z(n),Je(n,c,!1);break;case"textarea":Z(n),ln(n);break;case"option":c.value!=null&&n.setAttribute("value",""+be(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?Ot(n,!!c.multiple,m,!1):c.defaultValue!=null&&Ot(n,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=ma)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(n&&s.stateNode!=null)am(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(o(166));if(a=js(ii.current),js(or.current),ba(s)){if(c=s.stateNode,a=s.memoizedProps,c[sr]=s,(m=c.nodeValue!==a)&&(n=kn,n!==null))switch(n.tag){case 3:fa(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fa(c.nodeValue,a,(n.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[sr]=s,s.stateNode=c}return Jt(s),null;case 13:if(pt(xt),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(mt&&Sn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)df(),to(),s.flags|=98560,m=!1;else if(m=ba(s),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(o(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[sr]=s}else to(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),m=!1}else qn!==null&&(fd(qn),qn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(xt.current&1)!==0?Mt===0&&(Mt=3):yd())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return oo(),rd(n,s),n===null&&Xo(s.stateNode.containerInfo),Jt(s),null;case 10:return Dc(s.type._context),Jt(s),null;case 17:return hn(s.type)&&ya(),Jt(s),null;case 19:if(pt(xt),m=s.memoizedState,m===null)return Jt(s),null;if(c=(s.flags&128)!==0,j=m.rendering,j===null)if(c)ui(m,!1);else{if(Mt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(j=Ta(n),j!==null){for(s.flags|=128,ui(m,!1),c=j.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,n=c,m.flags&=14680066,j=m.alternate,j===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=j.childLanes,m.lanes=j.lanes,m.child=j.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=j.memoizedProps,m.memoizedState=j.memoizedState,m.updateQueue=j.updateQueue,m.type=j.type,n=j.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return dt(xt,xt.current&1|2),s.child}n=n.sibling}m.tail!==null&&vt()>co&&(s.flags|=128,c=!0,ui(m,!1),s.lanes=4194304)}else{if(!c)if(n=Ta(j),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ui(m,!0),m.tail===null&&m.tailMode==="hidden"&&!j.alternate&&!mt)return Jt(s),null}else 2*vt()-m.renderingStartTime>co&&a!==1073741824&&(s.flags|=128,c=!0,ui(m,!1),s.lanes=4194304);m.isBackwards?(j.sibling=s.child,s.child=j):(a=m.last,a!==null?a.sibling=j:s.child=j,m.last=j)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=vt(),s.sibling=null,a=xt.current,dt(xt,c?a&1|2:a&1),s):(Jt(s),null);case 22:case 23:return gd(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Cn&1073741824)!==0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(o(156,s.tag))}function Qw(n,s){switch(Cc(s),s.tag){case 1:return hn(s.type)&&ya(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return oo(),pt(un),pt(Kt),Vc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Oc(s),null;case 13:if(pt(xt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));to()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return pt(xt),null;case 4:return oo(),null;case 10:return Dc(s.type._context),null;case 22:case 23:return gd(),null;case 24:return null;default:return null}}var Fa=!1,Xt=!1,Kw=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ao(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){bt(n,s,c)}else a.current=null}function sd(n,s,a){try{a()}catch(c){bt(n,s,c)}}var lm=!1;function Zw(n,s){if(gc=ra,n=_p(),lc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var j=0,D=-1,B=-1,X=0,de=0,he=n,ce=null;t:for(;;){for(var Ce;he!==a||h!==0&&he.nodeType!==3||(D=j+h),he!==m||c!==0&&he.nodeType!==3||(B=j+c),he.nodeType===3&&(j+=he.nodeValue.length),(Ce=he.firstChild)!==null;)ce=he,he=Ce;for(;;){if(he===n)break t;if(ce===a&&++X===h&&(D=j),ce===m&&++de===c&&(B=j),(Ce=he.nextSibling)!==null)break;he=ce,ce=he.parentNode}he=Ce}a=D===-1||B===-1?null:{start:D,end:B}}else a=null}a=a||{start:0,end:0}}else a=null;for(yc={focusedElem:n,selectionRange:a},ra=!1,Ee=s;Ee!==null;)if(s=Ee,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ee=n;else for(;Ee!==null;){s=Ee;try{var Le=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Pe=Le.memoizedProps,Ct=Le.memoizedState,G=s.stateNode,z=G.getSnapshotBeforeUpdate(s.elementType===s.type?Pe:Gn(s.type,Pe),Ct);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(fe){bt(s,s.return,fe)}if(n=s.sibling,n!==null){n.return=s.return,Ee=n;break}Ee=s.return}return Le=lm,lm=!1,Le}function hi(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&n)===n){var m=h.destroy;h.destroy=void 0,m!==void 0&&sd(s,a,m)}h=h.next}while(h!==c)}}function Va(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function od(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function cm(n){var s=n.alternate;s!==null&&(n.alternate=null,cm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[sr],delete s[ti],delete s[jc],delete s[Rw],delete s[Mw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function dm(n){return n.tag===5||n.tag===3||n.tag===4}function um(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function id(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ma));else if(c!==4&&(n=n.child,n!==null))for(id(n,s,a),n=n.sibling;n!==null;)id(n,s,a),n=n.sibling}function ad(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(ad(n,s,a),n=n.sibling;n!==null;)ad(n,s,a),n=n.sibling}var zt=null,Yn=!1;function Gr(n,s,a){for(a=a.child;a!==null;)hm(n,s,a),a=a.sibling}function hm(n,s,a){if(W&&typeof W.onCommitFiberUnmount=="function")try{W.onCommitFiberUnmount(I,a)}catch{}switch(a.tag){case 5:Xt||ao(a,s);case 6:var c=zt,h=Yn;zt=null,Gr(n,s,a),zt=c,Yn=h,zt!==null&&(Yn?(n=zt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):zt.removeChild(a.stateNode));break;case 18:zt!==null&&(Yn?(n=zt,a=a.stateNode,n.nodeType===8?wc(n.parentNode,a):n.nodeType===1&&wc(n,a),$o(n)):wc(zt,a.stateNode));break;case 4:c=zt,h=Yn,zt=a.stateNode.containerInfo,Yn=!0,Gr(n,s,a),zt=c,Yn=h;break;case 0:case 11:case 14:case 15:if(!Xt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,j=m.destroy;m=m.tag,j!==void 0&&((m&2)!==0||(m&4)!==0)&&sd(a,s,j),h=h.next}while(h!==c)}Gr(n,s,a);break;case 1:if(!Xt&&(ao(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(D){bt(a,s,D)}Gr(n,s,a);break;case 21:Gr(n,s,a);break;case 22:a.mode&1?(Xt=(c=Xt)||a.memoizedState!==null,Gr(n,s,a),Xt=c):Gr(n,s,a);break;default:Gr(n,s,a)}}function pm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Kw),s.forEach(function(c){var h=i1.bind(null,n,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Qn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var m=n,j=s,D=j;e:for(;D!==null;){switch(D.tag){case 5:zt=D.stateNode,Yn=!1;break e;case 3:zt=D.stateNode.containerInfo,Yn=!0;break e;case 4:zt=D.stateNode.containerInfo,Yn=!0;break e}D=D.return}if(zt===null)throw Error(o(160));hm(m,j,h),zt=null,Yn=!1;var B=h.alternate;B!==null&&(B.return=null),h.return=null}catch(X){bt(h,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)fm(s,n),s=s.sibling}function fm(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qn(s,n),ar(n),c&4){try{hi(3,n,n.return),Va(3,n)}catch(Pe){bt(n,n.return,Pe)}try{hi(5,n,n.return)}catch(Pe){bt(n,n.return,Pe)}}break;case 1:Qn(s,n),ar(n),c&512&&a!==null&&ao(a,a.return);break;case 5:if(Qn(s,n),ar(n),c&512&&a!==null&&ao(a,a.return),n.flags&32){var h=n.stateNode;try{Ut(h,"")}catch(Pe){bt(n,n.return,Pe)}}if(c&4&&(h=n.stateNode,h!=null)){var m=n.memoizedProps,j=a!==null?a.memoizedProps:m,D=n.type,B=n.updateQueue;if(n.updateQueue=null,B!==null)try{D==="input"&&m.type==="radio"&&m.name!=null&&He(h,m),Ie(D,j);var X=Ie(D,m);for(j=0;j<B.length;j+=2){var de=B[j],he=B[j+1];de==="style"?ie(h,he):de==="dangerouslySetInnerHTML"?Ft(h,he):de==="children"?Ut(h,he):N(h,de,he,X)}switch(D){case"input":Ve(h,m);break;case"textarea":Xn(h,m);break;case"select":var ce=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var Ce=m.value;Ce!=null?Ot(h,!!m.multiple,Ce,!1):ce!==!!m.multiple&&(m.defaultValue!=null?Ot(h,!!m.multiple,m.defaultValue,!0):Ot(h,!!m.multiple,m.multiple?[]:"",!1))}h[ti]=m}catch(Pe){bt(n,n.return,Pe)}}break;case 6:if(Qn(s,n),ar(n),c&4){if(n.stateNode===null)throw Error(o(162));h=n.stateNode,m=n.memoizedProps;try{h.nodeValue=m}catch(Pe){bt(n,n.return,Pe)}}break;case 3:if(Qn(s,n),ar(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{$o(s.containerInfo)}catch(Pe){bt(n,n.return,Pe)}break;case 4:Qn(s,n),ar(n);break;case 13:Qn(s,n),ar(n),h=n.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(dd=vt())),c&4&&pm(n);break;case 22:if(de=a!==null&&a.memoizedState!==null,n.mode&1?(Xt=(X=Xt)||de,Qn(s,n),Xt=X):Qn(s,n),ar(n),c&8192){if(X=n.memoizedState!==null,(n.stateNode.isHidden=X)&&!de&&(n.mode&1)!==0)for(Ee=n,de=n.child;de!==null;){for(he=Ee=de;Ee!==null;){switch(ce=Ee,Ce=ce.child,ce.tag){case 0:case 11:case 14:case 15:hi(4,ce,ce.return);break;case 1:ao(ce,ce.return);var Le=ce.stateNode;if(typeof Le.componentWillUnmount=="function"){c=ce,a=ce.return;try{s=c,Le.props=s.memoizedProps,Le.state=s.memoizedState,Le.componentWillUnmount()}catch(Pe){bt(c,a,Pe)}}break;case 5:ao(ce,ce.return);break;case 22:if(ce.memoizedState!==null){ym(he);continue}}Ce!==null?(Ce.return=ce,Ee=Ce):ym(he)}de=de.sibling}e:for(de=null,he=n;;){if(he.tag===5){if(de===null){de=he;try{h=he.stateNode,X?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(D=he.stateNode,B=he.memoizedProps.style,j=B!=null&&B.hasOwnProperty("display")?B.display:null,D.style.display=Wn("display",j))}catch(Pe){bt(n,n.return,Pe)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=X?"":he.memoizedProps}catch(Pe){bt(n,n.return,Pe)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===n)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===n)break e;for(;he.sibling===null;){if(he.return===null||he.return===n)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Qn(s,n),ar(n),c&4&&pm(n);break;case 21:break;default:Qn(s,n),ar(n)}}function ar(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(dm(a)){var c=a;break e}a=a.return}throw Error(o(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Ut(h,""),c.flags&=-33);var m=um(n);ad(n,m,h);break;case 3:case 4:var j=c.stateNode.containerInfo,D=um(n);id(n,D,j);break;default:throw Error(o(161))}}catch(B){bt(n,n.return,B)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Jw(n,s,a){Ee=n,mm(n)}function mm(n,s,a){for(var c=(n.mode&1)!==0;Ee!==null;){var h=Ee,m=h.child;if(h.tag===22&&c){var j=h.memoizedState!==null||Fa;if(!j){var D=h.alternate,B=D!==null&&D.memoizedState!==null||Xt;D=Fa;var X=Xt;if(Fa=j,(Xt=B)&&!X)for(Ee=h;Ee!==null;)j=Ee,B=j.child,j.tag===22&&j.memoizedState!==null?vm(h):B!==null?(B.return=j,Ee=B):vm(h);for(;m!==null;)Ee=m,mm(m),m=m.sibling;Ee=h,Fa=D,Xt=X}gm(n)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,Ee=m):gm(n)}}function gm(n){for(;Ee!==null;){var s=Ee;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Xt||Va(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Xt)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Gn(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&yf(s,m,c);break;case 3:var j=s.updateQueue;if(j!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}yf(s,j,a)}break;case 5:var D=s.stateNode;if(a===null&&s.flags&4){a=D;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&a.focus();break;case"img":B.src&&(a.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var de=X.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&$o(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Xt||s.flags&512&&od(s)}catch(ce){bt(s,s.return,ce)}}if(s===n){Ee=null;break}if(a=s.sibling,a!==null){a.return=s.return,Ee=a;break}Ee=s.return}}function ym(n){for(;Ee!==null;){var s=Ee;if(s===n){Ee=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Ee=a;break}Ee=s.return}}function vm(n){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Va(4,s)}catch(B){bt(s,a,B)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(B){bt(s,h,B)}}var m=s.return;try{od(s)}catch(B){bt(s,m,B)}break;case 5:var j=s.return;try{od(s)}catch(B){bt(s,j,B)}}}catch(B){bt(s,s.return,B)}if(s===n){Ee=null;break}var D=s.sibling;if(D!==null){D.return=s.return,Ee=D;break}Ee=s.return}}var Xw=Math.ceil,_a=R.ReactCurrentDispatcher,ld=R.ReactCurrentOwner,Rn=R.ReactCurrentBatchConfig,nt=0,_t=null,Et=null,$t=0,Cn=0,lo=Ur(0),Mt=0,pi=null,ks=0,Ba=0,cd=0,fi=null,fn=null,dd=0,co=1/0,Cr=null,Wa=!1,ud=null,Yr=null,Ua=!1,Qr=null,za=0,mi=0,hd=null,$a=-1,Ha=0;function rn(){return(nt&6)!==0?vt():$a!==-1?$a:$a=vt()}function Kr(n){return(n.mode&1)===0?1:(nt&2)!==0&&$t!==0?$t&-$t:Ow.transition!==null?(Ha===0&&(Ha=Us()),Ha):(n=lt,n!==0||(n=window.event,n=n===void 0?16:xp(n.type)),n)}function Kn(n,s,a,c){if(50<mi)throw mi=0,hd=null,Error(o(185));_o(n,a,c),((nt&2)===0||n!==_t)&&(n===_t&&((nt&2)===0&&(Ba|=a),Mt===4&&Zr(n,$t)),mn(n,c),a===1&&nt===0&&(s.mode&1)===0&&(co=vt()+500,xa&&$r()))}function mn(n,s){var a=n.callbackNode;$n(n,s);var c=Pt(n,n===_t?$t:0);if(c===0)a!==null&&_s(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&_s(a),s===1)n.tag===0?Iw(wm.bind(null,n)):sf(wm.bind(null,n)),Dw(function(){(nt&6)===0&&$r()}),a=null;else{switch(up(c)){case 1:a=yr;break;case 4:a=Bs;break;case 16:a=ms;break;case 536870912:a=Ws;break;default:a=ms}a=Tm(a,xm.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function xm(n,s){if($a=-1,Ha=0,(nt&6)!==0)throw Error(o(327));var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var c=Pt(n,n===_t?$t:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=qa(n,c);else{s=c;var h=nt;nt|=2;var m=bm();(_t!==n||$t!==s)&&(Cr=null,co=vt()+500,Cs(n,s));do try{n1();break}catch(D){jm(n,D)}while(!0);Lc(),_a.current=m,nt=h,Et!==null?s=0:(_t=null,$t=0,s=Mt)}if(s!==0){if(s===2&&(h=Mr(n),h!==0&&(c=h,s=pd(n,h))),s===1)throw a=pi,Cs(n,0),Zr(n,c),mn(n,vt()),a;if(s===6)Zr(n,c);else{if(h=n.current.alternate,(c&30)===0&&!e1(h)&&(s=qa(n,c),s===2&&(m=Mr(n),m!==0&&(c=m,s=pd(n,m))),s===1))throw a=pi,Cs(n,0),Zr(n,c),mn(n,vt()),a;switch(n.finishedWork=h,n.finishedLanes=c,s){case 0:case 1:throw Error(o(345));case 2:Ns(n,fn,Cr);break;case 3:if(Zr(n,c),(c&130023424)===c&&(s=dd+500-vt(),10<s)){if(Pt(n,0)!==0)break;if(h=n.suspendedLanes,(h&c)!==c){rn(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=xc(Ns.bind(null,n,fn,Cr),s);break}Ns(n,fn,Cr);break;case 4:if(Zr(n,c),(c&4194240)===c)break;for(s=n.eventTimes,h=-1;0<c;){var j=31-ge(c);m=1<<j,j=s[j],j>h&&(h=j),c&=~m}if(c=h,c=vt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Xw(c/1960))-c,10<c){n.timeoutHandle=xc(Ns.bind(null,n,fn,Cr),c);break}Ns(n,fn,Cr);break;case 5:Ns(n,fn,Cr);break;default:throw Error(o(329))}}}return mn(n,vt()),n.callbackNode===a?xm.bind(null,n):null}function pd(n,s){var a=fi;return n.current.memoizedState.isDehydrated&&(Cs(n,s).flags|=256),n=qa(n,s),n!==2&&(s=fn,fn=a,s!==null&&fd(s)),n}function fd(n){fn===null?fn=n:fn.push.apply(fn,n)}function e1(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!Hn(m(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zr(n,s){for(s&=~cd,s&=~Ba,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-ge(s),c=1<<a;n[a]=-1,s&=~c}}function wm(n){if((nt&6)!==0)throw Error(o(327));uo();var s=Pt(n,0);if((s&1)===0)return mn(n,vt()),null;var a=qa(n,s);if(n.tag!==0&&a===2){var c=Mr(n);c!==0&&(s=c,a=pd(n,c))}if(a===1)throw a=pi,Cs(n,0),Zr(n,s),mn(n,vt()),a;if(a===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ns(n,fn,Cr),mn(n,vt()),null}function md(n,s){var a=nt;nt|=1;try{return n(s)}finally{nt=a,nt===0&&(co=vt()+500,xa&&$r())}}function Ss(n){Qr!==null&&Qr.tag===0&&(nt&6)===0&&uo();var s=nt;nt|=1;var a=Rn.transition,c=lt;try{if(Rn.transition=null,lt=1,n)return n()}finally{lt=c,Rn.transition=a,nt=s,(nt&6)===0&&$r()}}function gd(){Cn=lo.current,pt(lo)}function Cs(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Lw(a)),Et!==null)for(a=Et.return;a!==null;){var c=a;switch(Cc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ya();break;case 3:oo(),pt(un),pt(Kt),Vc();break;case 5:Oc(c);break;case 4:oo();break;case 13:pt(xt);break;case 19:pt(xt);break;case 10:Dc(c.type._context);break;case 22:case 23:gd()}a=a.return}if(_t=n,Et=n=Jr(n.current,null),$t=Cn=s,Mt=0,pi=null,cd=Ba=ks=0,fn=fi=null,ws!==null){for(s=0;s<ws.length;s++)if(a=ws[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,m=a.pending;if(m!==null){var j=m.next;m.next=h,c.next=j}a.pending=c}ws=null}return n}function jm(n,s){do{var a=Et;try{if(Lc(),Ea.current=Ra,La){for(var c=wt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}La=!1}if(bs=0,Vt=Rt=wt=null,ai=!1,li=0,ld.current=null,a===null||a.return===null){Mt=1,pi=s,Et=null;break}e:{var m=n,j=a.return,D=a,B=s;if(s=$t,D.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var X=B,de=D,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ce=qf(j);if(Ce!==null){Ce.flags&=-257,Gf(Ce,j,D,m,s),Ce.mode&1&&Hf(m,X,s),s=Ce,B=X;var Le=s.updateQueue;if(Le===null){var Pe=new Set;Pe.add(B),s.updateQueue=Pe}else Le.add(B);break e}else{if((s&1)===0){Hf(m,X,s),yd();break e}B=Error(o(426))}}else if(mt&&D.mode&1){var Ct=qf(j);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),Gf(Ct,j,D,m,s),Tc(io(B,D));break e}}m=B=io(B,D),Mt!==4&&(Mt=2),fi===null?fi=[m]:fi.push(m),m=j;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var G=zf(m,B,s);gf(m,G);break e;case 1:D=B;var z=m.type,K=m.stateNode;if((m.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Yr===null||!Yr.has(K)))){m.flags|=65536,s&=-s,m.lanes|=s;var fe=$f(m,D,s);gf(m,fe);break e}}m=m.return}while(m!==null)}Sm(a)}catch(Re){s=Re,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function bm(){var n=_a.current;return _a.current=Ra,n===null?Ra:n}function yd(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),_t===null||(ks&268435455)===0&&(Ba&268435455)===0||Zr(_t,$t)}function qa(n,s){var a=nt;nt|=2;var c=bm();(_t!==n||$t!==s)&&(Cr=null,Cs(n,s));do try{t1();break}catch(h){jm(n,h)}while(!0);if(Lc(),nt=a,_a.current=c,Et!==null)throw Error(o(261));return _t=null,$t=0,Mt}function t1(){for(;Et!==null;)km(Et)}function n1(){for(;Et!==null&&!Fo();)km(Et)}function km(n){var s=Am(n.alternate,n,Cn);n.memoizedProps=n.pendingProps,s===null?Sm(n):Et=s,ld.current=null}function Sm(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=Yw(a,s,Cn),a!==null){Et=a;return}}else{if(a=Qw(a,s),a!==null){a.flags&=32767,Et=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mt=6,Et=null;return}}if(s=s.sibling,s!==null){Et=s;return}Et=s=n}while(s!==null);Mt===0&&(Mt=5)}function Ns(n,s,a){var c=lt,h=Rn.transition;try{Rn.transition=null,lt=1,r1(n,s,a,c)}finally{Rn.transition=h,lt=c}return null}function r1(n,s,a,c){do uo();while(Qr!==null);if((nt&6)!==0)throw Error(o(327));a=n.finishedWork;var h=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(F0(n,m),n===_t&&(Et=_t=null,$t=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ua||(Ua=!0,Tm(ms,function(){return uo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Rn.transition,Rn.transition=null;var j=lt;lt=1;var D=nt;nt|=4,ld.current=null,Zw(n,a),fm(a,n),kw(yc),ra=!!gc,yc=gc=null,n.current=a,Jw(a),Hl(),nt=D,lt=j,Rn.transition=m}else n.current=a;if(Ua&&(Ua=!1,Qr=n,za=h),m=n.pendingLanes,m===0&&(Yr=null),se(a.stateNode),mn(n,vt()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Wa)throw Wa=!1,n=ud,ud=null,n;return(za&1)!==0&&n.tag!==0&&uo(),m=n.pendingLanes,(m&1)!==0?n===hd?mi++:(mi=0,hd=n):mi=0,$r(),null}function uo(){if(Qr!==null){var n=up(za),s=Rn.transition,a=lt;try{if(Rn.transition=null,lt=16>n?16:n,Qr===null)var c=!1;else{if(n=Qr,Qr=null,za=0,(nt&6)!==0)throw Error(o(331));var h=nt;for(nt|=4,Ee=n.current;Ee!==null;){var m=Ee,j=m.child;if((Ee.flags&16)!==0){var D=m.deletions;if(D!==null){for(var B=0;B<D.length;B++){var X=D[B];for(Ee=X;Ee!==null;){var de=Ee;switch(de.tag){case 0:case 11:case 15:hi(8,de,m)}var he=de.child;if(he!==null)he.return=de,Ee=he;else for(;Ee!==null;){de=Ee;var ce=de.sibling,Ce=de.return;if(cm(de),de===X){Ee=null;break}if(ce!==null){ce.return=Ce,Ee=ce;break}Ee=Ce}}}var Le=m.alternate;if(Le!==null){var Pe=Le.child;if(Pe!==null){Le.child=null;do{var Ct=Pe.sibling;Pe.sibling=null,Pe=Ct}while(Pe!==null)}}Ee=m}}if((m.subtreeFlags&2064)!==0&&j!==null)j.return=m,Ee=j;else e:for(;Ee!==null;){if(m=Ee,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:hi(9,m,m.return)}var G=m.sibling;if(G!==null){G.return=m.return,Ee=G;break e}Ee=m.return}}var z=n.current;for(Ee=z;Ee!==null;){j=Ee;var K=j.child;if((j.subtreeFlags&2064)!==0&&K!==null)K.return=j,Ee=K;else e:for(j=z;Ee!==null;){if(D=Ee,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Va(9,D)}}catch(Re){bt(D,D.return,Re)}if(D===j){Ee=null;break e}var fe=D.sibling;if(fe!==null){fe.return=D.return,Ee=fe;break e}Ee=D.return}}if(nt=h,$r(),W&&typeof W.onPostCommitFiberRoot=="function")try{W.onPostCommitFiberRoot(I,n)}catch{}c=!0}return c}finally{lt=a,Rn.transition=s}}return!1}function Cm(n,s,a){s=io(a,s),s=zf(n,s,1),n=qr(n,s,1),s=rn(),n!==null&&(_o(n,1,s),mn(n,s))}function bt(n,s,a){if(n.tag===3)Cm(n,n,a);else for(;s!==null;){if(s.tag===3){Cm(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yr===null||!Yr.has(c))){n=io(a,n),n=$f(s,n,1),s=qr(s,n,1),n=rn(),s!==null&&(_o(s,1,n),mn(s,n));break}}s=s.return}}function s1(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=rn(),n.pingedLanes|=n.suspendedLanes&a,_t===n&&($t&a)===a&&(Mt===4||Mt===3&&($t&130023424)===$t&&500>vt()-dd?Cs(n,0):cd|=a),mn(n,s)}function Nm(n,s){s===0&&((n.mode&1)===0?s=1:(s=ot,ot<<=1,(ot&130023424)===0&&(ot=4194304)));var a=rn();n=br(n,s),n!==null&&(_o(n,s,a),mn(n,a))}function o1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Nm(n,a)}function i1(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(s),Nm(n,a)}var Am;Am=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||un.current)pn=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return pn=!1,Gw(n,s,a);pn=(n.flags&131072)!==0}else pn=!1,mt&&(s.flags&1048576)!==0&&of(s,ja,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Oa(n,s),n=s.pendingProps;var h=Js(s,Kt.current);so(s,a),h=Wc(null,s,c,n,h,a);var m=Uc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hn(c)?(m=!0,va(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Mc(s),h.updater=Ma,s.stateNode=h,h._reactInternals=s,Yc(s,c,n,a),s=Jc(null,s,c,!0,m,a)):(s.tag=0,mt&&m&&Sc(s),nn(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Oa(n,s),n=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=l1(c),n=Gn(c,n),h){case 0:s=Zc(null,s,c,n,a);break e;case 1:s=Xf(null,s,c,n,a);break e;case 11:s=Yf(null,s,c,n,a);break e;case 14:s=Qf(null,s,c,Gn(c.type,n),a);break e}throw Error(o(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Gn(c,h),Zc(n,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Gn(c,h),Xf(n,s,c,h,a);case 3:e:{if(em(s),n===null)throw Error(o(387));c=s.pendingProps,m=s.memoizedState,h=m.element,mf(n,s),Aa(s,c,null,a);var j=s.memoizedState;if(c=j.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=io(Error(o(423)),s),s=tm(n,s,c,a,h);break e}else if(c!==h){h=io(Error(o(424)),s),s=tm(n,s,c,a,h);break e}else for(Sn=Wr(s.stateNode.containerInfo.firstChild),kn=s,mt=!0,qn=null,a=pf(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(to(),c===h){s=Sr(n,s,a);break e}nn(n,s,c,a)}s=s.child}return s;case 5:return vf(s),n===null&&Ac(s),c=s.type,h=s.pendingProps,m=n!==null?n.memoizedProps:null,j=h.children,vc(c,h)?j=null:m!==null&&vc(c,m)&&(s.flags|=32),Jf(n,s),nn(n,s,j,a),s.child;case 6:return n===null&&Ac(s),null;case 13:return nm(n,s,a);case 4:return Ic(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=no(s,null,c,a):nn(n,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Gn(c,h),Yf(n,s,c,h,a);case 7:return nn(n,s,s.pendingProps,a),s.child;case 8:return nn(n,s,s.pendingProps.children,a),s.child;case 12:return nn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,m=s.memoizedProps,j=h.value,dt(Sa,c._currentValue),c._currentValue=j,m!==null)if(Hn(m.value,j)){if(m.children===h.children&&!un.current){s=Sr(n,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var D=m.dependencies;if(D!==null){j=m.child;for(var B=D.firstContext;B!==null;){if(B.context===c){if(m.tag===1){B=kr(-1,a&-a),B.tag=2;var X=m.updateQueue;if(X!==null){X=X.shared;var de=X.pending;de===null?B.next=B:(B.next=de.next,de.next=B),X.pending=B}}m.lanes|=a,B=m.alternate,B!==null&&(B.lanes|=a),Pc(m.return,a,s),D.lanes|=a;break}B=B.next}}else if(m.tag===10)j=m.type===s.type?null:m.child;else if(m.tag===18){if(j=m.return,j===null)throw Error(o(341));j.lanes|=a,D=j.alternate,D!==null&&(D.lanes|=a),Pc(j,a,s),j=m.sibling}else j=m.child;if(j!==null)j.return=m;else for(j=m;j!==null;){if(j===s){j=null;break}if(m=j.sibling,m!==null){m.return=j.return,j=m;break}j=j.return}m=j}nn(n,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,so(s,a),h=Dn(h),c=c(h),s.flags|=1,nn(n,s,c,a),s.child;case 14:return c=s.type,h=Gn(c,s.pendingProps),h=Gn(c.type,h),Qf(n,s,c,h,a);case 15:return Kf(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Gn(c,h),Oa(n,s),s.tag=1,hn(c)?(n=!0,va(s)):n=!1,so(s,a),Wf(s,c,h),Yc(s,c,h,a),Jc(null,s,c,!0,n,a);case 19:return sm(n,s,a);case 22:return Zf(n,s,a)}throw Error(o(156,s.tag))};function Tm(n,s){return gr(n,s)}function a1(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(n,s,a,c){return new a1(n,s,a,c)}function vd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function l1(n){if(typeof n=="function")return vd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ue)return 11;if(n===Ne)return 14}return 2}function Jr(n,s){var a=n.alternate;return a===null?(a=Mn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Ga(n,s,a,c,h,m){var j=2;if(c=n,typeof n=="function")vd(n)&&(j=1);else if(typeof n=="string")j=5;else e:switch(n){case J:return As(a.children,h,m,s);case ee:j=8,h|=8;break;case ae:return n=Mn(12,a,s,h|2),n.elementType=ae,n.lanes=m,n;case te:return n=Mn(13,a,s,h),n.elementType=te,n.lanes=m,n;case xe:return n=Mn(19,a,s,h),n.elementType=xe,n.lanes=m,n;case Y:return Ya(a,h,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ye:j=10;break e;case H:j=9;break e;case ue:j=11;break e;case Ne:j=14;break e;case V:j=16,c=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return s=Mn(j,a,s,h),s.elementType=n,s.type=c,s.lanes=m,s}function As(n,s,a,c){return n=Mn(7,n,c,s),n.lanes=a,n}function Ya(n,s,a,c){return n=Mn(22,n,c,s),n.elementType=Y,n.lanes=a,n.stateNode={isHidden:!1},n}function xd(n,s,a){return n=Mn(6,n,null,s),n.lanes=a,n}function wd(n,s,a){return s=Mn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function c1(n,s,a,c,h){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function jd(n,s,a,c,h,m,j,D,B){return n=new c1(n,s,a,D,B),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Mn(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(m),n}function d1(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Em(n){if(!n)return zr;n=n._reactInternals;e:{if(Tn(n)!==n||n.tag!==1)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(o(171))}if(n.tag===1){var a=n.type;if(hn(a))return nf(n,a,s)}return s}function Lm(n,s,a,c,h,m,j,D,B){return n=jd(a,c,!0,n,h,m,j,D,B),n.context=Em(null),a=n.current,c=rn(),h=Kr(a),m=kr(c,h),m.callback=s??null,qr(a,m,h),n.current.lanes=h,_o(n,h,c),mn(n,c),n}function Qa(n,s,a,c){var h=s.current,m=rn(),j=Kr(h);return a=Em(a),s.context===null?s.context=a:s.pendingContext=a,s=kr(m,j),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=qr(h,s,j),n!==null&&(Kn(n,h,j,m),Na(n,h,j)),j}function Ka(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Dm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function bd(n,s){Dm(n,s),(n=n.alternate)&&Dm(n,s)}function u1(){return null}var Pm=typeof reportError=="function"?reportError:function(n){console.error(n)};function kd(n){this._internalRoot=n}Za.prototype.render=kd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));Qa(n,s,null,null)},Za.prototype.unmount=kd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ss(function(){Qa(null,n,null,null)}),s[vr]=null}};function Za(n){this._internalRoot=n}Za.prototype.unstable_scheduleHydration=function(n){if(n){var s=fp();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Vr.length&&s!==0&&s<Vr[a].priority;a++);Vr.splice(a,0,n),a===0&&yp(n)}};function Sd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ja(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function h1(n,s,a,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var X=Ka(j);m.call(X)}}var j=Lm(s,c,n,0,null,!1,!1,"",Rm);return n._reactRootContainer=j,n[vr]=j.current,Xo(n.nodeType===8?n.parentNode:n),Ss(),j}for(;h=n.lastChild;)n.removeChild(h);if(typeof c=="function"){var D=c;c=function(){var X=Ka(B);D.call(X)}}var B=jd(n,0,!1,null,null,!1,!1,"",Rm);return n._reactRootContainer=B,n[vr]=B.current,Xo(n.nodeType===8?n.parentNode:n),Ss(function(){Qa(s,B,a,c)}),B}function Xa(n,s,a,c,h){var m=a._reactRootContainer;if(m){var j=m;if(typeof h=="function"){var D=h;h=function(){var B=Ka(j);D.call(B)}}Qa(s,j,n,h)}else j=h1(a,s,n,h,c);return Ka(j)}hp=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=at(s.pendingLanes);a!==0&&(Yl(s,a|1),mn(s,vt()),(nt&6)===0&&(co=vt()+500,$r()))}break;case 13:Ss(function(){var c=br(n,1);if(c!==null){var h=rn();Kn(c,n,1,h)}}),bd(n,1)}},Ql=function(n){if(n.tag===13){var s=br(n,134217728);if(s!==null){var a=rn();Kn(s,n,134217728,a)}bd(n,134217728)}},pp=function(n){if(n.tag===13){var s=Kr(n),a=br(n,s);if(a!==null){var c=rn();Kn(a,n,s,c)}bd(n,s)}},fp=function(){return lt},mp=function(n,s){var a=lt;try{return lt=n,s()}finally{lt=a}},De=function(n,s,a){switch(s){case"input":if(Ve(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var h=ga(c);if(!h)throw Error(o(90));oe(c),Ve(c,h)}}}break;case"textarea":Xn(n,a);break;case"select":s=a.value,s!=null&&Ot(n,!!a.multiple,s,!1)}},qe=md,ut=Ss;var p1={usingClientEntryPoint:!1,Events:[ni,Ks,ga,ze,We,md]},gi={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f1={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Yt(n),n===null?null:n.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||u1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{I=el.inject(f1),W=el}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p1,gn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(s))throw Error(o(200));return d1(n,s,null,a)},gn.createRoot=function(n,s){if(!Sd(n))throw Error(o(299));var a=!1,c="",h=Pm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=jd(n,1,!1,null,null,a,!1,c,h),n[vr]=s.current,Xo(n.nodeType===8?n.parentNode:n),new kd(s)},gn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=Yt(s),n=n===null?null:n.stateNode,n},gn.flushSync=function(n){return Ss(n)},gn.hydrate=function(n,s,a){if(!Ja(s))throw Error(o(200));return Xa(null,n,s,!0,a)},gn.hydrateRoot=function(n,s,a){if(!Sd(n))throw Error(o(405));var c=a!=null&&a.hydratedSources||null,h=!1,m="",j=Pm;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(j=a.onRecoverableError)),s=Lm(s,null,n,1,a??null,h,!1,m,j),n[vr]=s.current,Xo(n),c)for(n=0;n<c.length;n++)a=c[n],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new Za(s)},gn.render=function(n,s,a){if(!Ja(s))throw Error(o(200));return Xa(null,n,s,!1,a)},gn.unmountComponentAtNode=function(n){if(!Ja(n))throw Error(o(40));return n._reactRootContainer?(Ss(function(){Xa(null,null,n,!1,function(){n._reactRootContainer=null,n[vr]=null})}),!0):!1},gn.unstable_batchedUpdates=md,gn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Ja(a))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return Xa(n,s,a,!1,c)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var zm;function lv(){if(zm)return Ad.exports;zm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Ad.exports=T1(),Ad.exports}var $m;function E1(){if($m)return tl;$m=1;var e=lv();return tl.createRoot=e.createRoot,tl.hydrateRoot=e.hydrateRoot,tl}var L1=E1();const D1=dh(L1);lv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},Pi.apply(this,arguments)}var ns;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ns||(ns={}));const Hm="popstate";function P1(e){e===void 0&&(e={});function r(i,l){let{pathname:d,search:u,hash:p}=i.location;return ju("",{pathname:d,search:u,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(i,l){return typeof l=="string"?l:vl(l)}return M1(r,o,null,e)}function At(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function cv(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function R1(){return Math.random().toString(36).substr(2,8)}function qm(e,r){return{usr:e.state,key:e.key,idx:r}}function ju(e,r,o,i){return o===void 0&&(o=null),Pi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Eo(r):r,{state:o,key:r&&r.key||i||R1()})}function vl(e){let{pathname:r="/",search:o="",hash:i=""}=e;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Eo(e){let r={};if(e){let o=e.indexOf("#");o>=0&&(r.hash=e.substr(o),e=e.substr(0,o));let i=e.indexOf("?");i>=0&&(r.search=e.substr(i),e=e.substr(0,i)),e&&(r.pathname=e)}return r}function M1(e,r,o,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,u=l.history,p=ns.Pop,f=null,y=g();y==null&&(y=0,u.replaceState(Pi({},u.state,{idx:y}),""));function g(){return(u.state||{idx:null}).idx}function v(){p=ns.Pop;let L=g(),P=L==null?null:L-y;y=L,f&&f({action:p,location:k.location,delta:P})}function w(L,P){p=ns.Push;let O=ju(k.location,L,P);y=g()+1;let N=qm(O,y),R=k.createHref(O);try{u.pushState(N,"",R)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(R)}d&&f&&f({action:p,location:k.location,delta:1})}function T(L,P){p=ns.Replace;let O=ju(k.location,L,P);y=g();let N=qm(O,y),R=k.createHref(O);u.replaceState(N,"",R),d&&f&&f({action:p,location:k.location,delta:0})}function A(L){let P=l.location.origin!=="null"?l.location.origin:l.location.href,O=typeof L=="string"?L:vl(L);return O=O.replace(/ $/,"%20"),At(P,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,P)}let k={get action(){return p},get location(){return e(l,u)},listen(L){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(Hm,v),f=L,()=>{l.removeEventListener(Hm,v),f=null}},createHref(L){return r(l,L)},createURL:A,encodeLocation(L){let P=A(L);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:T,go(L){return u.go(L)}};return k}var Gm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gm||(Gm={}));function I1(e,r,o){return o===void 0&&(o="/"),O1(e,r,o)}function O1(e,r,o,i){let l=typeof r=="string"?Eo(r):r,d=hh(l.pathname||"/",o);if(d==null)return null;let u=dv(e);F1(u);let p=null;for(let f=0;p==null&&f<u.length;++f){let y=Q1(d);p=q1(u[f],y)}return p}function dv(e,r,o,i){r===void 0&&(r=[]),o===void 0&&(o=[]),i===void 0&&(i="");let l=(d,u,p)=>{let f={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};f.relativePath.startsWith("/")&&(At(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let y=ss([i,f.relativePath]),g=o.concat(f);d.children&&d.children.length>0&&(At(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),dv(d.children,r,g,y)),!(d.path==null&&!d.index)&&r.push({path:y,score:$1(y,d.index),routesMeta:g})};return e.forEach((d,u)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))l(d,u);else for(let f of uv(d.path))l(d,u,f)}),r}function uv(e){let r=e.split("/");if(r.length===0)return[];let[o,...i]=r,l=o.endsWith("?"),d=o.replace(/\?$/,"");if(i.length===0)return l?[d,""]:[d];let u=uv(i.join("/")),p=[];return p.push(...u.map(f=>f===""?d:[d,f].join("/"))),l&&p.push(...u),p.map(f=>e.startsWith("/")&&f===""?"/":f)}function F1(e){e.sort((r,o)=>r.score!==o.score?o.score-r.score:H1(r.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}const V1=/^:[\w-]+$/,_1=3,B1=2,W1=1,U1=10,z1=-2,Ym=e=>e==="*";function $1(e,r){let o=e.split("/"),i=o.length;return o.some(Ym)&&(i+=z1),r&&(i+=B1),o.filter(l=>!Ym(l)).reduce((l,d)=>l+(V1.test(d)?_1:d===""?W1:U1),i)}function H1(e,r){return e.length===r.length&&e.slice(0,-1).every((i,l)=>i===r[l])?e[e.length-1]-r[r.length-1]:0}function q1(e,r,o){let{routesMeta:i}=e,l={},d="/",u=[];for(let p=0;p<i.length;++p){let f=i[p],y=p===i.length-1,g=d==="/"?r:r.slice(d.length)||"/",v=G1({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},g),w=f.route;if(!v)return null;Object.assign(l,v.params),u.push({params:l,pathname:ss([d,v.pathname]),pathnameBase:X1(ss([d,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(d=ss([d,v.pathnameBase]))}return u}function G1(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,i]=Y1(e.path,e.caseSensitive,e.end),l=r.match(o);if(!l)return null;let d=l[0],u=d.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((y,g,v)=>{let{paramName:w,isOptional:T}=g;if(w==="*"){let k=p[v]||"";u=d.slice(0,d.length-k.length).replace(/(.)\/+$/,"$1")}const A=p[v];return T&&!A?y[w]=void 0:y[w]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:u,pattern:e}}function Y1(e,r,o){r===void 0&&(r=!1),o===void 0&&(o=!0),cv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,f)=>(i.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),i]}function Q1(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return cv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function hh(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,i=e.charAt(o);return i&&i!=="/"?null:e.slice(o)||"/"}function K1(e,r){r===void 0&&(r="/");let{pathname:o,search:i="",hash:l=""}=typeof e=="string"?Eo(e):e;return{pathname:o?o.startsWith("/")?o:Z1(o,r):r,search:ej(i),hash:tj(l)}}function Z1(e,r){let o=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function Ld(e,r,o,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J1(e){return e.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function ph(e,r){let o=J1(e);return r?o.map((i,l)=>l===o.length-1?i.pathname:i.pathnameBase):o.map(i=>i.pathnameBase)}function fh(e,r,o,i){i===void 0&&(i=!1);let l;typeof e=="string"?l=Eo(e):(l=Pi({},e),At(!l.pathname||!l.pathname.includes("?"),Ld("?","pathname","search",l)),At(!l.pathname||!l.pathname.includes("#"),Ld("#","pathname","hash",l)),At(!l.search||!l.search.includes("#"),Ld("#","search","hash",l)));let d=e===""||l.pathname==="",u=d?"/":l.pathname,p;if(u==null)p=o;else{let v=r.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;l.pathname=w.join("/")}p=v>=0?r[v]:"/"}let f=K1(l,p),y=u&&u!=="/"&&u.endsWith("/"),g=(d||u===".")&&o.endsWith("/");return!f.pathname.endsWith("/")&&(y||g)&&(f.pathname+="/"),f}const ss=e=>e.join("/").replace(/\/\/+/g,"/"),X1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ej=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hv=["post","put","patch","delete"];new Set(hv);const rj=["get",...hv];new Set(rj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},Ri.apply(this,arguments)}const mh=x.createContext(null),sj=x.createContext(null),ls=x.createContext(null),El=x.createContext(null),Dr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),pv=x.createContext(null);function oj(e,r){let{relative:o}=r===void 0?{}:r;Lo()||At(!1);let{basename:i,navigator:l}=x.useContext(ls),{hash:d,pathname:u,search:p}=mv(e,{relative:o}),f=u;return i!=="/"&&(f=u==="/"?i:ss([i,u])),l.createHref({pathname:f,search:p,hash:d})}function Lo(){return x.useContext(El)!=null}function cs(){return Lo()||At(!1),x.useContext(El).location}function fv(e){x.useContext(ls).static||x.useLayoutEffect(e)}function hr(){let{isDataRoute:e}=x.useContext(Dr);return e?xj():ij()}function ij(){Lo()||At(!1);let e=x.useContext(mh),{basename:r,future:o,navigator:i}=x.useContext(ls),{matches:l}=x.useContext(Dr),{pathname:d}=cs(),u=JSON.stringify(ph(l,o.v7_relativeSplatPath)),p=x.useRef(!1);return fv(()=>{p.current=!0}),x.useCallback(function(y,g){if(g===void 0&&(g={}),!p.current)return;if(typeof y=="number"){i.go(y);return}let v=fh(y,JSON.parse(u),d,g.relative==="path");e==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:ss([r,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[r,i,u,d,e])}function aj(){let{matches:e}=x.useContext(Dr),r=e[e.length-1];return r?r.params:{}}function mv(e,r){let{relative:o}=r===void 0?{}:r,{future:i}=x.useContext(ls),{matches:l}=x.useContext(Dr),{pathname:d}=cs(),u=JSON.stringify(ph(l,i.v7_relativeSplatPath));return x.useMemo(()=>fh(e,JSON.parse(u),d,o==="path"),[e,u,d,o])}function lj(e,r){return cj(e,r)}function cj(e,r,o,i){Lo()||At(!1);let{navigator:l}=x.useContext(ls),{matches:d}=x.useContext(Dr),u=d[d.length-1],p=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let y=cs(),g;if(r){var v;let L=typeof r=="string"?Eo(r):r;f==="/"||(v=L.pathname)!=null&&v.startsWith(f)||At(!1),g=L}else g=y;let w=g.pathname||"/",T=w;if(f!=="/"){let L=f.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=I1(e,{pathname:T}),k=fj(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:ss([f,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:ss([f,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),d,o,i);return r&&k?x.createElement(El.Provider,{value:{location:Ri({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ns.Pop}},k):k}function dj(){let e=vj(),r=nj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},r),o?x.createElement("pre",{style:l},o):null,null)}const uj=x.createElement(dj,null);class hj extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?x.createElement(Dr.Provider,{value:this.props.routeContext},x.createElement(pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pj(e){let{routeContext:r,match:o,children:i}=e,l=x.useContext(mh);return l&&l.static&&l.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=o.route.id),x.createElement(Dr.Provider,{value:r},i)}function fj(e,r,o,i){var l;if(r===void 0&&(r=[]),o===void 0&&(o=null),i===void 0&&(i=null),e==null){var d;if(!o)return null;if(o.errors)e=o.matches;else if((d=i)!=null&&d.v7_partialHydration&&r.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let u=e,p=(l=o)==null?void 0:l.errors;if(p!=null){let g=u.findIndex(v=>v.route.id&&p?.[v.route.id]!==void 0);g>=0||At(!1),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,y=-1;if(o&&i&&i.v7_partialHydration)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=g),v.route.id){let{loaderData:w,errors:T}=o,A=v.route.loader&&w[v.route.id]===void 0&&(!T||T[v.route.id]===void 0);if(v.route.lazy||A){f=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((g,v,w)=>{let T,A=!1,k=null,L=null;o&&(T=p&&v.route.id?p[v.route.id]:void 0,k=v.route.errorElement||uj,f&&(y<0&&w===0?(wj("route-fallback"),A=!0,L=null):y===w&&(A=!0,L=v.route.hydrateFallbackElement||null)));let P=r.concat(u.slice(0,w+1)),O=()=>{let N;return T?N=k:A?N=L:v.route.Component?N=x.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=g,x.createElement(pj,{match:v,routeContext:{outlet:g,matches:P,isDataRoute:o!=null},children:N})};return o&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?x.createElement(hj,{location:o.location,revalidation:o.revalidation,component:k,error:T,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):O()},null)}var gv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gv||{}),yv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yv||{});function mj(e){let r=x.useContext(mh);return r||At(!1),r}function gj(e){let r=x.useContext(sj);return r||At(!1),r}function yj(e){let r=x.useContext(Dr);return r||At(!1),r}function vv(e){let r=yj(),o=r.matches[r.matches.length-1];return o.route.id||At(!1),o.route.id}function vj(){var e;let r=x.useContext(pv),o=gj(),i=vv();return r!==void 0?r:(e=o.errors)==null?void 0:e[i]}function xj(){let{router:e}=mj(gv.UseNavigateStable),r=vv(yv.UseNavigateStable),o=x.useRef(!1);return fv(()=>{o.current=!0}),x.useCallback(function(l,d){d===void 0&&(d={}),o.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Ri({fromRouteId:r},d)))},[e,r])}const Qm={};function wj(e,r,o){Qm[e]||(Qm[e]=!0)}function jj(e,r){e?.v7_startTransition,e?.v7_relativeSplatPath}function Km(e){let{to:r,replace:o,state:i,relative:l}=e;Lo()||At(!1);let{future:d,static:u}=x.useContext(ls),{matches:p}=x.useContext(Dr),{pathname:f}=cs(),y=hr(),g=fh(r,ph(p,d.v7_relativeSplatPath),f,l==="path"),v=JSON.stringify(g);return x.useEffect(()=>y(JSON.parse(v),{replace:o,state:i,relative:l}),[y,v,l,o,i]),null}function Wt(e){At(!1)}function bj(e){let{basename:r="/",children:o=null,location:i,navigationType:l=ns.Pop,navigator:d,static:u=!1,future:p}=e;Lo()&&At(!1);let f=r.replace(/^\/*/,"/"),y=x.useMemo(()=>({basename:f,navigator:d,static:u,future:Ri({v7_relativeSplatPath:!1},p)}),[f,p,d,u]);typeof i=="string"&&(i=Eo(i));let{pathname:g="/",search:v="",hash:w="",state:T=null,key:A="default"}=i,k=x.useMemo(()=>{let L=hh(g,f);return L==null?null:{location:{pathname:L,search:v,hash:w,state:T,key:A},navigationType:l}},[f,g,v,w,T,A,l]);return k==null?null:x.createElement(ls.Provider,{value:y},x.createElement(El.Provider,{children:o,value:k}))}function kj(e){let{children:r,location:o}=e;return lj(bu(r),o)}new Promise(()=>{});function bu(e,r){r===void 0&&(r=[]);let o=[];return x.Children.forEach(e,(i,l)=>{if(!x.isValidElement(i))return;let d=[...r,l];if(i.type===x.Fragment){o.push.apply(o,bu(i.props.children,d));return}i.type!==Wt&&At(!1),!i.props.index||!i.props.children||At(!1);let u={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=bu(i.props.children,d)),o.push(u)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},ku.apply(this,arguments)}function Sj(e,r){if(e==null)return{};var o={},i=Object.keys(e),l,d;for(d=0;d<i.length;d++)l=i[d],!(r.indexOf(l)>=0)&&(o[l]=e[l]);return o}function Cj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nj(e,r){return e.button===0&&(!r||r==="_self")&&!Cj(e)}const Aj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tj="6";try{window.__reactRouterVersion=Tj}catch{}const Ej="startTransition",Zm=C1[Ej];function Lj(e){let{basename:r,children:o,future:i,window:l}=e,d=x.useRef();d.current==null&&(d.current=P1({window:l,v5Compat:!0}));let u=d.current,[p,f]=x.useState({action:u.action,location:u.location}),{v7_startTransition:y}=i||{},g=x.useCallback(v=>{y&&Zm?Zm(()=>f(v)):f(v)},[f,y]);return x.useLayoutEffect(()=>u.listen(g),[u,g]),x.useEffect(()=>jj(i),[i]),x.createElement(bj,{basename:r,children:o,location:p.location,navigationType:p.action,navigator:u,future:i})}const Dj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nl=x.forwardRef(function(r,o){let{onClick:i,relative:l,reloadDocument:d,replace:u,state:p,target:f,to:y,preventScrollReset:g,viewTransition:v}=r,w=Sj(r,Aj),{basename:T}=x.useContext(ls),A,k=!1;if(typeof y=="string"&&Pj.test(y)&&(A=y,Dj))try{let N=new URL(window.location.href),R=y.startsWith("//")?new URL(N.protocol+y):new URL(y),$=hh(R.pathname,T);R.origin===N.origin&&$!=null?y=$+R.search+R.hash:k=!0}catch{}let L=oj(y,{relative:l}),P=Rj(y,{replace:u,state:p,target:f,preventScrollReset:g,relative:l,viewTransition:v});function O(N){i&&i(N),N.defaultPrevented||P(N)}return x.createElement("a",ku({},w,{href:A||L,onClick:k||d?i:O,ref:o,target:f}))});var Jm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jm||(Jm={}));var Xm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xm||(Xm={}));function Rj(e,r){let{target:o,replace:i,state:l,preventScrollReset:d,relative:u,viewTransition:p}=r===void 0?{}:r,f=hr(),y=cs(),g=mv(e,{relative:u});return x.useCallback(v=>{if(Nj(v,o)){v.preventDefault();let w=i!==void 0?i:vl(y)===vl(g);f(e,{replace:w,state:l,preventScrollReset:d,relative:u,viewTransition:p})}},[y,f,g,i,l,o,e,d,u,p])}const Mj=()=>{const e=cs();x.useEffect(()=>{setTimeout(Mi,0),setTimeout(Mi,200)},[e.pathname])},Mi=()=>{window.scrollTo(0,0),document.documentElement&&(document.documentElement.scrollTop=0),document.body&&(document.body.scrollTop=0);const e=document.querySelector(".main-content");e&&(e.scrollTop=0),document.querySelectorAll('[data-scrollable], [style*="overflow"]').forEach(r=>{r.scrollTop!==void 0&&(r.scrollTop=0)})},Ij=async()=>{if("serviceWorker"in navigator)try{console.log("Registering service worker...");const e=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1";console.log("Environment:",e?"Production":"Development"),console.log("Current URL:",window.location.href),e||console.log("Development mode detected - service worker registration may be limited");const r=await navigator.serviceWorker.getRegistration();if(r)return console.log("Service worker already registered:",r),r;try{const i=await fetch("/sw.js",{method:"HEAD"});if(!i.ok)throw new Error(`Service worker file not found: ${i.status} ${i.statusText}`)}catch(i){console.warn("Could not check service worker file:",i.message)}const o=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});return console.log("SW registered successfully:",o),o.addEventListener("updatefound",()=>{console.log("Service worker update found");const i=o.installing;i.addEventListener("statechange",()=>{console.log("Service worker state changed:",i.state),i.state==="installed"&&navigator.serviceWorker.controller&&(console.log("New service worker installed, showing update notification"),Oj(o))})}),o.addEventListener("error",i=>{console.error("Service worker registration error:",i)}),o}catch(e){throw console.error("SW registration failed:",e),e.name==="SecurityError"?console.error("Security error - service worker must be served over HTTPS in production"):e.name==="NetworkError"?console.error("Network error - service worker file not found"):e.name==="TypeError"?(console.error("Type error - service worker script has syntax errors"),console.error("Error details:",e.message)):e.name==="InvalidStateError"&&console.error("Invalid state error - service worker already registered"),e.message&&console.error("Error message:",e.message),e.stack&&console.error("Error stack:",e.stack),e}else console.log("Service Worker not supported in this browser or not in production")},Oj=e=>{confirm("New version available! Reload to update?")?(console.log("User accepted update, skipping waiting and reloading"),e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()):console.log("User dismissed update notification")},Fj=()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("New service worker activated")}),navigator.serviceWorker.addEventListener("message",e=>{console.log("Message from service worker:",e.data),e.data&&e.data.type==="SKIP_WAITING"&&(console.log("Skipping waiting and reloading"),window.location.reload())}),navigator.serviceWorker.addEventListener("error",e=>{console.error("Service worker error:",e)}))},eg=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.getRegistration();return e?(console.log("Service worker registration found:",e),console.log("Service worker state:",e.active?"active":"inactive"),{registered:!0,active:!!e.active,waiting:!!e.waiting,installing:!!e.installing}):(console.log("No service worker registration found"),{registered:!1})}catch(e){return console.error("Error checking service worker status:",e),{registered:!1,error:e.message}}return{registered:!1,supported:!1}},Vj="categories",_j="rebuttals",Bj="archived_rebuttals",Wj=[{name:"Not Interested",icon:"❌",color:"#FF6B6B"},{name:"Spouse Consultation",icon:"💑",color:"#4ECDC4"},{name:"One Legger",icon:"👤",color:"#45B7D1"},{name:"Not Ready",icon:"⏳",color:"#96CEB4"},{name:"Curious",icon:"🤔",color:"#FFEEAD"},{name:"Time Concern",icon:"⏰",color:"#D4A5A5"},{name:"Can't Afford",icon:"💰",color:"#9B59B6"},{name:"Spouse",icon:"👫",color:"#3498DB"},{name:"Price Phone",icon:"📞",color:"#E67E22"},{name:"Repair",icon:"🔧",color:"#2ECC71"},{name:"Government Grants",icon:"🏛️",color:"#34495E"},{name:"Reset Appointment",icon:"🔄",color:"#F1C40F"},{name:"No Request",icon:"🚫",color:"#E74C3C"},{name:"Bad Reviews",icon:"⭐",color:"#F39C12"}],Uj=[{title:"Can't Afford",category:"Can't Afford",objection:"I can't afford this right now",response:{pt1:"I completely understand your concern about the cost. Many of our customers felt the same way initially, but they found that our solution actually saves them money in the long run. Let me explain how...",pt2:"If cost is still a concern, we have several flexible payment options and financing solutions that might work better for your budget. Would you like to hear about those?"},icon:"💰",color:"#9B59B6",tags:["cost","budget","payment"]},{title:"Reset Appointment",category:"Reset Appointment",objection:"I need to reschedule my appointment",response:{pt1:"I understand that things come up and schedules need to change. I'd be happy to help you find a new time that works better for you.",pt2:"What days and times would work better for your schedule? I'll make sure to find a slot that's convenient for you."},icon:"🔄",color:"#F1C40F",tags:["schedule","reschedule","appointment"]}];class zj{constructor(){this.categoriesCollection=Me(je(),Vj),this.rebuttalsCollection=Me(je(),_j),this.archivedRebuttalsCollection=Me(je(),Bj)}async initializeDefaultCategories(){try{const r=Ze(this.categoriesCollection);if(!(await Oe(r)).empty){console.log("Categories already exist, skipping initialization");return}console.log("Creating default categories...");for(const i of Wj)await this.addCategory(i);console.log("Default categories created successfully")}catch(r){throw console.error("Error initializing default categories:",r),r}}async getAllCategories(){try{await this.initializeDefaultCategories();const r=Ze(this.categoriesCollection,It("name","asc"));return(await Oe(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(r){throw console.error("Error fetching categories:",r),r}}async addCategory(r){try{return(await yn(this.categoriesCollection,{name:r.name,icon:r.icon||"📋",color:r.color||"#808080",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id}catch(o){throw console.error("Error adding category:",o),o}}async updateCategory(r,o){try{const i=Fe(this.categoriesCollection,r);return await sn(i,{...o,updatedAt:new Date().toISOString()}),r}catch(i){throw console.error("Error updating category:",i),i}}async deleteCategory(r){try{const o=Vn(je()),i=Fe(this.categoriesCollection,r),l=await Jn(i);if(!l.exists())throw new Error("Category not found");const d=l.data(),u=Ze(this.rebuttalsCollection,Fn("category","==",d.name)),p=await Oe(u);return p.forEach(f=>{const y=f.data(),g=Fe(this.archivedRebuttalsCollection);o.set(g,{...y,originalCategory:d.name,archivedAt:new Date().toISOString(),archivedReason:"Category deleted",originalId:f.id}),o.delete(Fe(this.rebuttalsCollection,f.id))}),o.delete(i),await o.commit(),{categoryId:r,archivedRebuttalsCount:p.size}}catch(o){throw console.error("Error deleting category:",o),o}}async restoreArchivedRebuttals(r){try{const o=Vn(je()),i=Ze(this.archivedRebuttalsCollection,Fn("archivedReason","==","Category deleted")),l=await Oe(i);return l.forEach(d=>{const u=d.data(),p=Fe(this.rebuttalsCollection);o.set(p,{...u,category:r,archivedAt:null,archivedReason:null,originalCategory:null,updatedAt:new Date().toISOString()}),o.delete(Fe(this.archivedRebuttalsCollection,d.id))}),await o.commit(),{restoredCount:l.size}}catch(o){throw console.error("Error restoring archived rebuttals:",o),o}}async getArchivedRebuttals(){try{return(await Oe(this.archivedRebuttalsCollection)).docs.map(o=>({id:o.id,...o.data()}))}catch(r){throw console.error("Error fetching archived rebuttals:",r),r}}async updateRebuttalCategory(r,o){try{const i=Fe(this.rebuttalsCollection,r);return await sn(i,{category:o,updatedAt:new Date().toISOString()}),r}catch(i){throw console.error("Error updating rebuttal category:",i),i}}async resetAllRebuttals(){try{const r=Ze(this.rebuttalsCollection),o=await Oe(r),i=Vn(je());o.docs.forEach(l=>{i.delete(l.ref)}),await i.commit(),console.log("Creating default rebuttals...");for(const l of Uj)await yn(this.rebuttalsCollection,{...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0});console.log("Default rebuttals created successfully")}catch(r){throw console.error("Error resetting rebuttals:",r),r}}}const rs=new zj,$j="rebuttals",rl=()=>{if(!je())throw new Error("Firebase is not properly initialized. Please check your Firebase configuration.")};class Hj{constructor(){this.db=je()||Tl(),this.rebuttalsCollection=Me(this.db,$j),this.archivedCollection=Me(this.db,"archived_rebuttals"),this.categoriesCollection=Me(this.db,"categories"),this.isOnline=navigator.onLine,this.pendingOperations=[],this.setupConnectionListeners()}setupConnectionListeners(){window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),g1(this.db,()=>{this.processPendingOperations()})}handleOnline(){this.isOnline=!0,this.processPendingOperations()}handleOffline(){this.isOnline=!1}async processPendingOperations(){if(!this.isOnline)return;const r=[...this.pendingOperations];this.pendingOperations=[];for(const o of r)try{switch(o.type){case"add":await this.addRebuttal(o.data);break;case"update":await this.updateRebuttal(o.id,o.data);break;case"delete":await this.deleteRebuttal(o.id);break;case"archive":await this.archiveRebuttal(o.id);break;case"unarchive":await this.unarchiveRebuttal(o.id,o.category);break;case"addCategory":await this.addCategory(o.data);break;case"updateCategory":await this.updateCategory(o.id,o.data);break;case"deleteCategory":await this.deleteCategory(o.id);break}}catch(i){console.error("Error processing pending operation:",i),this.pendingOperations.push(o)}}async checkAndFixDocumentMismatches(){try{console.log("Checking for document ID mismatches...");const r=Ze(this.rebuttalsCollection,It("createdAt","desc")),i=(await Oe(r)).docs.map(d=>({id:d.id,...d.data()}));console.log(`Found ${i.length} rebuttals in Firestore`);const l=i.map(d=>d.id);return console.log("Available document IDs:",l),{totalRebuttals:i.length,documentIds:l,rebuttals:i}}catch(r){throw console.error("Error checking document mismatches:",r),r}}async getAllRebuttals(){try{rl(),console.log("Fetching all rebuttals...");const r=Ze(this.rebuttalsCollection,It("createdAt","desc")),i=(await Oe(r)).docs.map(d=>({id:d.id,...d.data()})),l=i.reduce((d,u)=>{const p=u.category||"uncategorized";return d[p]=(d[p]||0)+1,d},{});return console.log("Rebuttals by category:",l),console.log(`Successfully fetched ${i.length} rebuttals`),i}catch(r){throw console.error("Error fetching rebuttals:",r),r.code&&console.error("Firebase error code:",r.code),new Error(`Failed to fetch rebuttals: ${r.message}`)}}async getActiveRebuttals(){try{rl(),console.log("Fetching active rebuttals...");const r=Ze(this.rebuttalsCollection,Fn("archived","==",!1),It("createdAt","desc")),i=(await Oe(r)).docs.map(l=>({id:l.id,...l.data()}));return console.log(`Successfully fetched ${i.length} active rebuttals`),i}catch(r){throw console.error("Error fetching active rebuttals:",r),r.code&&console.error("Firebase error code:",r.code),new Error(`Failed to fetch active rebuttals: ${r.message}`)}}async getArchivedRebuttals(){try{rl(),console.log("Fetching archived rebuttals...");const r=Ze(this.archivedCollection,It("archivedAt","desc")),i=(await Oe(r)).docs.map(l=>({id:l.id,...l.data()}));return console.log(`Successfully fetched ${i.length} archived rebuttals`),i}catch(r){throw console.error("Error fetching archived rebuttals:",r),r.code&&console.error("Firebase error code:",r.code),new Error(`Failed to fetch archived rebuttals: ${r.message}`)}}async getRebuttalsByCategory(r){try{const o=Ze(this.rebuttalsCollection,Fn("category","==",r),Fn("archived","==",!1),It("createdAt","desc"));return(await Oe(o)).docs.map(l=>({id:l.id,...l.data()}))}catch(o){throw console.error("Error fetching rebuttals by category:",o),o}}async searchRebuttals(r){try{const o=Ze(this.rebuttalsCollection,Fn("archived","==",!1),It("createdAt","desc"));return(await Oe(o)).docs.map(d=>({id:d.id,...d.data()})).filter(d=>{const u=r.toLowerCase();return d.title?.toLowerCase().includes(u)||d.objection?.toLowerCase().includes(u)||d.response?.toLowerCase().includes(u)||d.tags?.some(p=>p.toLowerCase().includes(u))})}catch(o){throw console.error("Error searching rebuttals:",o),o}}async getCategories(){try{rl(),console.log("Fetching categories...");const r=Ze(this.categoriesCollection,It("name","asc")),i=(await Oe(r)).docs.map(g=>({id:g.id,name:g.data().name,icon:g.data().icon||"📋",slug:g.data().name.toLowerCase().replace(/\s+/g,"-")})),l=Ze(this.rebuttalsCollection),d=await Oe(l),u=i.reduce((g,v)=>(g[v.slug]=v.id,g),{}),p=i.reduce((g,v)=>(g[v.id]=v.name,g),{}),f=i.reduce((g,v)=>(g[v.id]={rebuttalCount:0,lastUpdated:null,tags:new Set,rebuttals:[]},g),{});d.docs.forEach(g=>{const v=g.data();let w=v.category;if(w&&!w.match(/^[a-zA-Z0-9_-]{20}$/)&&(w=u[w.toLowerCase().replace(/\s+/g,"-")]),w&&f[w]&&(f[w].rebuttalCount++,f[w].rebuttals.push({id:g.id,title:v.title}),v.tags&&Array.isArray(v.tags)&&v.tags.forEach(T=>f[w].tags.add(T)),v.updatedAt)){const T=new Date(v.updatedAt);(!f[w].lastUpdated||T>new Date(f[w].lastUpdated))&&(f[w].lastUpdated=v.updatedAt)}});const y=i.map(g=>({...g,rebuttalCount:f[g.id].rebuttalCount,lastUpdated:f[g.id].lastUpdated,tags:Array.from(f[g.id].tags),rebuttals:f[g.id].rebuttals}));return console.log("Categories with stats:",{categories:y.map(g=>({id:g.id,name:g.name,rebuttalCount:g.rebuttalCount,rebuttals:g.rebuttals.map(v=>v.title)}))}),y}catch(r){throw console.error("Error fetching categories:",r),r.code&&console.error("Firebase error code:",r.code),new Error(`Failed to fetch categories: ${r.message}`)}}async addRebuttal(r){try{const o=tt.currentUser;if(!o)throw new Error("User must be authenticated to add rebuttals");const i=Fe(je(),"admins",o.uid);if(!(await Jn(i)).exists())throw new Error("Only admins can add rebuttals");if(!this.isOnline)return this.pendingOperations.push({type:"add",data:r}),"pending";const d=Ze(this.categoriesCollection),p=(await Oe(d)).docs.map(g=>({id:g.id,name:g.data().name,slug:g.data().name.toLowerCase().replace(/\s+/g,"-")})),f=p.reduce((g,v)=>(g[v.slug]=v.id,g),{});if(r.category){let g=r.category;if(!g.match(/^[a-zA-Z0-9_-]{20}$/)&&(g=f[g.toLowerCase().replace(/\s+/g,"-")],!g))throw new Error(`Category ${r.category} does not exist`);if(!p.some(w=>w.id===g))throw new Error(`Category ID ${g} does not exist`);r.category=g}if(!r.title||!r.category)throw new Error("Title and category are required fields");return(await yn(this.rebuttalsCollection,{...r,archived:!1,createdBy:o.uid,createdAt:serverTimestamp(),updatedAt:serverTimestamp()})).id}catch(o){throw console.error("Error adding rebuttal:",o),o.code==="permission-denied"?new Error("You do not have permission to add rebuttals. Please make sure you are logged in as an admin."):o}}async updateRebuttal(r,o){try{if(!this.isOnline)return this.pendingOperations.push({type:"update",id:r,data:o}),"pending";const i=Fe(this.rebuttalsCollection,r);if(!(await Jn(i)).exists()){const d=Fe(this.archivedCollection,r);throw(await Jn(d)).exists()?new Error(`Rebuttal with ID ${r} has been archived and cannot be updated. Please unarchive it first.`):new Error(`Rebuttal with ID ${r} does not exist. It may have been deleted or the ID is incorrect.`)}if(o.category){const d=Fe(this.categoriesCollection,o.category);if(!(await Jn(d)).exists())throw new Error(`Category ${o.category} does not exist`)}return await sn(i,{...o,updatedAt:new Date().toISOString()}),r}catch(i){throw console.error("Error updating rebuttal:",i),i}}async archiveRebuttal(r){try{if(!this.isOnline)return this.pendingOperations.push({type:"archive",id:r}),"pending";const o=Fe(this.rebuttalsCollection,r),i=await Oe(Ze(this.rebuttalsCollection,Fn("__name__","==",r)));if(!i.empty){const l=i.docs[0].data();await yn(this.archivedCollection,{...l,archivedAt:new Date().toISOString()}),await vn(o)}return r}catch(o){throw console.error("Error archiving rebuttal:",o),o}}async unarchiveRebuttal(r,o){try{const i=tt.currentUser;if(!i)throw new Error("User must be authenticated to unarchive rebuttals");const l=Fe(je(),"admins",i.uid);if(!(await Jn(l)).exists())throw new Error("Only admins can unarchive rebuttals");if(!this.isOnline)return this.pendingOperations.push({type:"unarchive",id:r,category:o}),"pending";const u=Fe(this.archivedCollection,r),p=await Jn(u);if(!p.exists())throw new Error("Archived rebuttal not found");const f=p.data(),{archivedAt:y,archivedReason:g,originalCategory:v,...w}=f,T=await yn(this.rebuttalsCollection,{...w,category:o||w.category,updatedAt:serverTimestamp(),createdAt:serverTimestamp()});return await vn(u),T.id}catch(i){throw console.error("Error unarchiving rebuttal:",i),i}}async deleteRebuttal(r){try{if(!this.isOnline)return this.pendingOperations.push({type:"delete",id:r}),"pending";const o=Fe(this.rebuttalsCollection,r);return await vn(o),r}catch(o){throw console.error("Error deleting rebuttal:",o),o}}async retryConnection(){try{return await y1(this.db),!0}catch(r){return console.error("Error retrying connection:",r),!1}}cleanup(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline)}async addCategory(r){try{return this.isOnline?{id:(await yn(this.categoriesCollection,{...r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...r}:(this.pendingOperations.push({type:"addCategory",data:r}),"pending")}catch(o){throw console.error("Error adding category:",o),o}}async updateCategory(r,o){try{if(!this.isOnline)return this.pendingOperations.push({type:"updateCategory",id:r,data:o}),"pending";const i=Fe(this.categoriesCollection,r);return await sn(i,{...o,updatedAt:new Date().toISOString()}),{id:r,...o}}catch(i){throw console.error("Error updating category:",i),i}}async deleteCategory(r){try{if(!this.isOnline)return this.pendingOperations.push({type:"deleteCategory",id:r}),"pending";const o=Ze(this.rebuttalsCollection,Fn("category","==",r));if(!(await Oe(o)).empty)throw new Error("Cannot delete category that is in use by rebuttals");const l=Fe(this.categoriesCollection,r);return await vn(l),r}catch(o){throw console.error("Error deleting category:",o),o}}async resetAllRebuttals(){try{console.log("Starting to reset all rebuttals...");const r=[{name:"Can't Afford",icon:"💰",slug:"cant-afford"},{name:"Reset Appointment",icon:"🔄",slug:"reset-appt"},{name:"Not Interested",icon:"❌",slug:"not-interested"},{name:"Spouse Consultation",icon:"💑",slug:"spouse-consultation"},{name:"One Decision Maker",icon:"👤",slug:"one-legger"},{name:"Not Ready",icon:"⏳",slug:"not-ready"},{name:"Just Curious",icon:"🤔",slug:"curious"},{name:"Time Concern",icon:"⏰",slug:"time-concern"},{name:"Spouse Issues",icon:"👫",slug:"spouse"},{name:"Price Over Phone",icon:"📞",slug:"price-phone"},{name:"Repair Only",icon:"🔧",slug:"repair"},{name:"Government Grants",icon:"🏛️",slug:"government-grants"},{name:"No Request",icon:"🚫",slug:"no-request"},{name:"Bad Reviews",icon:"⭐",slug:"bad-reviews"}],o=Ze(this.categoriesCollection),l=(await Oe(o)).docs.map(g=>({id:g.id,...g.data()})),d=l.reduce((g,v)=>{const w=v.slug||v.name.toLowerCase().replace(/\s+/g,"-");return g[w]=v.id,g},{}),u=Vn(this.db);for(const g of r)if(!l.find(w=>w.slug===g.slug||w.name.toLowerCase()===g.name.toLowerCase())){const w=Fe(Me(this.db,"categories"));u.set(w,{...g,createdAt:serverTimestamp(),updatedAt:serverTimestamp()}),d[g.slug]=w.id}await u.commit(),console.log("Categories updated successfully");const p=await this.getAllRebuttals();console.log(`Found ${p.length} existing rebuttals to delete`);const f=Vn(this.db);p.forEach(g=>{const v=Fe(this.db,"rebuttals",g.id);f.delete(v)});for(const g of qj){const v=d[g.category];if(!v){console.warn(`Category ${g.category} not found in mapping, skipping rebuttal`);continue}const w=Fe(Me(this.db,"rebuttals"));f.set(w,{...g,category:v,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),archived:!1})}await f.commit(),console.log("Successfully reset all rebuttals");const y=await this.getAllRebuttals();return console.log(`Verified ${y.length} rebuttals after reset`),!0}catch(r){throw console.error("Error resetting rebuttals:",r),r}}}const xl=new Hj,qj=[{title:"Can't Afford Right Now",category:"cant-afford",objection:"I can't afford this right now",response:{pt1:"I understand that cost is an important consideration. We actually have a special 12-month promotion that makes this more affordable than you might think. Would you like to hear about our current offer?",pt2:"Our current promotion includes flexible payment options and no obligation. Would you be available for a quick consultation to discuss how we can make this work for your budget?"},icon:"💰",color:"#9B59B6",tags:["price","budget","payment","affordability"],steps:["Acknowledge concern","Present value","Mention promotion","Ask for availability"],tips:["Focus on value","Emphasize flexibility","Highlight current promotion"]},{title:"Need to Reset Appointment",category:"reset-appt",objection:"I need to reschedule my appointment",response:{pt1:"I understand that schedules can change. I'd be happy to help you find a new time that works better for you. What's a good time for you?",pt2:"We have several convenient time slots available. Would you prefer morning, afternoon, or evening? I can help you find the perfect time."},icon:"🔄",color:"#F1C40F",tags:["schedule","reschedule","appointment","timing"],steps:["Acknowledge request","Offer assistance","Suggest alternatives","Confirm new time"],tips:["Be flexible","Offer multiple options","Confirm availability"]},{title:"Not Interested",category:"not-interested",objection:"I'm not interested",response:{pt1:"I understand. Before you go, I'd like to share a quick overview of what makes our service unique. Many of our customers were initially hesitant but found great value in our approach.",pt2:"Would you be open to hearing about our current promotion? It's a limited-time offer that many of our customers have found compelling."},icon:"❌",color:"#FF6B6B",tags:["disinterest","value","promotion","benefits"],steps:["Acknowledge position","Present value","Mention promotion","Ask for consideration"],tips:["Stay positive","Focus on benefits","Respect decision"]},{title:"Need to Consult Spouse",category:"spouse-consultation",objection:"I need to talk to my spouse first",response:{pt1:"That's completely understandable. Making decisions together is important. Would it be helpful if I provided some information you could share with your spouse?",pt2:"I can also schedule a time when you're both available to discuss this together. What would work better for you?"},icon:"💑",color:"#4ECDC4",tags:["spouse","decision","consultation","family"],steps:["Acknowledge concern","Offer information","Suggest joint meeting","Find convenient time"],tips:["Be supportive","Provide materials","Offer flexibility"]},{title:"One Decision Maker",category:"one-legger",objection:"I'm the only one making this decision",response:{pt1:"I understand you're the decision maker. That actually makes this process more straightforward. Would you like to hear about our current promotion?",pt2:"Since you're making the decision, I can focus on addressing your specific needs and concerns. What aspects are most important to you?"},icon:"👤",color:"#45B7D1",tags:["decision","authority","promotion","needs"],steps:["Acknowledge authority","Present value","Focus on needs","Ask for input"],tips:["Respect authority","Be direct","Focus on benefits"]},{title:"Not Ready to Start",category:"not-ready",objection:"I'm not ready to start yet",response:{pt1:"I understand you want to take your time with this decision. That's completely reasonable. Would you like to learn more about our current promotion?",pt2:"Our promotion is time-sensitive, but I can help you understand what's involved so you can make an informed decision when you're ready."},icon:"⏳",color:"#96CEB4",tags:["timing","decision","promotion","information"],steps:["Acknowledge position","Present value","Mention timing","Offer information"],tips:["Be patient","Provide information","Respect timeline"]},{title:"Just Curious",category:"curious",objection:"I was just curious",response:{pt1:"That's great! Curiosity often leads to great opportunities. Would you like to learn more about what makes our service unique?",pt2:"Many of our best customers started out just like you - curious about what we offer. I'd be happy to share more details about our current promotion."},icon:"🤔",color:"#FFEEAD",tags:["interest","information","promotion","opportunity"],steps:["Acknowledge interest","Present value","Share information","Suggest next steps"],tips:["Be informative","Highlight benefits","Create interest"]},{title:"Time Concern",category:"time-concern",objection:"I don't have time for this",response:{pt1:"I understand time is valuable. Our process is actually quite efficient, and I can give you a quick overview of what's involved.",pt2:"Would you be open to a brief 15-minute consultation? I can help you understand if this is worth your time."},icon:"⏰",color:"#D4A5A5",tags:["time","efficiency","consultation","value"],steps:["Acknowledge concern","Present efficiency","Offer quick overview","Suggest brief meeting"],tips:["Be concise","Respect time","Focus on value"]},{title:"Spouse Issues",category:"spouse",objection:"My spouse won't agree to this",response:{pt1:"I understand that getting your spouse's agreement is important. Would it help if I provided some information you could share with them?",pt2:"Many couples find our approach appealing because of its flexibility and benefits. I can explain how it might work for your specific situation."},icon:"👫",color:"#3498DB",tags:["spouse","agreement","information","benefits"],steps:["Acknowledge concern","Offer information","Present benefits","Suggest discussion"],tips:["Be supportive","Provide materials","Focus on benefits"]},{title:"Price Over Phone",category:"price-phone",objection:"I need the price over the phone",response:{pt1:"I understand you want to know the price. To provide you with the most accurate quote, I need to understand your specific needs.",pt2:"Would you be open to a quick 15-minute consultation? This will help me give you the most accurate price for your situation."},icon:"📞",color:"#E67E22",tags:["price","quote","consultation","needs"],steps:["Acknowledge request","Explain process","Offer consultation","Emphasize accuracy"],tips:["Be transparent","Focus on value","Request consultation"]},{title:"Repair Only",category:"repair",objection:"I only need repairs",response:{pt1:"I understand you're focused on repairs. We actually offer comprehensive solutions that can prevent future issues and save you money in the long run.",pt2:"Would you like to hear about how our approach can address both your immediate repair needs and prevent future problems?"},icon:"🔧",color:"#2ECC71",tags:["repair","prevention","savings","solution"],steps:["Acknowledge need","Present value","Explain benefits","Offer information"],tips:["Focus on prevention","Highlight savings","Present value"]},{title:"Government Grants",category:"government-grants",objection:"I'm waiting for government grants",response:{pt1:"I understand you're interested in government grants. We can help you understand what's available and how our service can complement any grants you receive.",pt2:"Would you like to learn more about how our current promotion can work alongside government assistance programs?"},icon:"🏛️",color:"#34495E",tags:["grants","government","assistance","promotion"],steps:["Acknowledge interest","Present options","Explain benefits","Offer information"],tips:["Be informative","Focus on compatibility","Highlight benefits"]},{title:"No Request",category:"no-request",objection:"I didn't request this information",response:{pt1:"I apologize if this contact was unexpected. I'm reaching out because we have a special promotion that might interest you.",pt2:"Would you like to hear about our current offer? If not, I'll be happy to remove you from our contact list."},icon:"🚫",color:"#E74C3C",tags:["unexpected","promotion","respect","choice"],steps:["Apologize","Present value","Offer choice","Respect decision"],tips:["Be respectful","Offer value","Provide choice"]},{title:"Bad Reviews",category:"bad-reviews",objection:"I've heard bad reviews about your service",response:{pt1:"I appreciate you sharing that concern. We take feedback seriously and have made significant improvements based on customer input.",pt2:"Would you be open to hearing about our current standards and how we've addressed past concerns? Many of our recent customers have been very satisfied."},icon:"⭐",color:"#1ABC9C",tags:["reviews","improvement","satisfaction","standards"],steps:["Acknowledge concern","Present improvements","Share recent feedback","Offer information"],tips:["Be honest","Focus on improvements","Share success stories"]},{title:"Competitor Comparison",category:"not-interested",objection:"I'm going with a competitor",response:{pt1:"I understand you're considering other options. Before you make your final decision, I'd like to share what makes our service unique and how we might better meet your needs.",pt2:"Would you be open to a quick comparison of our services? I can highlight the key differences that might make us a better choice for you."},icon:"🔄",color:"#FF6B6B",tags:["competition","comparison","value","benefits"],steps:["Acknowledge choice","Present value","Offer comparison","Highlight differences"],tips:["Stay professional","Focus on strengths","Respect competition"]},{title:"Bad Experience",category:"bad-reviews",objection:"I had a bad experience before",response:{pt1:"I'm sorry to hear about your previous experience. We've made significant improvements to our service based on customer feedback.",pt2:"Would you be open to hearing about how we've addressed those issues? Many customers who had concerns in the past have been pleasantly surprised by our current service."},icon:"⭐",color:"#1ABC9C",tags:["experience","improvement","service","feedback"],steps:["Acknowledge experience","Present improvements","Share success stories","Offer information"],tips:["Be empathetic","Focus on improvements","Share positive outcomes"]},{title:"Price Negotiation",category:"cant-afford",objection:"Can you lower the price?",response:{pt1:"I understand you're looking for the best value. While our prices are set to reflect the quality of our service, we do have a current promotion that offers significant savings.",pt2:"Would you like to hear about our current offer? It includes additional benefits that make it an even better value."},icon:"💰",color:"#9B59B6",tags:["price","negotiation","value","promotion"],steps:["Acknowledge request","Present value","Mention promotion","Highlight benefits"],tips:["Stay firm on value","Focus on benefits","Present promotion"]},{title:"Need to Research",category:"not-ready",objection:"I need to do more research",response:{pt1:"That's a wise approach. I'd be happy to provide you with more information to help with your research. What specific aspects would you like to know more about?",pt2:"We also have customer testimonials and case studies that might be helpful. Would you like me to share those with you?"},icon:"📚",color:"#96CEB4",tags:["research","information","education","decision"],steps:["Support decision","Offer information","Provide resources","Suggest next steps"],tips:["Be helpful","Provide value","Respect process"]},{title:"Too Busy",category:"time-concern",objection:"I'm too busy right now",response:{pt1:"I understand you're busy. Our process is designed to be efficient and convenient. I can give you a quick overview of what's involved.",pt2:"Would you be open to a brief 15-minute consultation? I can help you determine if this is worth your time."},icon:"⏰",color:"#D4A5A5",tags:["time","efficiency","convenience","value"],steps:["Acknowledge concern","Present efficiency","Offer quick overview","Suggest brief meeting"],tips:["Be concise","Respect time","Focus on value"]},{title:"Need to Compare",category:"not-ready",objection:"I need to compare options",response:{pt1:"That's a smart approach. I'd be happy to provide you with a detailed comparison of our services versus other options.",pt2:"Would you like me to share our comparison guide? It highlights the key differences and benefits of our approach."},icon:"📊",color:"#96CEB4",tags:["comparison","information","education","decision"],steps:["Support decision","Offer comparison","Provide information","Suggest next steps"],tips:["Be informative","Focus on strengths","Provide value"]},{title:"Not Priority",category:"not-ready",objection:"This isn't a priority right now",response:{pt1:"I understand this might not be your top priority. However, addressing this now could prevent more urgent issues in the future.",pt2:"Would you like to hear about how our service can help you avoid potential problems down the line?"},icon:"⏳",color:"#96CEB4",tags:["priority","prevention","value","timing"],steps:["Acknowledge position","Present value","Explain benefits","Offer information"],tips:["Focus on prevention","Highlight urgency","Present value"]},{title:"Need to Budget",category:"cant-afford",objection:"I need to budget for this",response:{pt1:"I understand the importance of budgeting. We offer flexible payment options that can help you plan your expenses.",pt2:"Would you like to hear about our current promotion and payment plans? They're designed to make this more manageable for your budget."},icon:"💰",color:"#9B59B6",tags:["budget","payment","planning","options"],steps:["Acknowledge concern","Present options","Explain benefits","Offer information"],tips:["Be flexible","Focus on planning","Present options"]},{title:"Need to Save",category:"cant-afford",objection:"I need to save up for this",response:{pt1:"I understand you want to save up. We actually have a special promotion that can help you get started sooner while still being budget-friendly.",pt2:"Would you like to hear about our current offer? It includes flexible payment options that might work better for your savings plan."},icon:"💰",color:"#9B59B6",tags:["savings","budget","payment","promotion"],steps:["Acknowledge concern","Present value","Mention promotion","Offer options"],tips:["Be flexible","Focus on savings","Present options"]},{title:"Need More Information",category:"curious",objection:"I need more information before deciding",response:{pt1:"I'd be happy to provide you with more detailed information. What specific aspects would you like to know more about?",pt2:"We have comprehensive guides and case studies that might help you make an informed decision. Would you like me to share those with you?"},icon:"📚",color:"#FFEEAD",tags:["information","education","decision","details"],steps:["Acknowledge need","Offer information","Ask for specifics","Provide resources"],tips:["Be informative","Focus on details","Provide value"]},{title:"Want to Learn More",category:"curious",objection:"I want to learn more about your service",response:{pt1:"I'd be happy to walk you through our service in detail. What aspects are you most interested in learning about?",pt2:"We have a special presentation that highlights our unique approach and benefits. Would you like me to share that with you?"},icon:"🎓",color:"#FFEEAD",tags:["education","information","benefits","details"],steps:["Acknowledge interest","Offer details","Present value","Suggest next steps"],tips:["Be thorough","Focus on benefits","Create interest"]},{title:"Need to Check Schedule",category:"reset-appt",objection:"I need to check my schedule first",response:{pt1:"I understand you need to check your availability. I can hold a few time slots for you while you check your schedule.",pt2:"What time of day typically works best for you? I can help you find a convenient time that fits your schedule."},icon:"📅",color:"#F1C40F",tags:["schedule","availability","timing","convenience"],steps:["Acknowledge need","Offer flexibility","Suggest times","Confirm availability"],tips:["Be flexible","Offer options","Respect schedule"]},{title:"Need to Check Calendar",category:"reset-appt",objection:"I need to check my calendar",response:{pt1:"I understand you need to check your calendar. I can help you find a time that works with your schedule.",pt2:"Would you prefer morning, afternoon, or evening appointments? I can hold some slots for you while you check."},icon:"📆",color:"#F1C40F",tags:["calendar","scheduling","availability","convenience"],steps:["Acknowledge need","Offer options","Suggest times","Confirm preference"],tips:["Be flexible","Offer choices","Respect schedule"]},{title:"Need to Check with Team",category:"one-legger",objection:"I need to check with my team first",response:{pt1:"I understand you need to consult with your team. Would it be helpful if I provided some information you could share with them?",pt2:"I can also schedule a time when your team can be present to discuss this together. What would work better for you?"},icon:"👥",color:"#45B7D1",tags:["team","consultation","decision","meeting"],steps:["Acknowledge need","Offer information","Suggest meeting","Find convenient time"],tips:["Be supportive","Provide materials","Offer flexibility"]},{title:"Need Team Approval",category:"one-legger",objection:"I need team approval for this",response:{pt1:"I understand you need team approval. I can provide you with a comprehensive proposal that addresses all the key points your team will need to consider.",pt2:"Would you like me to prepare a presentation that you can share with your team? It includes all the benefits and ROI calculations they'll need."},icon:"✅",color:"#45B7D1",tags:["approval","team","proposal","benefits"],steps:["Acknowledge need","Offer proposal","Present benefits","Suggest next steps"],tips:["Be thorough","Focus on ROI","Provide materials"]},{title:"Need to Check Budget",category:"cant-afford",objection:"I need to check my budget first",response:{pt1:"I understand you need to review your budget. We offer flexible payment options that can work with various budget constraints.",pt2:"Would you like to hear about our current promotion? It includes payment plans designed to fit different budget situations."},icon:"💰",color:"#9B59B6",tags:["budget","payment","options","promotion"],steps:["Acknowledge need","Present options","Mention promotion","Offer flexibility"],tips:["Be flexible","Focus on options","Present value"]},{title:"Need to Check Finances",category:"cant-afford",objection:"I need to check my finances",response:{pt1:"I understand you need to review your finances. We have several payment options that can accommodate different financial situations.",pt2:"Would you like to hear about our current promotion? It includes flexible payment terms that might work better for your financial situation."},icon:"💳",color:"#9B59B6",tags:["finances","payment","options","promotion"],steps:["Acknowledge need","Present options","Mention promotion","Offer flexibility"],tips:["Be flexible","Focus on options","Present value"]},{title:"Need to Check Reviews",category:"bad-reviews",objection:"I need to check your reviews first",response:{pt1:"I understand you want to check our reviews. We're proud of our recent customer feedback and would be happy to share some recent testimonials.",pt2:"Would you like to hear about some recent success stories? Many of our customers have shared their positive experiences."},icon:"⭐",color:"#1ABC9C",tags:["reviews","testimonials","feedback","success"],steps:["Acknowledge need","Share testimonials","Present success stories","Offer information"],tips:["Be honest","Share recent feedback","Focus on improvements"]},{title:"Need to Check References",category:"bad-reviews",objection:"I need to check your references",response:{pt1:"I understand you want to check our references. We have several satisfied customers who would be happy to share their experiences.",pt2:"Would you like me to connect you with some of our recent customers? They can provide firsthand feedback about our service."},icon:"📞",color:"#1ABC9C",tags:["references","testimonials","feedback","success"],steps:["Acknowledge need","Offer references","Share success stories","Connect with customers"],tips:["Be transparent","Share references","Focus on satisfaction"]}],Os=({value:e,onChange:r,onClear:o,placeholder:i="Search...",onKeyDown:l,className:d="",autoFocus:u=!1,ariaLabel:p="Search",...f})=>t.jsxs("div",{className:`searchbar-container ${d}`,children:[t.jsx("span",{className:"searchbar-icon","aria-hidden":"true",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"2"}),t.jsx("path",{d:"M21 21l-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),t.jsx("input",{type:"text",className:"searchbar-input",value:e,onChange:r,onKeyDown:l,placeholder:i,autoFocus:u,"aria-label":p,...f}),e&&t.jsx("button",{type:"button",className:"searchbar-clear",onClick:o,"aria-label":"Clear search",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),Gj=()=>{const e=hr(),[r,o]=x.useState(""),[i,l]=x.useState([]),[d,u]=x.useState(!1),[p,f]=x.useState(null),[y,g]=x.useState(!1),[v,w]=x.useState(!1),[T,A]=x.useState(!1),[k,L]=x.useState(null),[P,O]=x.useState(null),[N,R]=x.useState(!1),[$,U]=x.useState(!1),[J,ee]=x.useState(!1),[ae,ye]=x.useState([]),[H,ue]=x.useState(0),[te,xe]=x.useState([]),[Ne,V]=x.useState(!0),[Y,q]=x.useState([]),[C,E]=x.useState(null),[S,b]=x.useState([]),[F,M]=x.useState(null),[ne,le]=x.useState(null),[Se,be]=x.useState(!1),[Q,_]=x.useState(!0),[Z,oe]=x.useState(0);x.useEffect(()=>{if(N||y||v)return document.body.style.overflow="hidden",setTimeout(()=>{const ie=document.querySelector(".modal-content");ie&&(ie.scrollTop=0)},50),()=>{document.body.style.overflow=""}},[N,y,v,P]),x.useEffect(()=>{N&&P&&setTimeout(()=>{const ie=document.querySelector(".modal-content");ie&&(ie.scrollTop=0)},100)},[P,N]);const ve=[{name:"Busy",keywords:["busy","time","rushed","quick"],category:"time-concern"},{name:"Call Back",keywords:["call back","callback","later","another time"],category:"callback"},{name:"No Interest",keywords:["not interested","no interest","dont want","not buying"],category:"not-interested"},{name:"Speak to Spouse",keywords:["spouse","husband","wife","talk to","discuss"],category:"spouse-consultation"},{name:"Price Over Phone",keywords:["price","cost","how much","ballpark","estimate"],category:"price-phone"},{name:"One Leg",keywords:["one leg","decision maker","alone","by myself"],category:"one-legger"},{name:"Repair Only",keywords:["repair","fix","liner","just repair"],category:"repair"},{name:"Gov/Free",keywords:["government","free","grant","assistance"],category:"government-grants"}],Ae={"how to":["how do i","how can i","how do you","how to","how can","how should","how would"],"when can":["when can i","when is","when will","when should","when do","when to","when are"],"where to":["where can i","where do i","where is","where to","where are","where should"],"what is":["whats","what is","what are","what do","what will","what should","what can"],"why do":["why does","why is","why are","why do","why should","why would","why can"],"can i":["can you","is it possible","is there a way","can i","could i","would you","may i"],"need to":["want to","have to","should i","need to","looking to","trying to","planning to"],"looking for":["searching for","trying to find","want to find","looking for","need to find","seeking"]},st={hoem:"home",paeg:"page",serach:"search",ebveythgin:"everything",arch:"search",shoudl:"should",eveythung:"everything",rebuttals:"rebuttals",disposition:"disposition",customer:"customer",service:"service",price:"price",cost:"cost",schedule:"schedule",appointment:"appointment",cancel:"cancel",reschedule:"reschedule",urgent:"urgent",help:"help",support:"support",question:"question",answer:"answer",problem:"problem",issue:"issue",concern:"concern",complaint:"complaint",feedback:"feedback",review:"review",rating:"rating",quality:"quality",product:"product",installation:"installation",warranty:"warranty",guarantee:"guarantee",payment:"payment",financing:"financing",discount:"discount",offer:"offer",deal:"deal",promotion:"promotion",special:"special",limited:"limited",time:"time",date:"date",availability:"availability",location:"location",address:"address",contact:"contact",phone:"phone",email:"email",message:"message",chat:"chat",call:"call",text:"text",sms:"sms",voicemail:"voicemail",callback:"callback",followup:"follow up","follow-up":"follow up",reminder:"reminder",notification:"notification",alert:"alert",warning:"warning",error:"error",fix:"fix",repair:"repair",maintenance:"maintenance",upgrade:"upgrade",update:"update",change:"change",modify:"modify",postpone:"postpone",delay:"delay",late:"late",early:"early","on-time":"on time",ontime:"on time"},He=ie=>ie.toLowerCase().split(" ").map(Te=>st[Te]||Te).join(" "),Ve=ie=>{let me=ie.toLowerCase();return Object.entries(Ae).forEach(([Te,Ie])=>{Ie.forEach(we=>{me.includes(we)&&(me=me.replace(we,Te))})}),me=He(me),me},Je=(ie,me)=>{const Te=Array(me.length+1).fill(null).map(()=>Array(ie.length+1).fill(null));for(let Ie=0;Ie<=ie.length;Ie+=1)Te[0][Ie]=Ie;for(let Ie=0;Ie<=me.length;Ie+=1)Te[Ie][0]=Ie;for(let Ie=1;Ie<=me.length;Ie+=1)for(let we=1;we<=ie.length;we+=1){const it=ie[we-1]===me[Ie-1]?0:1;Te[Ie][we]=Math.min(Te[Ie][we-1]+1,Te[Ie-1][we]+1,Te[Ie-1][we-1]+it)}return Te[me.length][ie.length]},Gt=(ie,me)=>{const Te=Math.max(ie.length,me.length);return Te===0?1:1-Je(ie,me)/Te},an=ie=>{if(!ie)return[];const me=ie.toLowerCase().split(/\s+/),Te=new Set(["the","a","an","and","or","but","in","on","at","to","for","with","by","about","as","of","from","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","shall","should","may","might","must","can","could","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","its","our","their","mine","yours","hers","ours","theirs"]);return me.filter(Ie=>!Te.has(Ie)&&Ie.length>2)},Ot=(ie,me)=>{if(!ie||!me)return 0;const Te=an(ie),Ie=an(me);let we=0;return Te.forEach(it=>{Ie.forEach(De=>{const Xe=Gt(it,De);Xe>.8&&(we+=Xe)})}),we/Math.max(Te.length,1)},wn=ie=>{if(!ie.trim()){l([]);return}const me=Ve(ie),Te=[],Ie=new Set,we=/^(what|how|why|when|where|can|could|would|should|may|do|does|is|are|will)/i.test(me),it=/(call\s*back|callback|call\s*later|call\s*me\s*back|call\s*you\s*back)/i.test(me);S.forEach(De=>{if(Ie.has(De.title))return;const Xe=De.title.toLowerCase().includes(me),Ye=De.category.toLowerCase().includes(me);let et=!1,ze=0;typeof De.content=="string"?(et=De.content.toLowerCase().includes(me),ze=Ot(me,De.content)):De.content&&typeof De.content=="object"&&(et=De.content.pt1&&De.content.pt1.toLowerCase().includes(me)||De.content.pt2&&De.content.pt2.toLowerCase().includes(me),ze=Math.max(Ot(me,De.content.pt1||""),Ot(me,De.content.pt2||"")));const We=De.tags?.some(jn=>jn.toLowerCase().includes(me)),qe=De.tags?.reduce((jn,er)=>Math.max(jn,Ot(me,er)),0)||0,ut=(Xe?1:0)*.4+(Ye?1:0)*.2+(et?1:0)*.2+(We?1:0)*.1+ze*.1+qe*.1;it&&(De.category==="callback"||De.title.toLowerCase().includes("callback"))?(Te.push({type:"rebuttal",title:De.title,category:De.category,icon:"📞",relevance:"high",score:ut+.5,data:De}),Ie.add(De.title)):we&&(et||ze>.3)?(Te.push({type:"modal",title:De.title,category:De.category,icon:pr(De.category),relevance:"high",score:ut+.3,data:De}),Ie.add(De.title)):ut>.2&&(Te.push({type:"rebuttal",title:De.title,category:De.category,icon:pr(De.category),relevance:ut>.6?"high":ut>.4?"medium":"low",score:ut,data:De}),Ie.add(De.title))}),ve.forEach(De=>{const Xe=De.name.toLowerCase().includes(me),Ye=De.keywords.some(We=>We.toLowerCase().includes(me)),et=Math.max(Ot(me,De.name),...De.keywords.map(We=>Ot(me,We))),ze=(Xe?1:0)*.6+(Ye?1:0)*.3+et*.1;ze>.2&&Te.push({type:"disposition",title:De.name,category:De.category,icon:"📋",relevance:ze>.6?"high":ze>.4?"medium":"low",score:ze,data:De})}),Te.sort((De,Xe)=>Xe.score-De.score),l(Te.slice(0,10))},pr=ie=>({"not-interested":"❌","spouse-consultation":"💑","one-legger":"👤","not-ready":"⏳",curious:"🤔","time-concern":"⏰","cant-afford":"💰",spouse:"👫","price-phone":"📞",repair:"🔧","government-grants":"🏛️","reset-appt":"🔄","no-request":"🚫","bad-reviews":"⭐"})[ie]||"📞";x.useCallback(Xn(ie=>{wn(ie)},300),[]);function Xn(ie,me){let Te;return function(...we){const it=()=>{clearTimeout(Te),ie(...we)};clearTimeout(Te),Te=setTimeout(it,me)}}x.useEffect(()=>{wn(r),u(r.length>0)},[r]);const ln=()=>{g(!1),w(!1),R(!1),O(null),U(!1),ye([])},Bn=()=>{if(F&&F.items){const ie=(Z+1)%F.items.length;oe(ie);const me=F.items[ie];Ft(me);const Te=()=>{const Ie=document.querySelector(".modal-body"),we=document.querySelector(".modal-content"),it=document.querySelector(".modal-overlay"),De=document.querySelectorAll('.modal-body, .modal-content, .modal-overlay, [class*="modal"]');Ie&&(Ie.scrollTop=0,Ie.scrollLeft=0),we&&(we.scrollTop=0,we.scrollLeft=0),it&&(it.scrollTop=0,it.scrollLeft=0),De.forEach(Ye=>{Ye.scrollTop=0,Ye.scrollLeft=0});const Xe=Ie?.querySelector("*");Xe&&Xe.scrollIntoView({behavior:"instant",block:"start"}),window.scrollTo(0,0)};Te(),setTimeout(Te,50),setTimeout(Te,200),setTimeout(Te,500)}},fr=()=>y?t.jsx("div",{className:"modal-overlay",onClick:ln,children:t.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-header-content",children:t.jsx("h2",{children:"Common Objections & Responses"})}),t.jsxs("div",{className:"modal-header-buttons",children:[t.jsx("button",{className:"modal-expand",onClick:ie=>{ie.stopPropagation(),ee(!J)},title:J?"Collapse":"Expand",children:J?t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8 3V5C8 5.53043 7.78929 6.03914 7.41421 6.41421C7.03914 6.78929 6.53043 7 6 7H4M4 7H8M4 7V3M16 3V5C16 5.53043 16.2107 6.03914 16.5858 6.41421C16.9609 6.78929 17.4696 7 18 7H20M20 7H16M20 7V3M8 21V19C8 18.4696 7.78929 17.9609 7.41421 17.5858C7.03914 17.2107 6.53043 17 6 17H4M4 17H8M4 17V21M16 21V19C16 18.4696 16.2107 17.9609 16.5858 17.5858C16.9609 17.2107 17.4696 17 18 17H20M20 17H16M20 17V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M4 8V4M4 4H8M4 4L9 9M20 8V4M20 4H16M20 4L15 9M4 16V20M4 20H8M4 20L9 15M20 16V20M20 20H16M20 20L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsx("button",{className:"modal-close",onClick:ln,children:"×"})]})]}),t.jsx("div",{className:`modal-body ${J?"expanded":""}`,children:t.jsxs("div",{className:"objection-list",children:[t.jsxs("div",{className:"objection-item",children:[t.jsx("h3",{children:"Need to Think About It"}),t.jsx("p",{children:'"I need to think about it"'}),t.jsxs("div",{className:"response-section",children:[t.jsx("h4",{children:"Initial Response:"}),t.jsx("p",{children:`"That's completely understandable. Making home improvement decisions requires careful consideration. What specific aspects would you like to think about? I'd be happy to provide more information to help with your decision."`}),t.jsx("h4",{children:"Follow-up Response:"}),t.jsx("p",{children:`"We're currently offering a special discount for customers who make a decision this week. Would you like to hear more about this limited-time offer?"`})]})]}),t.jsxs("div",{className:"objection-item",children:[t.jsx("h3",{children:"Need to Consult Spouse"}),t.jsx("p",{children:'"I need to talk to my spouse"'}),t.jsxs("div",{className:"response-section",children:[t.jsx("h4",{children:"Initial Response:"}),t.jsx("p",{children:`"That's a great point. It's important to make this decision together. Would it be helpful if I scheduled a time when both of you can be present to discuss the options?"`}),t.jsx("h4",{children:"Follow-up Response:"}),t.jsx("p",{children:'"I can prepare a detailed proposal that you can review together. This will include all the information your spouse might need to make an informed decision."'})]})]}),t.jsxs("div",{className:"objection-item",children:[t.jsx("h3",{children:"Not Ready to Buy"}),t.jsx("p",{children:`"I'm not ready to buy right now"`}),t.jsxs("div",{className:"response-section",children:[t.jsx("h4",{children:"Initial Response:"}),t.jsx("p",{children:`"I understand. When are you planning to make this improvement? We can schedule a consultation for when you're ready to move forward."`}),t.jsx("h4",{children:"Follow-up Response:"}),t.jsx("p",{children:`"We offer free consultations and estimates with no obligation. This can help you plan for when you're ready to proceed. Would you like to schedule one?"`})]})]}),t.jsxs("div",{className:"objection-item",children:[t.jsx("h3",{children:"Looking for Cheaper Option"}),t.jsx("p",{children:'"I can get it cheaper elsewhere"'}),t.jsxs("div",{className:"response-section",children:[t.jsx("h4",{children:"Initial Response:"}),t.jsx("p",{children:`"I appreciate you sharing that. While price is important, it's also crucial to consider the quality, warranty, and service that comes with your purchase. Our products come with a lifetime warranty and professional installation."`}),t.jsx("h4",{children:"Follow-up Response:"}),t.jsx("p",{children:`"Let me show you a comparison of what's included in our price versus what you might be getting elsewhere. This will help you make a more informed decision."`})]})]})]})})]})}):v?t.jsx("div",{className:"modal-overlay",onClick:ln,children:t.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-header-content",children:t.jsx("h2",{children:"Smart Tips for Success"})}),t.jsx("button",{className:"modal-close",onClick:ln,children:"×"})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"tips-list",children:[t.jsxs("div",{className:"tip-item",children:[t.jsx("h3",{children:"🎯 Active Listening"}),t.jsx("p",{children:"Always acknowledge the customer's concerns before presenting your rebuttal"})]}),t.jsxs("div",{className:"tip-item",children:[t.jsx("h3",{children:"💡 Question-Based Approach"}),t.jsx("p",{children:"Use open-ended questions to understand the customer's needs better"})]}),t.jsxs("div",{className:"tip-item",children:[t.jsx("h3",{children:"⚡ Quick Response Strategy"}),t.jsx("p",{children:"Start with Part 1 of the rebuttal, then escalate to Part 2 if needed"})]}),t.jsxs("div",{className:"tip-item",children:[t.jsx("h3",{children:"🤝 Building Rapport"}),t.jsx("p",{children:"Establish trust by showing empathy and understanding"})]})]})})]})}):N&&P?t.jsx("div",{className:"modal-overlay",onClick:ln,children:t.jsxs("div",{className:`modal-content ${J?"expanded":""}`,onClick:ie=>ie.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("div",{className:"modal-header-content",children:[t.jsx("h2",{children:P.title}),t.jsx("p",{className:"modal-subtitle",children:P.description})]}),t.jsx("div",{className:"modal-header-buttons",children:t.jsx("button",{className:"modal-close",onClick:ln,children:"×"})})]}),t.jsx("div",{className:`modal-body ${J?"expanded":""}`,children:$?t.jsxs("div",{className:"more-options-view",children:[t.jsxs("div",{className:"more-options-header",children:[t.jsx("h3",{children:"More Options"}),t.jsxs("p",{children:["Related rebuttals and options for ",P.category]})]}),t.jsx("div",{className:"category-navigation",children:t.jsxs("button",{className:"view-all-category-button",onClick:()=>{const ie=Y.find(me=>me.items.some(Te=>Te.category===P.category));if(ie){O(ie.items.find(Te=>Te.category===P.category)),R(!1);const me=document.querySelector(`[data-category="${ie.id}"]`);me&&me.scrollIntoView({behavior:"smooth"})}},children:["View All ",P.category," Options"]})}),t.jsxs("div",{className:"related-rebuttals",children:[t.jsx("h4",{children:"Related Rebuttals:"}),t.jsx("div",{className:"related-rebuttals-list",children:ae.map((ie,me)=>t.jsxs("div",{className:"related-rebuttal-item",onClick:()=>{O({...ie,content:{pt1:typeof ie.content=="string"?ie.content:ie.content?.pt1||ie.response?.pt1||ie.objection||"",pt2:typeof ie.content=="string"?"":ie.content?.pt2||ie.response?.pt2||ie.followUpResponse||""}}),U(!1)},children:[t.jsx("h5",{children:ie.title}),t.jsx("p",{children:typeof ie.content=="string"?ie.content:ie.content?.pt1||ie.response?.pt1||ie.objection||""})]},me))})]})]}):t.jsxs("div",{className:"objection-item",children:[t.jsx("div",{className:"objection-header"}),t.jsx("div",{className:"rebuttal-content",children:t.jsx("div",{className:"modal-tags",children:P.tags?.map(ie=>t.jsxs("span",{className:"modal-tag",children:["#",ie]},ie))})}),t.jsxs("div",{className:"modal-rebuttal-content",children:[t.jsxs("div",{className:"modal-section-header",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsx("h3",{children:"Rebuttal Responses"})]}),P.content&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"rebuttal-section",children:[t.jsx("h4",{className:"rebuttal-section-title",children:"Initial Response"}),t.jsx("p",{className:"modal-content-text",children:(console.log("Rendering content:",P.content),typeof P.content=="string"?P.content:P.content.pt1||"")})]}),t.jsxs("div",{className:"rebuttal-section",children:[t.jsx("h4",{className:"rebuttal-section-title",children:"Follow-up Response"}),t.jsx("p",{className:"modal-content-text",children:(console.log("Rendering pt2:",P.content?.pt2),typeof P.content=="string"?"":P.content.pt2||"")})]}),t.jsx("div",{className:"rebuttal-actions",children:t.jsxs("button",{className:"next-button",onClick:()=>Bn(),disabled:!F||!F.items||F.items.length<=1,children:["Next Response",t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]}),P.tips&&P.tips.length>0&&t.jsxs("div",{className:"modal-tips",children:[t.jsxs("div",{className:"modal-section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:"2"}),t.jsx("path",{d:"M12 16v.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("path",{d:"M12 8v4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),t.jsx("h3",{children:"Tips"})]}),t.jsx("div",{className:"tips-list",children:P.tips.map((ie,me)=>t.jsxs("div",{className:"tip-item",children:[t.jsx("div",{className:"tip-icon",children:"💡"}),t.jsx("p",{className:"tip-text",children:ie})]},me))})]}),t.jsxs("div",{className:"modal-situations",children:[t.jsxs("div",{className:"modal-section-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:"2"}),t.jsx("path",{d:"M12 8v4l3 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),t.jsx("h3",{children:"Situations Used"})]}),t.jsxs("div",{className:"situations-list",children:[t.jsxs("div",{className:"situation-item",children:[t.jsx("div",{className:"situation-icon",children:"🎯"}),t.jsxs("div",{className:"situation-content",children:[t.jsx("h4",{className:"situation-title",children:"Initial Contact"}),t.jsx("p",{className:"situation-description",children:"When first addressing the customer's concern about pricing or budget constraints"})]})]}),t.jsxs("div",{className:"situation-item",children:[t.jsx("div",{className:"situation-icon",children:"💬"}),t.jsxs("div",{className:"situation-content",children:[t.jsx("h4",{className:"situation-title",children:"Follow-up Discussion"}),t.jsx("p",{className:"situation-description",children:"When customer needs more information about payment options or financing"})]})]}),t.jsxs("div",{className:"situation-item",children:[t.jsx("div",{className:"situation-icon",children:"🤝"}),t.jsxs("div",{className:"situation-content",children:[t.jsx("h4",{className:"situation-title",children:"Negotiation Phase"}),t.jsx("p",{className:"situation-description",children:"During price discussions or when presenting alternative solutions"})]})]})]})]})]})})]})}):null;x.useEffect(()=>{N&&(setTimeout(()=>{const ie=document.querySelector(".modal-content");ie&&(ie.scrollTop=0)},0),setTimeout(()=>{const ie=document.querySelector(".modal-content");ie&&(ie.scrollTop=0)},200))},[N,P]),x.useEffect(()=>{(async()=>{try{V(!0),console.log("Starting to load data...");const me=await rs.getAllCategories();console.log("Fetched categories:",me);const Te=Ze(Me(je(),"rebuttals"),It("createdAt","desc")),Ie=$i(Te,we=>{const it=we.docs.map(Ye=>({id:Ye.id,...Ye.data()})),De=me.reduce((Ye,et)=>(Ye[et.id]=et.name,Ye),{}),Xe=me.map(Ye=>{const et=it.filter(We=>{const qe=We.category||"",ut=Ye.name||"",jn=Ye.id||"";return qe===ut||qe===jn||qe.toLowerCase()===ut.toLowerCase()});console.log(`Category ${Ye.name} (ID: ${Ye.id}) has ${et.length} rebuttals`),et.length>0&&console.log(`  Rebuttals in ${Ye.name}:`,et.map(We=>({id:We.id,title:We.title,category:We.category})));let ze="";switch(Ye.name){case"Not Interested":ze="Handle objections from customers who are not interested in the service";break;case"Spouse Consultation":ze="Manage situations where spouse approval is needed";break;case"One Legger":ze="Handle single decision-maker scenarios";break;case"Not Ready":ze="Address customers who need more time to decide";break;case"Curious":ze="Engage with customers who are interested but have questions";break;case"Time Concern":ze="Handle scheduling and timing-related objections";break;case"Can't Afford":ze="Address budget and pricing concerns";break;case"Spouse":ze="Manage situations requiring spouse involvement";break;case"Price Phone":ze="Handle price-related phone inquiries";break;case"Repair":ze="Address repair and maintenance concerns";break;case"Government Grants":ze="Information about government assistance programs";break;case"Reset Appointment":ze="Handle appointment rescheduling requests";break;case"No Request":ze="Manage situations with no specific request";break;case"Bad Reviews":ze="Address concerns about negative reviews";break;default:ze=`Handle ${Ye.name.toLowerCase()} related inquiries`}return{id:Ye.id,name:Ye.name,description:ze,icon:Ye.icon||"📋",color:Ye.color||"#808080",items:et.map(We=>{let qe={pt1:"",pt2:""};return typeof We.content=="string"?qe.pt1=We.content:We.content&&typeof We.content=="object"?qe={pt1:We.content.pt1||We.content.initial||We.content.part1||"",pt2:We.content.pt2||We.content.followup||We.content.part2||""}:typeof We.response=="string"?qe.pt1=We.response:We.response&&typeof We.response=="object"&&(qe={pt1:We.response.pt1||We.response.initial||We.response.part1||"",pt2:We.response.pt2||We.response.followup||We.response.part2||""}),qe.pt1||(qe.pt1=We.objection||""),{id:We.id,title:We.title,description:We.description||We.objection||We.summary||"",category:Ye.id,content:qe,steps:We.steps||["Listen to customer concerns","Address specific needs","Present solution","Follow up as needed"],tips:We.tips||["Be professional and courteous","Focus on customer needs","Provide clear information"]}})}});console.log("Transformed categories:",Xe),console.log("Sample rebuttal content:",Xe[0]?.items[0]?.content),xe(Xe),q(Xe)});return V(!1),()=>Ie()}catch(me){console.error("Error loading data:",me),V(!1)}})()},[]);const Dt=ie=>{if(M(ie),U(!1),ie.items&&ie.items.length>0){const me=ie.items[0];O({...me,content:{pt1:typeof me.content=="string"?me.content:me.content.pt1||"",pt2:typeof me.content=="string"?"":me.content.pt2||""}}),R(!0),ee(!0);const Te=()=>{const Ie=document.querySelector(".modal-body"),we=document.querySelector(".modal-content"),it=document.querySelector(".modal-overlay"),De=document.querySelectorAll('.modal-body, .modal-content, .modal-overlay, [class*="modal"]');Ie&&(Ie.scrollTop=0,Ie.scrollLeft=0),we&&(we.scrollTop=0,we.scrollLeft=0),it&&(it.scrollTop=0,it.scrollLeft=0),De.forEach(Ye=>{Ye.scrollTop=0,Ye.scrollLeft=0});const Xe=Ie?.querySelector("*");Xe&&Xe.scrollIntoView({behavior:"instant",block:"start"}),window.scrollTo(0,0)};Te(),setTimeout(Te,50),setTimeout(Te,200),setTimeout(Te,500)}},Ft=ie=>{O({...ie,content:{pt1:typeof ie.content=="string"?ie.content:ie.content.pt1||"",pt2:typeof ie.content=="string"?"":ie.content.pt2||""}}),R(!0),ee(!0);const me=()=>{const Te=document.querySelector(".modal-body"),Ie=document.querySelector(".modal-content"),we=document.querySelector(".modal-overlay"),it=document.querySelectorAll('.modal-body, .modal-content, .modal-overlay, [class*="modal"]');Te&&(Te.scrollTop=0,Te.scrollLeft=0),Ie&&(Ie.scrollTop=0,Ie.scrollLeft=0),we&&(we.scrollTop=0,we.scrollLeft=0),it.forEach(Xe=>{Xe.scrollTop=0,Xe.scrollLeft=0});const De=Te?.querySelector("*");De&&De.scrollIntoView({behavior:"instant",block:"start"}),window.scrollTo(0,0)};me(),setTimeout(me,50),setTimeout(me,200),setTimeout(me,500)},Ut=()=>F?t.jsxs("div",{className:"category-content active",children:[t.jsxs("div",{className:"category-header",children:[t.jsxs("h2",{children:[t.jsx("span",{className:"category-icon",children:F.icon}),F.name]}),t.jsx("p",{className:"category-description",children:F.description})]}),t.jsx("div",{className:"category-items",children:F.items.map(ie=>t.jsxs("div",{className:"category-item",onClick:()=>Ft(ie),children:[t.jsx("h3",{children:ie.title}),t.jsx("p",{children:ie.description})]},ie.id))})]}):t.jsxs("div",{className:"no-categories",children:[t.jsx("div",{className:"no-categories-icon",children:t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M3 9H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 21V9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),t.jsx("h3",{children:"No Category Selected"}),t.jsx("p",{children:"Please select a category from the list to view its contents"})]}),An=()=>t.jsxs("div",{className:"simple-mode-container",children:[t.jsxs("div",{className:"quick-navigation",children:[t.jsx("div",{className:"quick-nav-header",children:t.jsx("h2",{children:"Categories"})}),t.jsx("div",{className:"quick-nav-grid",children:te.map(ie=>t.jsx("div",{className:`quick-nav-card ${F?.id===ie.id?"active":""}`,"data-category":ie.id,onClick:()=>Dt(ie),children:t.jsxs("div",{className:"quick-nav-card-content",children:[t.jsx("div",{className:"quick-nav-icon",children:ie.icon}),t.jsxs("div",{className:"quick-nav-info",children:[t.jsx("h3",{children:ie.name}),t.jsx("p",{className:"quick-nav-description",children:ie.description})]})]})},ie.id))})]}),t.jsx("div",{className:"simple-mode-grid",children:Ut()})]});x.useEffect(()=>{const ie=me=>{const Te=document.querySelector(".search-container");Te&&!Te.contains(me.target)&&(A(!1),u(!1))};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),x.useEffect(()=>{const ie=JSON.parse(localStorage.getItem("adminUser"));E(ie)},[]);const ps=()=>{localStorage.removeItem("adminUser"),E(null),e("/")},Wn=()=>{e("/admin/dashboard")};return x.useEffect(()=>{(async()=>{try{const me=await xl.getAllRebuttals();b(me)}catch(me){console.error("Error loading rebuttals:",me)}})()},[]),x.useEffect(()=>{const ie=me=>{(me.ctrlKey||me.metaKey)&&me.shiftKey&&me.key.toLowerCase()==="l"&&(me.preventDefault(),e("/admin/login"))};return window.addEventListener("keydown",ie),()=>{window.removeEventListener("keydown",ie)}},[e]),t.jsxs("div",{className:"home-container",children:[C?t.jsxs("div",{className:"admin-controls",children:[t.jsxs("button",{onClick:Wn,className:"admin-dashboard-btn",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M3 13H11V3H3V13ZM3 21H11V15H3V21ZM13 21H21V11H13V21ZM13 3V9H21V3H13Z",fill:"currentColor"})}),"Dashboard"]}),t.jsxs("button",{onClick:ps,className:"admin-logout-btn",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",fill:"currentColor"})}),"Logout"]})]}):null,fr(),t.jsxs("div",{className:"home-content",children:[t.jsx("div",{className:"hero-wrapper",children:t.jsx("div",{className:"home-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsxs("div",{className:"hero-logo",children:[t.jsx("span",{className:"logo-icon",children:"🏠"}),t.jsxs("h1",{className:"hero-title",children:["Long Home ",t.jsx("span",{className:"title-accent",children:"Rebuttal Hub"})]})]}),t.jsx("p",{className:"hero-subtitle",children:"Your intelligent assistant for mastering appointment setting, objection handling, and customer service excellence"})]})})}),An()]})]})},gh=({title:e,subtitle:r})=>{const o=cs(),i=l=>o.pathname===l;return t.jsx("header",{className:"page-header",children:t.jsx("div",{className:"header-content",children:t.jsxs("div",{className:"header-main",children:[t.jsxs("div",{className:"header-text",children:[t.jsx("h1",{className:"header-title",children:e}),r&&t.jsx("p",{className:"header-subtitle",children:r})]}),t.jsxs("nav",{className:"header-nav",children:[t.jsxs(nl,{to:"/",className:`nav-link ${i("/")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),t.jsxs(nl,{to:"/rebuttals",className:`nav-link ${i("/rebuttals")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),t.jsxs(nl,{to:"/disposition",className:`nav-link ${i("/disposition")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),t.jsxs(nl,{to:"/customerService",className:`nav-link ${i("/customerService")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]})]})]})})})},Yj=["Listen actively and acknowledge the customer's concerns","Stay calm and professional throughout the conversation","Use positive language and focus on solutions","Be prepared with relevant information and examples","Follow up appropriately if needed"],Qj=({onNavigate:e,searchQuery:r})=>{const[o,i]=x.useState("all"),[l,d]=x.useState(null),[u,p]=x.useState(r||""),[f,y]=x.useState(!1),[g,v]=x.useState(!1),[w,T]=x.useState(null),[A,k]=x.useState([]),[L,P]=x.useState(!1),[O,N]=x.useState(-1),[R,$]=x.useState([]),[U,J]=x.useState(!0),[ee,ae]=x.useState([]),[ye,H]=x.useState({}),[ue,te]=x.useState(null),[xe,Ne]=x.useState({});x.useEffect(()=>{if(f)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[f]),x.useEffect(()=>{const _=Ze(Me(je(),"rebuttals"),It("createdAt","desc")),Z=$i(_,oe=>{const ve=oe.docs.map(Ae=>({id:Ae.id,...Ae.data()}));console.log("Firestore rebuttals:",ve),$(ve),J(!1)},oe=>{console.error("Error listening to rebuttals:",oe),J(!1)});return()=>Z()},[]),x.useEffect(()=>{(async()=>{try{J(!0);const Z=await xl.getAllRebuttals();console.log("Raw rebuttals data:",Z),$(Z);const oe=await xl.getCategories();console.log("Raw categories data:",oe);const ve=oe.reduce((Ve,Je)=>{const Gt=Je.name.toLowerCase().replace(/\s+/g,"-");return Ve[Gt]=Je.id,Ve[Je.name.toLowerCase()]=Je.id,console.log(`Mapping category: ${Je.name} -> ${Je.id}`),Ve},{}),Ae=oe.reduce((Ve,Je)=>(Ve[Je.id]=Je.name,console.log(`Reverse mapping: ${Je.id} -> ${Je.name}`),Ve),{}),st=Z.map(Ve=>{if(Ve.category){let Je=Ve.category;if(Ae[Je])return console.log(`Rebuttal "${Ve.title}" already has valid category ID: ${Je}`),Ve;const Gt=Ve.category.toLowerCase().replace(/\s+/g,"-");if(Je=ve[Gt],Je||(Je=ve[Ve.category.toLowerCase()]),Je)return console.log(`Mapped rebuttal "${Ve.title}" from category "${Ve.category}" to ID: ${Je}`),{...Ve,category:Je};console.log(`No matching category ID found for rebuttal "${Ve.title}" with category "${Ve.category}"`)}return Ve});console.log("Updated rebuttals with category mappings:",st.map(Ve=>({title:Ve.title,originalCategory:Ve.category,mappedCategory:Ae[Ve.category]}))),$(st);const He=[{id:"all",name:"All Categories",icon:"📋",color:"gray"},...oe.map(Ve=>({id:Ve.id,name:Ve.name,icon:Ve.icon||"📋",color:V(Ve.id)}))];ae(He),console.log("Category Mapping:",{nameToId:ve,idToName:Ae,rebuttals:st.map(Ve=>({title:Ve.title,category:Ve.category,categoryName:Ae[Ve.category]}))}),J(!1)}catch(Z){console.error("Error fetching data:",Z),te("Failed to load rebuttals and categories"),J(!1)}})()},[]);const V=_=>{const Z=["red","blue","green","yellow","purple","pink","orange","teal","indigo","cyan"],oe=_.split("").reduce((ve,Ae)=>ve+Ae.charCodeAt(0),0);return Z[oe%Z.length]};ee.filter(_=>_.id!=="all").map(_=>_.id),R.filter(_=>_.isUrgent).map(_=>({id:_.id,topic:"rebuttals",title:_.title,description:_.summary,steps:_.steps||[],tips:_.tips||[],keywords:_.tags||[],isUrgent:!0}));const Y=(_,Z)=>{let oe;return function(...Ae){const st=()=>{clearTimeout(oe),_(...Ae)};clearTimeout(oe),oe=setTimeout(st,Z)}},q=(_,Z)=>{const oe=_.toLowerCase().split(" "),ve=Z.toLowerCase().split(" ");let Ae=0;return oe.forEach(st=>{ve.forEach(He=>{(He.includes(st)||st.includes(He))&&(Ae+=1)})}),Ae/oe.length},C=_=>{if(!_.trim()){k([]);return}const Z=[];_.toLowerCase().split(" "),R.forEach(oe=>{const ve=q(_,oe.title),Ae=q(_,oe.summary),st=oe.tags.reduce((Gt,an)=>Gt+q(_,an),0)/oe.tags.length,He=oe.content&&oe.content.pt1?q(_,oe.content.pt1):0,Ve=oe.content&&oe.content.pt2?q(_,oe.content.pt2):0,Je=Math.max(ve*2,Ae,st,He,Ve);Je>.3&&Z.push({...oe,relevanceScore:Je})}),Z.sort((oe,ve)=>ve.relevanceScore-oe.relevanceScore),k(Z)},E=x.useCallback(Y(_=>{C(_)},300),[]),S=_=>{const Z=_.target.value;p(Z),P(!0),N(-1),E(Z)},b=_=>{if(L)switch(_.key){case"ArrowDown":_.preventDefault(),N(Z=>Z<A.length-1?Z+1:Z);break;case"ArrowUp":_.preventDefault(),N(Z=>Z>0?Z-1:Z);break;case"Enter":_.preventDefault(),O>=0&&O<A.length&&F(A[O]);break;case"Escape":P(!1);break}},F=_=>{p(_.title),P(!1),d(_),y(!0)},M=x.useMemo(()=>o==="all"?R:R.filter(_=>_.category===o),[o,R]);x.useEffect(()=>{const _=R.reduce((Z,oe)=>{const ve=oe.category||"uncategorized";return Z[ve]||(Z[ve]={count:0,rebuttals:[]}),Z[ve].count++,Z[ve].rebuttals.push(oe.title),Z},{});console.log("Category Update:",{selectedCategory:o,totalRebuttals:R.length,filteredCount:M.length,categoryCount:_[o]?.count||0})},[o,R,M]);const ne=_=>{d(_),y(!0)},le=()=>{y(!1),d(null)},Se=_=>{if(!_)return null;let Z="",oe="";typeof _=="string"?Z=_:_&&typeof _=="object"&&(Z=_.pt1||"",oe=_.pt2||"");const ve=()=>Z.toLowerCase().includes("price")||Z.toLowerCase().includes("cost")?"💰 Value-Focused Response":Z.toLowerCase().includes("time")||Z.toLowerCase().includes("schedule")?"⏰ Time Management Solution":Z.toLowerCase().includes("spouse")||Z.toLowerCase().includes("partner")?"👥 Spouse/Partner Engagement":Z.toLowerCase().includes("not ready")||Z.toLowerCase().includes("later")?"🎯 Immediate Value Proposition":Z.toLowerCase().includes("not interested")?"💡 Interest Building Approach":"🎯 Primary Response Strategy",Ae=()=>oe.toLowerCase().includes("price")||oe.toLowerCase().includes("cost")?"💎 Enhanced Value Offer":oe.toLowerCase().includes("time")||oe.toLowerCase().includes("schedule")?"⚡ Flexible Scheduling Options":oe.toLowerCase().includes("spouse")||oe.toLowerCase().includes("partner")?"🤝 Joint Decision Support":oe.toLowerCase().includes("not ready")||oe.toLowerCase().includes("later")?"✨ Urgency Creation":oe.toLowerCase().includes("not interested")?"🌟 Interest Reinforcement":"🔄 Advanced Response Strategy";return t.jsxs("div",{className:"rebuttal-content-sections",children:[Z&&t.jsxs("div",{className:"rebuttal-section",children:[t.jsx("h4",{className:"rebuttal-section-title",children:ve()}),t.jsx("p",{className:"modal-content-text",children:Z})]}),t.jsxs("div",{className:"rebuttal-section",children:[t.jsx("h4",{className:"rebuttal-section-title",children:Ae()}),t.jsx("p",{className:"modal-content-text",children:oe||"No follow-up response available."})]})]})},be=x.useCallback(_=>{const Z={};return ee.forEach(oe=>{oe.id!=="all"&&(Z[oe.id]={count:0,totalViews:0,lastUpdated:null,tags:new Set,commonKeywords:new Map})}),_.forEach(oe=>{const ve=oe.category;if(ve&&Z[ve]){if(Z[ve].count++,oe.tags&&Array.isArray(oe.tags)&&oe.tags.forEach(He=>Z[ve].tags.add(He)),oe.updatedAt){const He=new Date(oe.updatedAt);(!Z[ve].lastUpdated||He>new Date(Z[ve].lastUpdated))&&(Z[ve].lastUpdated=oe.updatedAt)}`${oe.title} ${oe.summary||""} ${oe.content?.pt1||""} ${oe.content?.pt2||""}`.toLowerCase().split(/\W+/).forEach(He=>{He.length>3&&Z[ve].commonKeywords.set(He,(Z[ve].commonKeywords.get(He)||0)+1)})}}),Object.keys(Z).forEach(oe=>{Z[oe].tags=Array.from(Z[oe].tags),Z[oe].commonKeywords=Array.from(Z[oe].commonKeywords.entries()).sort((ve,Ae)=>Ae[1]-ve[1]).slice(0,5).map(([ve,Ae])=>({word:ve,count:Ae}))}),Z},[ee]);x.useEffect(()=>{if(R.length>0&&ee.length>0){const _=be(R);H(_)}},[R,ee,be]);const Q=({category:_})=>{if(_==="all"||!ye[_])return null;const Z=ye[_],oe=ee.find(ve=>ve.id===_);return t.jsxs("div",{className:"category-insights",children:[t.jsxs("div",{className:"insights-header",children:[t.jsx("span",{className:"category-icon",children:oe?.icon||"📊"}),t.jsxs("h3",{children:[oe?.name||_," Insights"]})]}),t.jsxs("div",{className:"insights-grid",children:[t.jsxs("div",{className:"insight-card",children:[t.jsx("div",{className:"insight-icon",children:"📚"}),t.jsx("div",{className:"insight-value",children:Z.count}),t.jsx("div",{className:"insight-label",children:"Total Rebuttals"})]}),t.jsxs("div",{className:"insight-card",children:[t.jsx("div",{className:"insight-icon",children:"🏷️"}),t.jsx("div",{className:"insight-value",children:Z.tags.length}),t.jsx("div",{className:"insight-label",children:"Unique Tags"})]}),t.jsxs("div",{className:"insight-card",children:[t.jsx("div",{className:"insight-icon",children:"🔄"}),t.jsx("div",{className:"insight-value",children:Z.lastUpdated?new Date(Z.lastUpdated.seconds*1e3).toLocaleDateString():"N/A"}),t.jsx("div",{className:"insight-label",children:"Last Updated"})]})]}),Z.tags.length>0&&t.jsxs("div",{className:"insights-tags",children:[t.jsx("h4",{children:"Common Tags"}),t.jsx("div",{className:"tag-cloud",children:Z.tags.map(ve=>t.jsx("span",{className:"tag",children:ve},ve))})]}),Z.commonKeywords.length>0&&t.jsxs("div",{className:"insights-keywords",children:[t.jsx("h4",{children:"Common Keywords"}),t.jsx("div",{className:"keyword-list",children:Z.commonKeywords.map(({word:ve,count:Ae})=>t.jsxs("div",{className:"keyword-item",children:[t.jsx("span",{className:"keyword",children:ve}),t.jsx("span",{className:"count",children:Ae})]},ve))})]})]})};return t.jsxs("div",{className:"library-container",children:[t.jsx(gh,{title:"Rebuttal Library",subtitle:"Access and manage your collection of rebuttals"}),t.jsx("div",{className:"library-content",children:U?t.jsxs("div",{className:"library-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading rebuttals..."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"library-header",children:[t.jsx("h1",{className:"library-title",children:"Call Center Rebuttals"}),t.jsx("div",{className:"header-navigation",children:t.jsxs("div",{className:"quick-nav",children:[t.jsxs("button",{onClick:()=>e("home"),className:"nav-button home-button",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),t.jsxs("button",{onClick:()=>e("rebuttals"),className:`nav-button ${window.location.pathname.includes("rebuttals")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),t.jsxs("button",{onClick:()=>e("disposition"),className:`nav-button ${window.location.pathname.includes("disposition")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 3H15V5H9V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),t.jsxs("button",{onClick:()=>e("customerService"),className:`nav-button ${window.location.pathname.includes("customerService")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]}),t.jsxs("button",{onClick:()=>e("faq"),className:`nav-button ${window.location.pathname.includes("faq")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9.09 9C9.3251 8.33167 9.78915 7.76811 10.4 7.40913C11.0108 7.05016 11.7289 6.91894 12.4272 7.03871C13.1255 7.15849 13.7588 7.52152 14.2151 8.06353C14.6713 8.60553 14.9211 9.30197 14.92 10.02C14.92 12 11.92 13 11.92 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 17H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"FAQ"]}),t.jsxs("button",{onClick:()=>e("scheduleScript"),className:`nav-button ${window.location.pathname.includes("scheduleScript")?"active":""}`,children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8 2V6M16 2V6M3 10H21M5 4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Schedule Script"]})]})})]}),t.jsxs("div",{className:"search-container",children:[t.jsx(Os,{value:u,onChange:S,onClear:()=>{p(""),P(!1),k([])},placeholder:"Search rebuttals...",onKeyDown:b}),L&&A.length>0&&t.jsx("div",{className:"search-suggestions-dropdown",children:A.map((_,Z)=>t.jsxs("div",{className:`suggestion-item ${Z===O?"selected":""}`,onClick:()=>F(_),children:[t.jsx("span",{className:"suggestion-icon",children:_.icon||"💬"}),t.jsxs("div",{className:"suggestion-content",children:[t.jsx("h4",{children:_.title}),t.jsx("p",{children:_.description})]})]},_.id))}),u&&t.jsxs("div",{className:"search-results-count",children:[M.length," result",M.length!==1?"s":""," found"]})]}),t.jsxs("div",{className:"library-layout",children:[t.jsxs("div",{className:"library-sidebar",children:[t.jsx("h2",{className:"library-sidebar-title",children:"Categories"}),t.jsx("div",{className:"library-categories",children:ee.map(_=>t.jsxs("button",{onClick:()=>{i(_.id)},className:`library-category-button ${o===_.id?"active":""} ${_.color}`,children:[t.jsx("span",{className:"category-icon",children:_.icon}),t.jsx("span",{className:"category-name",children:_.name})]},_.id))})]}),t.jsxs("div",{className:"library-main",children:[o!=="all"&&t.jsx(Q,{category:o}),u.toLowerCase()==="common objections"&&t.jsxs("div",{className:"common-objections-header",children:[t.jsx("h2",{className:"common-objections-title",children:"Most Common Objections & Smart Tips"}),t.jsxs("div",{className:"smart-tips-container",children:[t.jsxs("div",{className:"smart-tip",children:[t.jsx("span",{className:"tip-icon",children:"💡"}),t.jsx("strong",{children:"Pro Tip:"})," Always acknowledge the customer's concern before presenting your rebuttal"]}),t.jsxs("div",{className:"smart-tip",children:[t.jsx("span",{className:"tip-icon",children:"🎯"}),t.jsx("strong",{children:"Script Strategy:"})," Use Part 1 first, then escalate to Part 2 if needed"]}),t.jsxs("div",{className:"smart-tip",children:[t.jsx("span",{className:"tip-icon",children:"⚡"}),t.jsx("strong",{children:"Quick Response:"})," These 5 objections cover 80% of customer concerns"]})]})]}),M.length===0?t.jsxs("div",{className:"no-rebuttals-message",children:[t.jsx("p",{children:"No rebuttals found in this category."}),t.jsxs("p",{className:"debug-info",children:["Selected Category: ",o]}),t.jsxs("p",{className:"debug-info",children:["Total Rebuttals: ",R.length]}),t.jsxs("p",{className:"debug-info",children:["Available Categories: ",R.map(_=>_.category).filter((_,Z,oe)=>oe.indexOf(_)===Z).join(", ")]})]}):M.map(_=>t.jsx("div",{className:"library-rebuttal-card",onClick:()=>ne(_),children:t.jsx("div",{className:"library-rebuttal-content",children:t.jsxs("div",{className:"library-rebuttal-info",children:[t.jsx("h3",{className:"library-rebuttal-title",children:_.title}),t.jsx("p",{className:"library-rebuttal-summary",children:_.summary}),t.jsx("div",{className:"library-rebuttal-tags",children:_.tags.map(Z=>t.jsx("span",{className:"library-rebuttal-tag",children:Z},Z))})]})})},_.id))]})]})]})}),f&&l&&t.jsx("div",{className:"modal-overlay",onClick:le,children:t.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-header-content",children:t.jsx("h2",{className:"modal-title",children:l.title})}),t.jsx("button",{onClick:le,className:"modal-close-button",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"modal-tags",children:l.tags&&l.tags.map(_=>t.jsxs("span",{className:"modal-tag",children:["#",_]},_))}),t.jsx("div",{className:"modal-summary",children:t.jsx("p",{className:"modal-summary-text",children:l.situationOverview||l.summary||l.objection||"No situation overview available."})}),t.jsx("div",{className:"modal-rebuttal-content",children:Se(l.content||l.response)}),t.jsxs("div",{className:"modal-tips",children:[t.jsx("div",{className:"modal-section-header",children:t.jsx("h3",{children:"Pro Tips & Best Practices"})}),t.jsx("div",{className:"tips-grid",children:(l.tips&&l.tips.length>0?l.tips:Yj).map((_,Z)=>t.jsxs("div",{className:"tip-card",children:[t.jsxs("div",{className:"tip-card-header",children:[t.jsx("span",{className:"tip-icon",children:["🎯","💡","⚡","✨","🌟"][Z]||"💡"}),t.jsxs("span",{className:"tip-number",children:["Tip ",Z+1]})]}),t.jsx("div",{className:"tip-content",children:t.jsx("p",{className:"tip-text",children:_})})]},Z))}),(!l.tips||l.tips.length===0)&&t.jsxs("div",{className:"default-tips-note",children:[t.jsx("span",{className:"default-tips-icon",children:"ℹ️"}),t.jsxs("div",{className:"default-tips-content",children:[t.jsx("p",{className:"default-tips-title",children:"General Best Practices"}),t.jsx("p",{className:"default-tips-text",children:"These are general best practice tips. Consider adding specific tips for this rebuttal."})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("div",{className:"modal-footer-note",children:"💡 Pro Tip: Start with the Initial Response. If customer still objects, use the Follow-up Response"}),t.jsx("button",{onClick:le,className:"modal-close-footer-button",children:"Close"})]})]})})]})},Kj=`
.category-insights {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.insights-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.insights-header h3 {
  margin: 0;
  font-size: 1.2rem;
  color: #333;
}

.insights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
  margin-bottom: 20px;
}

.insight-card {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
  text-align: center;
}

.insight-icon {
  font-size: 1.5rem;
  margin-bottom: 8px;
}

.insight-value {
  font-size: 1.5rem;
  font-weight: bold;
  color: #2c3e50;
  margin-bottom: 4px;
}

.insight-label {
  font-size: 0.9rem;
  color: #666;
}

.insights-tags, .insights-keywords {
  margin-top: 24px;
  background: #f8f9fa;
  border-radius: 12px;
  padding: 20px;
}

.insights-tags h4, .insights-keywords h4 {
  margin: 0 0 16px 0;
  font-size: 1.1rem;
  color: #2c3e50;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.insights-tags h4::before {
  content: '🏷️';
}

.insights-keywords h4::before {
  content: '🔍';
}

.tag-cloud {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.tag {
  background: #e3f2fd;
  color: #1976d2;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  transition: all 0.2s ease;
  border: 1px solid #bbdefb;
}

.tag:hover {
  background: #bbdefb;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.keyword-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.keyword-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 16px;
  background: white;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
  transition: all 0.2s ease;
}

.keyword-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.keyword {
  font-weight: 500;
  color: #2c3e50;
  font-size: 0.95rem;
}

.count {
  background: #e3f2fd;
  color: #1976d2;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 0.85rem;
  font-weight: 600;
  min-width: 32px;
  text-align: center;
}

.modal-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
}

.modal-tag {
  background: #e3f2fd;
  color: #1976d2;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  border: 1px solid #bbdefb;
  transition: all 0.2s ease;
}

.modal-tag:hover {
  background: #bbdefb;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.modal-summary {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.modal-section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 2px solid #e3f2fd;
}

.modal-section-header svg {
  color: #1976d2;
}

.modal-section-header h3 {
  margin: 0;
  font-size: 1.2rem;
  color: #2c3e50;
  font-weight: 600;
}

.modal-summary-text {
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin: 0;
  padding: 0 4px;
}

.modal-rebuttal-content {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.rebuttal-content-sections {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.rebuttal-section {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
  border: 1px solid #e0e0e0;
}

.rebuttal-section-title {
  color: #1976d2;
  font-size: 1.1rem;
  font-weight: 600;
  margin: 0 0 12px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.modal-content-text {
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin: 0;
}

.modal-tips {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.tip-card {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
  border: 1px solid #e0e0e0;
  transition: all 0.2s ease;
}

.tip-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.tip-card-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.tip-icon-wrapper {
  background: #e3f2fd;
  color: #1976d2;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
}

.tip-number {
  font-weight: 600;
  color: #2c3e50;
}

.tip-text {
  margin: 0;
  color: #333;
  line-height: 1.5;
}

.modal-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 0;
  border-top: 1px solid #e0e0e0;
  margin-top: 24px;
}

.modal-footer-note {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #666;
  font-size: 0.9rem;
}

.modal-close-footer-button {
  background: #1976d2;
  color: white;
  border: none;
  padding: 8px 20px;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.modal-close-footer-button:hover {
  background: #1565c0;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
`,xv=document.createElement("style");xv.innerText=Kj;document.head.appendChild(xv);const wv=x.createContext();function Ll(){return x.useContext(wv)}function Zj({children:e}){const[r,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(null);x.useEffect(()=>{const g=async()=>{try{console.log("🔍 AuthContext: Starting Firebase initialization..."),await ch(),console.log("🔍 AuthContext: Firebase initialized, setting up auth listener...");const w=localStorage.getItem("adminUser");return console.log("🔍 AuthContext: Stored admin user:",w?JSON.parse(w):"None"),v1(tt,async A=>{if(console.log("🔍 AuthContext: Auth state changed:",A?`User logged in (${A.email})`:"No user"),console.log("🔍 AuthContext: User details:",A?{uid:A.uid,email:A.email,emailVerified:A.emailVerified,displayName:A.displayName}:"No user"),A)console.log("🔍 AuthContext: User authenticated via Firebase Auth"),o(A),l(!1);else{if(w){console.log("🔍 AuthContext: No Firebase Auth user, but found stored admin user"),console.log("🔍 AuthContext: Attempting to restore session from localStorage");try{const k=JSON.parse(w);console.log("🔍 AuthContext: Restoring user from localStorage:",k.email),o({uid:k.uid,email:k.email,displayName:k.displayName,emailVerified:k.emailVerified||!1,fromLocalStorage:!0})}catch(k){console.error("🔍 AuthContext: Error parsing stored user:",k),localStorage.removeItem("adminUser"),o(null)}}else console.log("🔍 AuthContext: No user found in Firebase Auth or localStorage - this is normal for new users"),o(null);l(!1)}},A=>{console.error("🔍 AuthContext: Auth state change error:",A),u(A),l(!1)})}catch(w){console.error("🔍 AuthContext: Firebase initialization error:",w),console.log("🔍 AuthContext: Continuing without Firebase authentication"),o(null),l(!1)}},v=setTimeout(()=>{i&&(console.log("🔍 AuthContext: Initialization timeout, continuing without Firebase"),l(!1))},3e3);return g(),()=>clearTimeout(v)},[]);const y={currentUser:r,loading:i,error:d,logout:()=>{o(null),localStorage.removeItem("adminUser")},attemptSessionRestoration:async g=>{try{return console.log("🔍 AuthContext: Attempting to restore Firebase Auth session..."),console.log("🔍 AuthContext: Using localStorage for session persistence"),!0}catch(v){return console.error("🔍 AuthContext: Session restoration failed:",v),!1}}};return i?t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[t.jsx("div",{children:"Loading application..."}),t.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:"Please wait while we initialize the application"})]}):t.jsx(wv.Provider,{value:y,children:e})}const ho=[{id:1,name:"Set Lead",category:"scheduled",description:"Lead has been set and scheduled for an appointment. This is a confirmed appointment where the customer has agreed to meet with a sales representative.",icon:"✅",color:"green",nextSteps:"Confirm appointment details and prepare for visit",tips:["Verify appointment time and date","Confirm customer contact information","Prepare necessary materials","Review customer history","Check for any special requirements"],examples:["Customer agreed to meet on Tuesday at 2 PM","Appointment confirmed for Saturday morning","Customer scheduled for evening consultation"],subcategories:["New Appointment","Rescheduled Appointment","Follow-up Appointment"]},{id:2,name:"Busy",category:"scheduled",description:"Customer is currently too busy to meet but has expressed interest in scheduling for a later time. This indicates potential interest but requires follow-up.",icon:"⏰",color:"yellow",nextSteps:"Schedule follow-up call in 1-2 weeks",tips:["Ask for specific timeframe when they might be available","Note their preferred contact times","Document their current busy period","Suggest alternative meeting times","Offer flexible scheduling options"],examples:["Customer in middle of home renovation","Customer traveling for next two weeks","Customer has family visiting"],subcategories:["Temporarily Busy","Seasonal Busy","Work Schedule Conflict"]},{id:3,name:"Call Back",category:"scheduled",description:"Customer has requested a callback at a specific time. This is a direct request for follow-up communication.",icon:"📞",color:"blue",nextSteps:"Schedule callback within 24-48 hours",tips:["Get specific time preference","Confirm phone number","Note reason for callback","Set reminder for callback time","Prepare relevant information for callback"],examples:["Customer will be home after 6 PM","Customer needs to check schedule first","Customer requested weekend callback"],subcategories:["Time-Specific Callback","Information Gathering Callback","Decision Maker Callback"]},{id:4,name:"Closing Home Soon",category:"scheduled",description:"Customer is in the process of closing on their new home and wants to schedule after the closing is complete. This indicates high potential as they are actively in the home buying process.",icon:"🏡",color:"orange",nextSteps:"Follow up after closing date",tips:["Get expected closing date","Set reminder for post-closing contact","Document new home details","Prepare post-closing follow-up plan","Note any specific requirements for new home"],examples:["Closing scheduled for next month","Waiting for final loan approval","Home inspection pending"],subcategories:["Pending Closing","Post-Closing Follow-up","New Home Owner"]},{id:5,name:"Speak to Spouse",category:"scheduled",description:"Customer needs to consult with their spouse or partner before making a decision. This is common for major home improvement decisions.",icon:"💑",color:"pink",nextSteps:"Follow up in 24-48 hours",tips:["Encourage scheduling when both can attend","Offer evening/weekend times","Prepare information for both decision makers","Document spouse's availability","Note any specific concerns to address"],examples:["Spouse out of town until weekend","Need to discuss budget together","Waiting for partner's input on style"],subcategories:["Joint Decision Required","Spouse Consultation","Family Decision"]},{id:6,name:"Not Set",category:"scheduled",description:"Initial contact made but no appointment set. This requires follow-up with a different approach or timing.",icon:"🔄",color:"gray",nextSteps:"Standard follow-up protocol",tips:["Note reason for no appointment","Try different approach next call","Document best contact times","Identify potential objections","Plan alternative presentation"],examples:["Customer needs to think about it","Timing not right","Need more information"],subcategories:["Initial Contact","Pending Decision","Information Gathering"]},{id:7,name:"Cancelled",category:"cancelled",description:"Appointment was cancelled",icon:"🚫",color:"red",nextSteps:"Document cancellation reason and reschedule if possible",tips:["Record cancellation reason","Offer alternative dates","Update scheduling system"]},{id:8,name:"Rescheduled",category:"rescheduled",description:"Appointment has been rescheduled",icon:"🔄",color:"orange",nextSteps:"Confirm new appointment details",tips:["Verify new date and time","Update all systems","Send confirmation to customer"]},{id:9,name:"Gov/Free",category:"not-qualified",description:"Only interested in free products/government aid",icon:"🏛️",color:"cyan",nextSteps:"Mark as not qualified",tips:["Explain our services are not government funded","Offer information about financing options"]},{id:10,name:"No Interest/Time",category:"not-qualified",description:"Not interested or too busy",icon:"❌",color:"red",nextSteps:"Mark as not interested, possible future contact",tips:["Try to understand their specific concerns","Leave door open for future needs"]},{id:11,name:"One Leg",category:"not-qualified",description:"Refuses to involve spouse or decision-maker",icon:"👤",color:"indigo",nextSteps:"Attempt spouse inclusion or mark not qualified",tips:["Explain importance of joint decisions","Offer to speak with both parties"]},{id:12,name:"Price Over Phone",category:"not-qualified",description:"Wants a ballpark price only",icon:"💰",color:"green",nextSteps:"Explain need for in-home estimate",tips:["Emphasize accuracy of in-person quote","Mention free consultation value"]},{id:13,name:"Repair Only",category:"not-qualified",description:"Customer is only interested in repair services or tub liner installation, not a full replacement. This may indicate a need for education about full replacement benefits.",icon:"🔧",color:"brown",nextSteps:"Explain full replacement benefits or refer to repair services",tips:["Compare repair vs replacement costs","Highlight long-term value","Address common misconceptions","Provide repair service information","Document repair requirements"],examples:["Only wants to fix current issues","Budget constraints","Temporary solution needed"],subcategories:["Repair Service","Tub Liner","Partial Solution"]},{id:14,name:"Unqualified",category:"not-qualified",description:"Lead does not meet basic qualification criteria for our services. This could be due to various factors such as location, property type, or budget constraints.",icon:"🚫",color:"red",nextSteps:"Mark as unqualified, no further contact",tips:["Document reason for disqualification","Ensure proper categorization","Note any potential future qualification","Update CRM records","Remove from active leads"],examples:["Outside service area","Property type not suitable","Budget below minimum threshold"],subcategories:["Location Unqualified","Property Unqualified","Budget Unqualified"]},{id:15,name:"Already Completed",category:"not-qualified",description:"Customer has already completed the project with another provider or has no need for our services.",icon:"✅",color:"green",nextSteps:"Remove from active leads",tips:["Confirm completion details","Ask about other potential projects","Document competitor information","Note any future needs","Update customer status"],examples:["Project completed last month","Using different solution","No longer interested"],subcategories:["Project Completed","Alternative Solution","No Longer Interested"]},{id:16,name:"Commercial",category:"not-qualified",description:"Lead is for a commercial property or church, which may require different services or pricing structures.",icon:"🏢",color:"blue",nextSteps:"Refer to commercial division if available",tips:["Confirm property type","Get decision maker contact info","Document commercial requirements","Note any special considerations","Prepare commercial service information"],examples:["Church property","Office building","Retail location"],subcategories:["Religious Property","Business Property","Institutional Property"]},{id:17,name:"DNC",category:"not-qualified",description:"Customer has requested to be placed on the Do Not Call list. This must be respected immediately and documented properly.",icon:"🔇",color:"red",nextSteps:"Add to do not call list immediately",tips:["Respect request immediately","Update all systems accordingly","Document DNC request","Remove from all marketing lists","Note reason if provided"],examples:["Explicit DNC request","Legal requirement","Customer preference"],subcategories:["Explicit DNC","Legal DNC","Temporary DNC"]},{id:18,name:"Insurance",category:"external",description:"Customer has an open insurance claim that needs to be resolved before proceeding with our services.",icon:"🛡️",color:"blue",nextSteps:"Follow up after claim resolution",tips:["Get claim timeline","Offer to work with insurance if applicable","Document claim details","Note insurance company information","Prepare insurance-related materials"],examples:["Water damage claim","Property damage claim","Insurance inspection pending"],subcategories:["Active Claim","Pending Approval","Claim Resolution"]},{id:19,name:"Job Inquiry",category:"not-qualified",description:"Looking for work, not a lead",icon:"💼",color:"purple",nextSteps:"Refer to HR or mark as not qualified",tips:["Direct to appropriate department","Be polite but clear about purpose"]},{id:20,name:"Language Barrier",category:"technical",description:"Unable to communicate",icon:"🗣️",color:"orange",nextSteps:"Attempt translator or bilingual rep",tips:["Try scheduling bilingual representative","Use translation services if available"]},{id:21,name:"Did Not Submit",category:"not-qualified",description:"Claims they didn't request info",icon:"❓",color:"yellow",nextSteps:"Verify lead source and remove if confirmed",tips:["Explain where info came from","Apologize and remove if legitimate"]},{id:22,name:"Out of Area",category:"not-qualified",description:"Outside our market",icon:"📍",color:"red",nextSteps:"Confirm location and mark not serviceable",tips:["Verify exact address","Apologize and explain service area"]},{id:23,name:"Out of Scope",category:"not-qualified",description:"Mobile home or similar we can't service",icon:"🏕️",color:"brown",nextSteps:"Explain service limitations",tips:["Clarify property type","Refer to specialists if possible"]},{id:24,name:"Renter",category:"not-qualified",description:"Can't give landlord info",icon:"🏠",color:"gray",nextSteps:"Attempt to get landlord contact or mark not qualified",tips:["Explain need for owner permission","Offer to contact landlord directly"]},{id:25,name:"Wrong Number",category:"technical",description:"Lead confirmed number is incorrect",icon:"📞",color:"red",nextSteps:"Update contact info or mark as bad lead",tips:["Try to get correct number","Verify lead source accuracy"]}],Nn="dispositions",Nr=()=>{if(!je())throw new Error("Firebase is not properly initialized. Please check your Firebase configuration.")},Dd=()=>{if(!tt.currentUser)throw new Error("User must be authenticated to perform this action");return tt.currentUser},mo={getAllDispositions:async()=>{try{Nr();const e=Ze(Me(je(),Nn),It("createdAt","desc")),r=await Oe(e);return r.empty?(console.log("No dispositions found, initializing defaults..."),await mo.initializeDefaultDispositions(),(await Oe(e)).docs.map(i=>({id:i.id,...i.data()}))):r.docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error("Error fetching dispositions:",e),e}},getDispositionsByCategory:async e=>{try{Nr(),console.log(`Fetching dispositions for category: ${e}`);const r=Ze(Me(je(),Nn),Fn("category","==",e),It("createdAt","desc")),i=(await Oe(r)).docs.map(l=>({id:l.id,...l.data()}));return console.log(`Successfully fetched ${i.length} dispositions for category ${e}`),i}catch(r){throw console.error("Error fetching dispositions by category:",r),r}},searchDispositions:async e=>{try{Nr(),console.log("Searching dispositions...");const r=Ze(Me(je(),Nn),It("createdAt","desc"));return(await Oe(r)).docs.map(l=>({id:l.id,...l.data()})).filter(l=>{const d=e.toLowerCase();return l.name?.toLowerCase().includes(d)||l.description?.toLowerCase().includes(d)||l.category?.toLowerCase().includes(d)||l.nextSteps?.toLowerCase().includes(d)||l.tips?.some(u=>u.toLowerCase().includes(d))})}catch(r){throw console.error("Error searching dispositions:",r),r}},addDisposition:async e=>{try{Nr();const r=Dd();return(await yn(Me(je(),Nn),{...e,createdBy:r.uid,createdAt:Ar(),updatedAt:Ar()})).id}catch(r){throw console.error("Error adding disposition:",r),r}},updateDisposition:async(e,r)=>{try{Nr();const o=Dd(),i=Fe(je(),Nn,e);await sn(i,{...r,updatedBy:o.uid,updatedAt:Ar()})}catch(o){throw console.error("Error updating disposition:",o),o}},deleteDisposition:async e=>{try{Nr(),Dd();const r=Fe(je(),Nn,e);await vn(r)}catch(r){throw console.error("Error deleting disposition:",r),r}},debugListDispositions:async()=>{try{console.log("Debug: Listing all dispositions...");const e=Ze(Me(je(),Nn)),r=await Oe(e);return console.log(`Debug: Found ${r.size} dispositions in database:`),r.docs.forEach(o=>{console.log(`- ${o.data().name} (${o.data().category})`)}),r.docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error("Debug: Error listing dispositions:",e),e}},initializeDefaultDispositions:async()=>{try{if(console.log("Starting to initialize default dispositions..."),Nr(),!tt.currentUser)throw new Error("User must be authenticated to initialize dispositions");const r=await Oe(Me(je(),Nn));if(console.log(`Found ${r.size} existing dispositions`),r.size>0){console.log("Deleting existing dispositions...");const i=Vn(je());r.docs.forEach(l=>{i.delete(l.ref)}),await i.commit(),console.log("Successfully deleted existing dispositions")}console.log("Adding all default dispositions...");const o=Vn(je());return ho.forEach(i=>{const l=Fe(Me(je(),Nn));o.set(l,{...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),await o.commit(),console.log(`Successfully added ${ho.length} default dispositions`),ho.length}catch(e){throw console.error("Error initializing default dispositions:",e),e}},forceReinitializeDispositions:async()=>{try{if(console.log("Force reinitializing all dispositions..."),Nr(),!tt.currentUser)throw new Error("User must be authenticated to initialize dispositions");const r=Ze(Me(je(),Nn)),o=await Oe(r);if(console.log(`Found ${o.size} existing dispositions to delete`),o.size>0){const u=Vn(je());o.docs.forEach(p=>{u.delete(p.ref)}),await u.commit(),console.log("Successfully deleted all existing dispositions")}console.log("Adding all dispositions from dispositions.js...");const i=Vn(je());ho.forEach(u=>{const p=Fe(Me(je(),Nn));i.set(p,{...u,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),await i.commit(),console.log(`Successfully added ${ho.length} dispositions`);const l=Ze(Me(je(),Nn)),d=await Oe(l);return console.log(`Verification: Found ${d.size} dispositions in database`),d.size}catch(e){throw console.error("Error force reinitializing dispositions:",e),e}},getDispositionCategories:async()=>{try{Nr();const e=Ze(Me(je(),Nn)),r=await Oe(e),o=new Set;r.docs.forEach(l=>{const d=l.data().category;d&&o.add(d)});const i=Array.from(o).map(l=>{const d=ho.find(u=>u.category===l);return{id:l,name:l.split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "),icon:d?.icon||"📋",color:d?.color||"gray"}});return[{id:"all",name:"All Categories",icon:"📋",color:"gray"},...i]}catch(e){throw console.error("Error fetching disposition categories:",e),e}}},Jj=["Listen actively and acknowledge the customer's concerns","Stay calm and professional throughout the conversation","Use positive language and focus on solutions","Be prepared with relevant information and examples","Follow up appropriately if needed"],jv=({collapsed:e,onCollapseChange:r})=>{const[o,i]=x.useState([]),[l,d]=x.useState(null),[u,p]=x.useState(!1),[f,y]=x.useState(null),[g,v]=x.useState(!1),[w,T]=x.useState(!0),[A,k]=x.useState(e||!1),[L,P]=x.useState(!0);x.useEffect(()=>{typeof e=="boolean"&&k(e)},[e]),x.useEffect(()=>{(u||g)&&A&&(k(!1),r&&r(!1))},[u,g,A,r]),x.useEffect(()=>{(async()=>{T(!0);const U=await rs.getAllCategories(),J=await xl.getAllRebuttals(),ee=U.map(ae=>{const ye=J.filter(H=>{const ue=H.category||"",te=ae.name||"",xe=ae.id||"";return ue===te||ue===xe||ue.toLowerCase()===te.toLowerCase()});return{id:ae.id,name:ae.name,description:ae.description||"",icon:ae.icon||"📋",color:ae.color||"#808080",items:ye.map(H=>{let ue={pt1:"",pt2:""};return typeof H.content=="string"?ue.pt1=H.content:H.content&&typeof H.content=="object"?ue={pt1:H.content.pt1||H.content.initial||H.content.part1||"",pt2:H.content.pt2||H.content.followup||H.content.part2||""}:typeof H.response=="string"?ue.pt1=H.response:H.response&&typeof H.response=="object"&&(ue={pt1:H.response.pt1||H.response.initial||H.response.part1||"",pt2:H.response.pt2||H.response.followup||H.response.part2||""}),ue.pt1||(ue.pt1=H.objection||""),{id:H.id,title:H.title,description:H.description||H.objection||H.summary||"",category:ae.id,content:ue,steps:H.steps||["Listen to customer concerns","Address specific needs","Present solution","Follow up as needed"],tips:H.tips||["Be professional and courteous","Focus on customer needs","Provide clear information"],tags:H.tags||[],situationOverview:H.situationOverview||"",summary:H.summary||"",objection:H.objection||"",situations:H.situations||[]}})}});i(ee),T(!1)})()},[]);const O=$=>{y($),v(!0),p(!1),A&&(k(!1),r&&r(!1))},N=()=>{p(!1),d(null)},R=()=>{v(!1),y(null)};return t.jsxs(t.Fragment,{children:[u&&l&&t.jsx("div",{className:"modal-overlay",onClick:N,children:t.jsxs("div",{className:"modal-content",onClick:$=>$.stopPropagation(),style:{maxWidth:400,width:"95%"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-header-content",children:t.jsxs("h2",{className:"modal-title",children:[l.name," Rebuttals"]})}),t.jsx("button",{onClick:N,className:"modal-close-button",children:"×"})]}),t.jsx("div",{className:"modal-body",children:l.items.length===0?t.jsx("div",{style:{color:"#888",fontSize:14},children:"No rebuttals in this category."}):l.items.map($=>t.jsx("div",{className:"library-rebuttal-card",style:{cursor:"pointer",marginBottom:8,background:"#fff",borderRadius:6,boxShadow:"0 1px 3px rgba(0,0,0,0.04)",padding:8},onClick:()=>O($),children:t.jsx("div",{className:"library-rebuttal-content",children:t.jsxs("div",{className:"library-rebuttal-info",children:[t.jsx("h4",{className:"library-rebuttal-title",style:{fontSize:15,margin:0},children:$.title}),t.jsx("p",{className:"library-rebuttal-summary",style:{fontSize:13,color:"#666",margin:0},children:$.summary})]})})},$.id))})]})}),g&&f&&t.jsx("div",{className:"modal-overlay",onClick:R,children:t.jsxs("div",{className:"modal-content",onClick:$=>$.stopPropagation(),style:{maxWidth:480,width:"95%"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"modal-header-content",children:t.jsx("h2",{className:"modal-title",children:f.title})}),t.jsx("button",{onClick:R,className:"modal-close-button",children:"×"})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"modal-tags",children:f.tags&&f.tags.map($=>t.jsxs("span",{className:"modal-tag",children:["#",$]},$))}),t.jsx("div",{className:"modal-summary",children:t.jsx("p",{className:"modal-summary-text",children:f.situationOverview||f.summary||f.objection||"No situation overview available."})}),t.jsx("div",{className:"modal-rebuttal-content",children:f.content&&t.jsxs(t.Fragment,{children:[f.content.pt1&&t.jsxs("div",{style:{marginBottom:8},children:[t.jsx("b",{children:"Initial Response:"})," ",f.content.pt1]}),f.content.pt2&&t.jsxs("div",{children:[t.jsx("b",{children:"Follow-up Response:"})," ",f.content.pt2]})]})}),t.jsxs("div",{className:"modal-tips",children:[t.jsx("div",{className:"modal-section-header",children:t.jsx("h3",{children:"Pro Tips & Best Practices"})}),t.jsx("div",{className:"tips-grid",children:(f.tips&&f.tips.length>0?f.tips:Jj).map(($,U)=>t.jsxs("div",{className:"tip-card",children:[t.jsxs("div",{className:"tip-card-header",children:[t.jsx("span",{className:"tip-icon",children:["🎯","💡","⚡","✨","🌟"][U]||"💡"}),t.jsxs("span",{className:"tip-number",children:["Tip ",U+1]})]}),t.jsx("div",{className:"tip-content",children:t.jsx("p",{className:"tip-text",children:$})})]},U))}),(!f.tips||f.tips.length===0)&&t.jsxs("div",{className:"default-tips-note",children:[t.jsx("span",{className:"default-tips-icon",children:"ℹ️"}),t.jsxs("div",{className:"default-tips-content",children:[t.jsx("p",{className:"default-tips-title",children:"General Best Practices"}),t.jsx("p",{className:"default-tips-text",children:"These are general best practice tips. Consider adding specific tips for this rebuttal."})]})]})]})]}),f.situations&&f.situations.length>0&&t.jsxs("div",{className:"modal-situations",children:[t.jsxs("div",{className:"modal-section-header",children:[t.jsx("span",{style:{fontSize:18,marginRight:8},children:"🎯"}),t.jsx("h3",{children:"Situations Used"})]}),t.jsx("div",{className:"situations-list",children:f.situations.map(($,U)=>t.jsx("div",{className:"situation-item",children:t.jsxs("div",{className:"situation-content",children:[t.jsx("h4",{className:"situation-title",children:$.title}),t.jsx("p",{className:"situation-description",children:$.description})]})},U))})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("div",{className:"modal-footer-note",children:"💡 Pro Tip: Start with the Initial Response. If customer still objects, use the Follow-up Response"}),t.jsx("button",{onClick:R,className:"modal-close-footer-button",children:"Close"})]})]})})]})},Xj=({disposition:e,onClose:r})=>e?t.jsx("div",{className:"modal-overlay",onClick:r,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("div",{className:"modal-title",children:[t.jsx("span",{className:"modal-icon",children:e.icon}),t.jsx("h2",{children:e.name}),t.jsx("span",{className:"modal-category",children:e.category})]}),t.jsx("button",{className:"modal-close",onClick:r,children:"×"})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"modal-section description-section",children:[t.jsx("h3",{children:"Description"}),t.jsx("p",{className:"expanded-description",children:e.description})]}),t.jsxs("div",{className:"modal-section situations-section",children:[t.jsx("h3",{children:"When to Use This Disposition"}),t.jsx("div",{className:"situations-grid",children:e.situations?e.situations.map((o,i)=>t.jsxs("div",{className:"situation-card",children:[t.jsxs("div",{className:"situation-header",children:[t.jsx("span",{className:"situation-icon",children:"🎯"}),t.jsxs("span",{className:"situation-title",children:["Situation ",i+1]})]}),t.jsx("p",{className:"situation-text",children:o})]},i)):t.jsxs("div",{className:"situation-card",children:[t.jsxs("div",{className:"situation-header",children:[t.jsx("span",{className:"situation-icon",children:"🎯"}),t.jsx("span",{className:"situation-title",children:"Common Situations"})]}),t.jsxs("p",{className:"situation-text",children:[e.name==="Set Lead"&&"Use when a lead has been successfully scheduled for a consultation or appointment.",e.name==="Busy"&&"Use when the lead is currently busy and requests a callback at a later time.",e.name==="Not Set"&&"Use when unable to reach the lead or when the lead is not ready to schedule.",e.name==="Wrong Number"&&"Use when the contact information provided is incorrect or invalid.",e.name==="Not Interested"&&"Use when the lead explicitly states they are not interested in the service.",e.name==="Follow Up"&&"Use when the lead needs more time to consider or requires additional information.",e.name==="Rescheduled"&&"Use when an existing appointment has been moved to a different time.",e.name==="Cancelled"&&"Use when the lead cancels their appointment or consultation.",e.name==="Completed"&&"Use when the service has been successfully delivered to the lead.",e.name==="No Answer"&&"Use when the lead does not answer the call after multiple attempts.",e.name==="Voicemail"&&"Use when the call goes to voicemail and a message is left.",e.name==="Callback Requested"&&"Use when the lead specifically requests a callback at a later time.",e.name==="Qualified"&&"Use when the lead meets all the criteria for the service and is ready to proceed.",e.name==="Not Qualified"&&"Use when the lead does not meet the necessary criteria for the service.",e.name==="Technical Issues"&&"Use when there are technical problems preventing proper communication.",e.name==="External Factors"&&"Use when external circumstances affect the lead's ability to proceed."]})]})})]}),t.jsxs("div",{className:"modal-section next-steps-section",children:[t.jsx("h3",{children:"Next Steps"}),t.jsx("p",{children:e.nextSteps})]}),e.tips&&e.tips.length>0&&t.jsxs("div",{className:"modal-section tips-section",children:[t.jsx("h3",{children:"Tips & Best Practices"}),t.jsx("ul",{className:"enhanced-tips",children:e.tips.map((o,i)=>t.jsxs("li",{children:[t.jsx("span",{className:"tip-icon",children:"💡"}),t.jsx("span",{className:"tip-text",children:o})]},i))})]}),e.examples&&e.examples.length>0&&t.jsxs("div",{className:"modal-section examples-section",children:[t.jsx("h3",{children:"Common Examples"}),t.jsx("div",{className:"examples-grid",children:e.examples.map((o,i)=>t.jsxs("div",{className:"example-card",children:[t.jsxs("div",{className:"example-header",children:[t.jsx("span",{className:"example-icon",children:"📋"}),t.jsxs("span",{className:"example-number",children:["Example ",i+1]})]}),t.jsx("p",{className:"example-text",children:o})]},i))})]}),e.subcategories&&e.subcategories.length>0&&t.jsxs("div",{className:"modal-section subcategories-section",children:[t.jsx("h3",{children:"Subcategories"}),t.jsx("div",{className:"subcategories-grid",children:e.subcategories.map((o,i)=>t.jsxs("div",{className:"subcategory-card",children:[t.jsx("span",{className:"subcategory-icon",children:"🔹"}),t.jsx("span",{className:"subcategory-name",children:o})]},i))})]})]})]})}):null,eb=({onNavigate:e,searchQuery:r})=>{const[o,i]=x.useState("all"),[l,d]=x.useState(null),[u,p]=x.useState(r||""),[f,y]=x.useState(!1),[g,v]=x.useState(!1),[w,T]=x.useState([]),[A,k]=x.useState(!1),[L,P]=x.useState(-1),[O,N]=x.useState([]),[R,$]=x.useState([]),[U,J]=x.useState(!0),[ee,ae]=x.useState(null),[ye,H]=x.useState([]),[ue,te]=x.useState(!1),xe=(b,F)=>{let M;return function(...le){const Se=()=>{clearTimeout(M),b(...le)};clearTimeout(M),M=setTimeout(Se,F)}},Ne=async b=>{if(!b.trim()){T([]);return}try{const F=await mo.searchDispositions(b);T(F)}catch(F){console.error("Error searching dispositions:",F),ae("Failed to search dispositions. Please try again.")}},V=x.useCallback(xe(b=>{Ne(b)},300),[]),Y=b=>{const F=b.target.value;p(F),k(!0),P(-1),V(F)},q=b=>{if(A)switch(b.key){case"ArrowDown":b.preventDefault(),P(F=>F<w.length-1?F+1:F);break;case"ArrowUp":b.preventDefault(),P(F=>F>0?F-1:F);break;case"Enter":b.preventDefault(),L>=0&&L<w.length&&C(w[L]);break;case"Escape":k(!1);break}},C=b=>{p(b.name),k(!1),d(b),y(!0)},E=async()=>{try{J(!0),ae(null),await mo.forceReinitializeDispositions();const b=await mo.getAllDispositions();N(b),$(b)}catch(b){console.error("Error reinitializing dispositions:",b),ae("Failed to reinitialize dispositions. Please try again later.")}finally{J(!1)}};x.useEffect(()=>{(async()=>{try{J(!0),ae(null);const[F,M]=await Promise.all([mo.getAllDispositions(),mo.getDispositionCategories()]);N(F),$(F),H(M)}catch(F){console.error("Error fetching data:",F),ae("Failed to load data. Please try again later.")}finally{J(!1)}})()},[]),x.useEffect(()=>{if(!O)return;let b=O;if(o!=="all"&&(b=b.filter(F=>F.category===o)),u){const F=u.toLowerCase();b=b.filter(M=>M.name.toLowerCase().includes(F)||M.description.toLowerCase().includes(F)||M.nextSteps.toLowerCase().includes(F)||Array.isArray(M.tips)&&M.tips.some(ne=>ne.toLowerCase().includes(F)))}$(b)},[O,u,o]),x.useEffect(()=>{i("all"),p("")},[]);const S=b=>{d(b),y(!0)};return U?t.jsxs("div",{className:"loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading dispositions..."})]}):ee?t.jsxs("div",{className:"error",children:[t.jsx("p",{children:ee}),t.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]}):t.jsxs("div",{children:[t.jsx(gh,{title:"Lead Disposition",subtitle:"Track and manage your lead dispositions"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:`${ue?"56px":"300px"} 1fr`,gap:"2rem",alignItems:"flex-start"},children:[t.jsx(jv,{collapsed:ue,onCollapseChange:te}),t.jsx("div",{className:"disposition-container",children:t.jsxs("div",{className:"disposition-content",children:[t.jsxs("div",{className:"disposition-header",children:[t.jsx("h1",{className:"disposition-title",children:"Lead Disposition Library"}),t.jsx("div",{className:"header-actions",children:t.jsx("button",{onClick:E,className:"reinitialize-button",disabled:U,children:U?"Reinitializing...":"Reinitialize Dispositions"})}),t.jsx("div",{className:"header-navigation",children:t.jsxs("div",{className:"quick-nav",children:[t.jsxs("button",{onClick:()=>e("home"),className:"nav-button home-button",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),t.jsxs("button",{onClick:()=>e("rebuttals"),className:`nav-button ${window.location.pathname.includes("rebuttals")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),t.jsxs("button",{onClick:()=>e("disposition"),className:`nav-button ${window.location.pathname.includes("disposition")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Disposition"]}),t.jsxs("button",{onClick:()=>e("customerService"),className:`nav-button ${window.location.pathname.includes("customerService")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]}),t.jsxs("button",{onClick:()=>e("faq"),className:`nav-button ${window.location.pathname.includes("faq")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9.09 9C9.3251 8.33167 9.78915 7.76811 10.4 7.40913C11.0108 7.05016 11.7289 6.91894 12.4272 7.03871C13.1255 7.15849 13.7588 7.52152 14.2151 8.06353C14.6713 8.60553 14.9211 9.30197 14.92 10.02C14.92 12 11.92 13 11.92 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 17H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"FAQ"]}),t.jsxs("button",{onClick:()=>e("scheduleScript"),className:`nav-button ${window.location.pathname.includes("scheduleScript")?"active":""}`,children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8 2V6M16 2V6M3 10H21M5 4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Schedule Script"]})]})})]}),t.jsxs("div",{className:"search-container",children:[t.jsx(Os,{value:u,onChange:Y,onClear:()=>{p(""),k(!1),T([])},placeholder:"Search lead dispositions...",onKeyDown:q}),A&&w.length>0&&t.jsx("div",{className:"search-suggestions-dropdown",children:w.map((b,F)=>t.jsxs("div",{className:`suggestion-item ${F===L?"selected":""}`,onClick:()=>C(b),children:[t.jsx("span",{className:"suggestion-icon",children:b.icon||"📋"}),t.jsxs("div",{className:"suggestion-content",children:[t.jsx("h4",{children:b.name}),t.jsx("p",{children:b.description})]})]},b.id))}),u&&t.jsxs("div",{className:"search-results-count",children:[R.length," result",R.length!==1?"s":""," found"]})]}),t.jsx("div",{className:"dispositions-grid",children:R.map(b=>t.jsxs("div",{className:`disposition-card ${b.color}`,onClick:()=>S(b),children:[t.jsxs("div",{className:"card-header",children:[t.jsx("span",{className:"card-icon",children:b.icon}),t.jsxs("div",{className:"card-title-container",children:[t.jsx("h2",{className:"card-title",children:b.name}),t.jsx("span",{className:"card-category",children:b.category})]})]}),t.jsxs("div",{className:"card-content",children:[t.jsx("p",{className:"card-description",children:b.description}),t.jsxs("div",{className:"card-preview",children:[t.jsxs("div",{className:"preview-section",children:[t.jsx("h4",{children:"Next Steps"}),t.jsx("p",{children:b.nextSteps})]}),b.tips&&b.tips.length>0&&t.jsxs("div",{className:"preview-section",children:[t.jsx("h4",{children:"Key Tips"}),t.jsxs("ul",{children:[b.tips.slice(0,2).map((F,M)=>t.jsx("li",{children:F},M)),b.tips.length>2&&t.jsxs("li",{className:"more-tips",children:["+",b.tips.length-2," more tips"]})]})]})]}),t.jsx("div",{className:"card-footer",children:t.jsx("span",{className:"click-hint",children:"Click to view full details"})})]})]},b.id))}),R.length===0&&t.jsx("div",{className:"no-results",children:"No dispositions found matching your search criteria."})]})})]}),f&&l&&t.jsx(Xj,{disposition:l,onClose:()=>{d(null),y(!1)}})]})},os="serviceTopics",Su="customerServiceCategories",bv=[{topic:"appointments",title:"Appointment Management",description:"Handle all appointment-related inquiries and requests",steps:["Verify customer information","Check availability","Confirm details","Send confirmation"],tips:["Be flexible with timing","Offer alternatives","Document all changes"],keywords:["appointments","scheduling","management"],isUrgent:!1},{topic:"appointments",title:"Appointment Verification",description:"Verify and validate appointment details",steps:["Check appointment date and time","Verify customer contact information","Confirm service requirements","Review special instructions"],tips:["Double-check all details","Note any special requirements","Update customer records"],keywords:["verification","validation","details"],isUrgent:!1},{topic:"appointments",title:"Appointment Updates",description:"Handle appointment modifications and updates",steps:["Review requested changes","Check new availability","Update appointment details","Notify relevant parties"],tips:["Be prompt with updates","Maintain clear communication","Document all changes"],keywords:["updates","modifications","changes"],isUrgent:!1},{topic:"scheduling",title:"New Appointment Scheduling",description:"Process for scheduling new customer appointments",steps:["Collect customer contact information","Determine service requirements","Find optimal time slot","Confirm appointment details"],tips:["Offer multiple time options","Consider customer preferences","Check technician availability"],keywords:["new appointment","schedule","booking"],isUrgent:!1},{topic:"scheduling",title:"Bulk Scheduling",description:"Handle multiple appointment scheduling requests",steps:["Review all scheduling requests","Group similar appointments","Optimize schedule","Send batch confirmations"],tips:["Prioritize urgent requests","Maintain schedule balance","Consider travel time"],keywords:["bulk","multiple","group scheduling"],isUrgent:!1},{topic:"scheduling",title:"Priority Scheduling",description:"Handle urgent and priority scheduling requests",steps:["Assess urgency level","Check immediate availability","Coordinate with team","Confirm priority booking"],tips:["Respond quickly","Maintain clear communication","Follow up promptly"],keywords:["priority","urgent","immediate"],isUrgent:!0},{topic:"confirmation",title:"Appointment Confirmation",description:"Send and manage appointment confirmations",steps:["Prepare confirmation details","Send confirmation message","Request acknowledgment","Follow up if needed"],tips:["Include all necessary details","Use clear formatting","Provide contact information"],keywords:["confirmation","verify","acknowledge"],isUrgent:!1},{topic:"confirmation",title:"Reminder Notifications",description:"Send appointment reminders to customers",steps:["Schedule reminder timing","Prepare reminder message","Send notification","Track delivery status"],tips:["Send reminders in advance","Use multiple channels","Include cancellation policy"],keywords:["reminder","notification","alert"],isUrgent:!1},{topic:"cancellation",title:"Appointment Cancellation",description:"Process appointment cancellations",steps:["Record cancellation reason","Update schedule","Notify relevant parties","Offer rescheduling options"],tips:["Be understanding","Document cancellation reason","Maintain professional tone"],keywords:["cancellation","cancel","terminate"],isUrgent:!1},{topic:"cancellation",title:"Rescheduling Process",description:"Handle appointment rescheduling requests",steps:["Review rescheduling request","Check new availability","Update appointment details","Send new confirmation"],tips:["Be flexible with timing","Offer multiple options","Maintain clear communication"],keywords:["reschedule","rescheduling","change time"],isUrgent:!1},{topic:"followup",title:"Service Follow-up",description:"Conduct post-service follow-ups",steps:["Review service details","Contact customer","Gather feedback","Address any concerns"],tips:["Follow up promptly","Be attentive to feedback","Document all interactions"],keywords:["follow-up","feedback","service review"],isUrgent:!1},{topic:"followup",title:"Customer Satisfaction",description:"Measure and improve customer satisfaction",steps:["Send satisfaction survey","Analyze responses","Identify areas for improvement","Implement changes"],tips:["Make surveys concise","Act on feedback","Follow up on concerns"],keywords:["satisfaction","feedback","survey"],isUrgent:!1},{topic:"followup",title:"Issue Resolution",description:"Handle post-service issues and complaints",steps:["Listen to concerns","Investigate issue","Propose solution","Follow up on resolution"],tips:["Respond quickly","Be empathetic","Document all actions"],keywords:["issue","complaint","resolution"],isUrgent:!1}],tb=[{title:"Appointment Management",description:"Manage and handle appointment-related inquiries",icon:"📅",keySteps:["Verify appointment details","Check availability","Confirm changes"],quickTips:["Be proactive with scheduling","Offer alternatives when needed"],tags:["appointments","scheduling","management"]},{title:"Scheduling",description:"Handle new appointment scheduling requests",icon:"⏰",keySteps:["Collect customer information","Find suitable time slots","Confirm booking"],quickTips:["Offer multiple options","Consider customer preferences"],tags:["scheduling","booking","appointments"]},{title:"Cancellation",description:"Process appointment cancellations and rescheduling",icon:"❌",keySteps:["Verify cancellation reason","Process cancellation","Offer alternatives"],quickTips:["Be understanding","Offer rescheduling options"],tags:["cancellation","rescheduling","appointments"]},{title:"Confirmation",description:"Handle appointment confirmations and reminders",icon:"✅",keySteps:["Send confirmation details","Verify contact information","Set reminders"],quickTips:["Send reminders in advance","Include all necessary details"],tags:["confirmation","reminders","appointments"]},{title:"Follow-up",description:"Manage post-appointment follow-ups",icon:"📞",keySteps:["Check service satisfaction","Address any concerns","Schedule follow-up if needed"],quickTips:["Be prompt with follow-ups","Address issues proactively"],tags:["follow-up","feedback","service"]}],nb=async()=>{try{console.log("Checking if service topics need initialization...");const e=Ze(Me(je(),os));if((await Oe(e)).empty){console.log("No service topics found. Initializing default topics...");const o=Vn(je());for(const i of bv){const l=Fe(Me(je(),os));o.set(l,{...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}await o.commit(),console.log("Default service topics initialized successfully")}else console.log("Service topics already exist, skipping initialization")}catch(e){throw console.error("Error initializing default service topics:",e),e}},rb=async()=>{try{console.log("Checking if categories need initialization...");const e=Ze(Me(je(),Su));if((await Oe(e)).empty){console.log("No categories found. Initializing default categories...");const o=Vn(je());for(const i of tb){const l=Fe(Me(je(),Su));o.set(l,{...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}await o.commit(),console.log("Default categories initialized successfully")}else console.log("Categories already exist, skipping initialization")}catch(e){throw console.error("Error initializing default categories:",e),e}},kv=async()=>{try{await Is(),console.log("Fetching service topics...");const e=Ze(Me(je(),os)),r=await Oe(e);if(r.empty){console.log("No topics found, initializing default topics..."),await nb();const l=(await Oe(e)).docs.map(d=>({id:d.id,...d.data()}));return console.log(`Successfully fetched ${l.length} service topics`),l}const o=r.docs.map(i=>({id:i.id,...i.data()}));return console.log(`Successfully fetched ${o.length} service topics`),o}catch(e){throw console.error("Error fetching service topics:",e),new Error("Failed to fetch service topics. Please try again.")}},sb=async()=>{try{await Is(),console.log("Fetching urgent service topics...");const e=Ze(Me(je(),os),Fn("isUrgent","==",!0),It("title")),o=(await Oe(e)).docs.map(i=>({id:i.id,...i.data()}));return console.log(`Successfully fetched ${o.length} urgent service topics`),o}catch(e){throw console.error("Error fetching urgent service topics:",e),new Error("Failed to fetch urgent service topics. Please try again.")}},ob=async e=>{try{await Is(),console.log("Adding new service topic...");const r=await yn(Me(je(),os),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return console.log("Service topic added successfully with ID:",r.id),{id:r.id,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(r){throw console.error("Error adding service topic:",r),new Error("Failed to add service topic. Please try again.")}},ib=async(e,r)=>{try{await Is(),console.log("Updating service topic:",e);const o=Fe(je(),os,e);return await sn(o,{...r,updatedAt:new Date().toISOString()}),console.log("Service topic updated successfully"),{id:e,...r,updatedAt:new Date().toISOString()}}catch(o){throw console.error("Error updating service topic:",o),new Error("Failed to update service topic. Please try again.")}},ab=async e=>{try{await Is(),console.log("Deleting service topic:",e);const r=Fe(je(),os,e);return await vn(r),console.log("Service topic deleted successfully"),!0}catch(r){throw console.error("Error deleting service topic:",r),new Error("Failed to delete service topic. Please try again.")}},lb=async()=>{try{await Is(),console.log("Fetching service categories..."),await rb();const e=Ze(Me(je(),Su),It("title")),o=(await Oe(e)).docs.map(i=>({id:i.id,...i.data()}));return console.log(`Successfully fetched ${o.length} categories:`,o),o}catch(e){throw console.error("Error fetching categories:",e),new Error("Failed to fetch categories. Please try again.")}},cb=async()=>{try{await Is();const e=Me(je(),os),r=await Oe(e),o=Vn(je());return r.docs.forEach(i=>{o.delete(i.ref)}),bv.forEach(i=>{const l=Fe(e);o.set(l,{...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),await o.commit(),!0}catch(e){throw console.error("Error resetting service topics:",e),e}},Pd=(e,r)=>{r=r.toLowerCase(),e=e.toLowerCase();let o=0,i=0,l=0;for(;i<e.length&&o<r.length;)r[o]===e[i]&&(l++,o++),i++;return o===r.length?l/r.length:0},db={appointment:["apointment","appoinment","appoitment","apointmnt"],schedule:["scedule","scedual","schedual","scedul"],cancel:["cancell","cancle","cancell","cancle"],reschedule:["rescedule","rescedual","reschedual","rescedul"],confirm:["confrim","conferm","confurm","confrm"],follow:["follw","folow","foll","folow"],up:["up","up","up","up"],management:["managment","mangement","managment","mangmnt"],service:["servise","servis","servic","servis"],customer:["custumer","custmer","custmor","custmr"],help:["helpp","helpe","hel","helpe"],search:["searcgh","serch","searh","serach"],find:["fid","findd","fnd","find"],looking:["lookin","lookng","lookig","lookn"],assist:["asist","assistt","asst","asist"],home:["hom","hoem","hme","hom"],correct:["corrcet","corret","corrct","corret"],spell:["spel","spelll","spl","spel"],word:["wrd","wor","wod","wrd"],make:["mak","maek","mke","mak"],way:["wai","wae","wayy","wai"],more:["moer","mor","mre","moer"],helpful:["helpfull","helpfu","helful","helpfl"],something:["somehting","somthing","somethng","somethig"],wrong:["wron","wrog","wong","wronng"],will:["wil","wll","wil","wll"],try:["try","tri","tryy","try"],auto:["auto","aut","autoo","auto"],options:["aoptiinoin","optins","optons","opions"],bar:["bar","br","bar","br"]},ub={"how to":["how do i","how can i","how do you","how to"],"when can":["when can i","when is","when will","when should"],"where to":["where can i","where do i","where is","where to"],"what is":["whats","what is","what are","what do"],"why do":["why does","why is","why are","why do"],"can i":["can you","is it possible","is there a way","can i"],"need to":["want to","have to","should i","need to"],"looking for":["searching for","trying to find","want to find","looking for"]},hb=({onNavigate:e,searchQuery:r})=>{const[o,i]=x.useState("all"),[l,d]=x.useState(r||""),[u,p]=x.useState(!1),[f,y]=x.useState(null),[g,v]=x.useState([]),[w,T]=x.useState(!1),[A,k]=x.useState(-1),[L,P]=x.useState(!1),[O,N]=x.useState(null),[R,$]=x.useState([]),[U,J]=x.useState(!0),[ee,ae]=x.useState(null),[ye,H]=x.useState([]),[ue,te]=x.useState([]),xe=[{id:"appointments",name:"Appointment Management",icon:"📅",color:"blue",features:["Calendar Integration","Automated Reminders","Conflict Resolution","Appointment History","Rescheduling Options"],description:"Manage your appointments efficiently with our comprehensive scheduling system"},{id:"scheduling",name:"Scheduling",icon:"⏰",color:"green",features:["Real-time Availability","Multiple Time Zones","Recurring Appointments","Buffer Time Settings"],description:"Schedule appointments with ease using our flexible booking system"},{id:"confirmation",name:"Confirmation",icon:"✅",color:"yellow",features:["Email Confirmations","SMS Notifications","Calendar Invites","Reminder Settings"],description:"Keep track of your appointments with automated confirmations"},{id:"cancellation",name:"Cancellation",icon:"❌",color:"red",features:["Cancellation Policy","Rescheduling Options","Waitlist Management","No-show Prevention"],description:"Handle appointment cancellations and rescheduling efficiently"},{id:"followup",name:"Follow-up",icon:"📞",color:"purple",features:["Post-appointment Surveys","Feedback Collection","Follow-up Scheduling","Communication History"],description:"Maintain relationships with automated follow-up systems"}];x.useEffect(()=>{Ne()},[]);const Ne=async()=>{try{J(!0),ae(null),console.log("Loading customer service data...");const Q=await lb();console.log("Loaded categories:",Q),$(Q);const _=await kv();console.log("Loaded service topics:",_),H(_);const Z=await sb();console.log("Loaded urgent topics:",Z),te(Z),console.log("All topics combined:",[..._,...Z])}catch(Q){console.error("Error loading data:",Q),ae("Failed to load data. Please try again.")}finally{J(!1)}},V=[...ye,...ue].map((Q,_)=>({...Q,uniqueId:`${Q.id}-${_}`})),Y=Q=>{const _=Q.toLowerCase();for(const[Z,oe]of Object.entries(db))if(oe.includes(_))return Z;return Q},q=Q=>{let _=Q.toLowerCase();for(const[Z,oe]of Object.entries(ub))for(const ve of oe)_.includes(ve)&&(_=_.replace(ve,Z));return _.split(" ").map(Z=>Y(Z)).join(" ")},C=Q=>{if(!Q.trim())return[];const _=q(Q),Z=[];return V.forEach(oe=>{const ve=Pd(oe.title,_),Ae=Pd(oe.description,_),st=oe.keywords.map(Je=>Pd(Je,_)),He=Math.max(...st),Ve=Math.max(ve,Ae,He);Ve>.3&&Z.push({...oe,relevanceScore:Ve})}),Z.sort((oe,ve)=>ve.relevanceScore-oe.relevanceScore)},E=Q=>{const _=Q.target.value;d(_),T(!0),k(-1);const Z=C(_);v(Z)},S=Q=>{if(w)switch(Q.key){case"ArrowDown":Q.preventDefault(),k(_=>_<g.length-1?_+1:_);break;case"ArrowUp":Q.preventDefault(),k(_=>_>0?_-1:_);break;case"Enter":Q.preventDefault(),A>=0&&A<g.length&&b(g[A]);break;case"Escape":T(!1);break}},b=Q=>{d(Q.title),T(!1),y(Q),p(!0)},F=x.useMemo(()=>{const Q=l.toLowerCase().trim();return V.filter(_=>{const Z=o==="all"||_.topic===o;if(!Q)return Z;const oe=_.title?.toLowerCase().includes(Q)||_.description?.toLowerCase().includes(Q)||_.steps?.some(ve=>ve.toLowerCase().includes(Q))||_.tips?.some(ve=>ve.toLowerCase().includes(Q))||_.keywords?.some(ve=>ve.toLowerCase().includes(Q));return Z&&oe}).sort((_,Z)=>_.title.localeCompare(Z.title))},[V,o,l]),M=Q=>{y(Q),p(!0)},ne=()=>{p(!1),y(null)},le=Q=>{P(!1),d(""),N(Q),p(!0)},Se=(Q,_)=>{},be=()=>o==="appointments"?t.jsxs("div",{className:"appointment-management",children:[t.jsxs("div",{className:"appointment-actions",children:[t.jsx("button",{onClick:()=>Se(),children:"Schedule New"}),t.jsx("button",{onClick:()=>Se(),children:"Reschedule"}),t.jsx("button",{onClick:()=>Se(),children:"Cancel"}),t.jsx("button",{onClick:()=>Se(),children:"Confirm"})]}),t.jsx("div",{className:"appointment-calendar"}),t.jsx("div",{className:"appointment-list"})]}):null;return t.jsxs("div",{className:"customer-service-container",children:[t.jsx(gh,{title:"Customer Service",subtitle:"Manage customer service interactions and support"}),U?t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{className:"loading-text",children:"Loading customer service data..."})]}):ee?t.jsxs("div",{className:"error-container",children:[t.jsxs("div",{className:"error-message",children:[t.jsx("span",{className:"error-icon",children:"⚠️"}),t.jsx("span",{children:ee})]}),t.jsx("button",{className:"retry-button",onClick:Ne,children:"Retry"})]}):t.jsxs("div",{className:"customer-service-content",children:[t.jsxs("div",{className:"customer-service-header",children:[t.jsx("h1",{className:"customer-service-title",children:"Customer Service"}),t.jsx("div",{className:"header-navigation",children:t.jsxs("div",{className:"quick-nav",children:[t.jsxs("button",{onClick:()=>e("home"),className:"nav-button home-button",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),t.jsxs("button",{onClick:()=>e("rebuttals"),className:`nav-button ${window.location.pathname.includes("rebuttals")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),t.jsxs("button",{onClick:()=>e("disposition"),className:`nav-button ${window.location.pathname.includes("disposition")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 3H15V5H9V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),t.jsxs("button",{onClick:()=>e("customerService"),className:`nav-button ${window.location.pathname.includes("customerService")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]}),t.jsxs("button",{onClick:()=>e("faq"),className:`nav-button ${window.location.pathname.includes("faq")?"active":""}`,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9.09 9C9.3251 8.33167 9.78915 7.76811 10.4 7.40913C11.0108 7.05016 11.7289 6.91894 12.4272 7.03871C13.1255 7.15849 13.7588 7.52152 14.2151 8.06353C14.6713 8.60553 14.9211 9.30197 14.92 10.02C14.92 12 11.92 13 11.92 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 17H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"FAQ"]}),t.jsxs("button",{onClick:()=>e("scheduleScript"),className:`nav-button ${window.location.pathname.includes("scheduleScript")?"active":""}`,children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8 2V6M16 2V6M3 10H21M5 4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Schedule Script"]})]})})]}),t.jsxs("div",{className:"search-container",children:[t.jsx(Os,{value:l,onChange:E,onClear:()=>{d(""),T(!1),v([])},placeholder:"Search service topics...",onKeyDown:S}),L&&t.jsxs("div",{className:"quick-actions-dropdown",children:[t.jsxs("div",{className:"quick-actions-header",children:[t.jsx("h3",{children:"Quick Actions"}),t.jsx("p",{children:"Select an urgent rebuttal to handle immediately"})]}),ue.map(Q=>t.jsxs("div",{className:"quick-action-item",onClick:()=>le(Q),children:[t.jsx("span",{className:"quick-action-icon",children:"⚡"}),t.jsxs("div",{className:"quick-action-content",children:[t.jsx("h4",{children:Q.title}),t.jsx("p",{children:Q.description})]})]},Q.id))]}),w&&g.length>0&&t.jsx("div",{className:"search-suggestions-dropdown",id:"search-suggestions",children:g.map((Q,_)=>t.jsxs("div",{id:`suggestion-${_}`,className:`suggestion-item ${_===A?"selected":""}`,onClick:()=>b(Q),role:"option","aria-selected":_===A,children:[t.jsx("span",{className:"suggestion-icon",children:xe.find(Z=>Z.id===Q.topic)?.icon||"📋"}),t.jsxs("div",{className:"suggestion-content",children:[t.jsx("h4",{children:Q.title}),t.jsx("p",{children:Q.description})]})]},Q.uniqueId))}),l&&t.jsxs("div",{className:"search-results-count",children:[F.length," result",F.length!==1?"s":""," found"]})]}),t.jsxs("div",{className:"service-layout",children:[t.jsxs("div",{className:"service-sidebar",children:[t.jsx("h2",{className:"sidebar-title",children:"Service Topics"}),t.jsxs("div",{className:"topic-buttons",children:[t.jsxs("button",{onClick:()=>i("all"),className:`topic-button ${o==="all"?"active":""}`,children:[t.jsx("span",{className:"topic-icon",children:"📋"}),t.jsx("span",{className:"topic-name",children:"All Topics"})]}),xe.map(Q=>t.jsxs("button",{onClick:()=>i(Q.id),className:`topic-button ${o===Q.id?"active":""}`,children:[t.jsx("span",{className:"topic-icon",children:Q.icon}),t.jsx("span",{className:"topic-name",children:Q.name})]},Q.id))]})]}),t.jsx("div",{className:"service-main",children:t.jsx("div",{className:"categories-grid",children:F.length===0?t.jsx("div",{className:"no-data-message",children:t.jsx("p",{children:"No service topics found for the selected category."})}):F.map(Q=>t.jsxs("div",{className:"category-card",onClick:()=>M(Q),children:[t.jsxs("div",{className:"category-header",children:[t.jsx("span",{className:"category-icon",children:xe.find(_=>_.id===Q.topic)?.icon||"📋"}),t.jsx("h3",{children:Q.title})]}),t.jsx("div",{className:"category-description",children:t.jsx("p",{children:Q.description})}),t.jsxs("div",{className:"category-details",children:[t.jsxs("div",{className:"key-steps",children:[t.jsx("h4",{children:"Key Steps"}),t.jsx("ul",{children:Q.steps.slice(0,3).map((_,Z)=>t.jsx("li",{children:_},Z))})]}),t.jsxs("div",{className:"quick-tips",children:[t.jsx("h4",{children:"Quick Tips"}),t.jsx("ul",{children:Q.tips.slice(0,2).map((_,Z)=>t.jsx("li",{children:_},Z))})]})]}),t.jsx("div",{className:"category-tags",children:Q.keywords.map((_,Z)=>t.jsx("span",{className:"category-tag",children:_},Z))})]},Q.uniqueId))})})]})]}),u&&f&&t.jsx("div",{className:"modal-overlay",onClick:ne,children:t.jsxs("div",{className:"modal-content",onClick:Q=>Q.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:f.title}),t.jsx("button",{className:"modal-close",onClick:ne,children:"×"})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"modal-section",children:[t.jsx("h3",{children:"Description"}),t.jsx("p",{children:f.description})]}),t.jsxs("div",{className:"modal-section",children:[t.jsx("h3",{children:"Steps"}),t.jsx("ol",{children:f.steps.map((Q,_)=>t.jsx("li",{children:Q},_))})]}),t.jsxs("div",{className:"modal-section",children:[t.jsx("h3",{children:"Tips"}),t.jsx("ul",{children:f.tips.map((Q,_)=>t.jsx("li",{children:Q},_))})]}),t.jsxs("div",{className:"modal-section",children:[t.jsx("h3",{children:"Related Keywords"}),t.jsx("div",{className:"keyword-tags",children:f.keywords.map((Q,_)=>t.jsx("span",{className:"keyword-tag",children:Q},_))})]})]})]})}),be()]})},yh=x.createContext({});function vh(e){const r=x.useRef(null);return r.current===null&&(r.current=e()),r.current}const xh=typeof window<"u",Sv=xh?x.useLayoutEffect:x.useEffect,Dl=x.createContext(null);function wh(e,r){e.indexOf(r)===-1&&e.push(r)}function jh(e,r){const o=e.indexOf(r);o>-1&&e.splice(o,1)}const Er=(e,r,o)=>o>r?r:o<e?e:o;let bh=()=>{};const Lr={},Cv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Nv(e){return typeof e=="object"&&e!==null}const Av=e=>/^0[^.\s]+$/u.test(e);function kh(e){let r;return()=>(r===void 0&&(r=e()),r)}const _n=e=>e,pb=(e,r)=>o=>r(e(o)),Hi=(...e)=>e.reduce(pb),Ii=(e,r,o)=>{const i=r-e;return i===0?1:(o-e)/i};class Sh{constructor(){this.subscriptions=[]}add(r){return wh(this.subscriptions,r),()=>jh(this.subscriptions,r)}notify(r,o,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](r,o,i);else for(let d=0;d<l;d++){const u=this.subscriptions[d];u&&u(r,o,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cr=e=>e*1e3,dr=e=>e/1e3;function Tv(e,r){return r?e*(1e3/r):0}const Ev=(e,r,o)=>(((1-3*o+3*r)*e+(3*o-6*r))*e+3*r)*e,fb=1e-7,mb=12;function gb(e,r,o,i,l){let d,u,p=0;do u=r+(o-r)/2,d=Ev(u,i,l)-e,d>0?o=u:r=u;while(Math.abs(d)>fb&&++p<mb);return u}function qi(e,r,o,i){if(e===r&&o===i)return _n;const l=d=>gb(d,0,1,e,o);return d=>d===0||d===1?d:Ev(l(d),r,i)}const Lv=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,Dv=e=>r=>1-e(1-r),Pv=qi(.33,1.53,.69,.99),Ch=Dv(Pv),Rv=Lv(Ch),Mv=e=>(e*=2)<1?.5*Ch(e):.5*(2-Math.pow(2,-10*(e-1))),Nh=e=>1-Math.sin(Math.acos(e)),Iv=Dv(Nh),Ov=Lv(Nh),yb=qi(.42,0,1,1),vb=qi(0,0,.58,1),Fv=qi(.42,0,.58,1),xb=e=>Array.isArray(e)&&typeof e[0]!="number",Vv=e=>Array.isArray(e)&&typeof e[0]=="number",wb={linear:_n,easeIn:yb,easeInOut:Fv,easeOut:vb,circIn:Nh,circInOut:Ov,circOut:Iv,backIn:Ch,backInOut:Rv,backOut:Pv,anticipate:Mv},jb=e=>typeof e=="string",tg=e=>{if(Vv(e)){bh(e.length===4);const[r,o,i,l]=e;return qi(r,o,i,l)}else if(jb(e))return wb[e];return e},sl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ng={value:null};function bb(e,r){let o=new Set,i=new Set,l=!1,d=!1;const u=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1},f=0;function y(v){u.has(v)&&(g.schedule(v),e()),f++,v(p)}const g={schedule:(v,w=!1,T=!1)=>{const k=T&&l?o:i;return w&&u.add(v),k.has(v)||k.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(p=v,l){d=!0;return}l=!0,[o,i]=[i,o],o.forEach(y),r&&ng.value&&ng.value.frameloop[r].push(f),f=0,o.clear(),l=!1,d&&(d=!1,g.process(v))}};return g}const kb=40;function _v(e,r){let o=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},d=()=>o=!0,u=sl.reduce((N,R)=>(N[R]=bb(d,r?R:void 0),N),{}),{setup:p,read:f,resolveKeyframes:y,preUpdate:g,update:v,preRender:w,render:T,postRender:A}=u,k=()=>{const N=Lr.useManualTiming?l.timestamp:performance.now();o=!1,Lr.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(N-l.timestamp,kb),1)),l.timestamp=N,l.isProcessing=!0,p.process(l),f.process(l),y.process(l),g.process(l),v.process(l),w.process(l),T.process(l),A.process(l),l.isProcessing=!1,o&&r&&(i=!1,e(k))},L=()=>{o=!0,i=!0,l.isProcessing||e(k)};return{schedule:sl.reduce((N,R)=>{const $=u[R];return N[R]=(U,J=!1,ee=!1)=>(o||L(),$.schedule(U,J,ee)),N},{}),cancel:N=>{for(let R=0;R<sl.length;R++)u[sl[R]].cancel(N)},state:l,steps:u}}const{schedule:gt,cancel:is,state:Ht,steps:Rd}=_v(typeof requestAnimationFrame<"u"?requestAnimationFrame:_n,!0);let hl;function Sb(){hl=void 0}const xn={now:()=>(hl===void 0&&xn.set(Ht.isProcessing||Lr.useManualTiming?Ht.timestamp:performance.now()),hl),set:e=>{hl=e,queueMicrotask(Sb)}},Bv=e=>r=>typeof r=="string"&&r.startsWith(e),Ah=Bv("--"),Cb=Bv("var(--"),Th=e=>Cb(e)?Nb.test(e.split("/*")[0].trim()):!1,Nb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Do={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oi={...Do,transform:e=>Er(0,1,e)},ol={...Do,default:1},Ai=e=>Math.round(e*1e5)/1e5,Eh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ab(e){return e==null}const Tb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lh=(e,r)=>o=>!!(typeof o=="string"&&Tb.test(o)&&o.startsWith(e)||r&&!Ab(o)&&Object.prototype.hasOwnProperty.call(o,r)),Wv=(e,r,o)=>i=>{if(typeof i!="string")return i;const[l,d,u,p]=i.match(Eh);return{[e]:parseFloat(l),[r]:parseFloat(d),[o]:parseFloat(u),alpha:p!==void 0?parseFloat(p):1}},Eb=e=>Er(0,255,e),Md={...Do,transform:e=>Math.round(Eb(e))},Ls={test:Lh("rgb","red"),parse:Wv("red","green","blue"),transform:({red:e,green:r,blue:o,alpha:i=1})=>"rgba("+Md.transform(e)+", "+Md.transform(r)+", "+Md.transform(o)+", "+Ai(Oi.transform(i))+")"};function Lb(e){let r="",o="",i="",l="";return e.length>5?(r=e.substring(1,3),o=e.substring(3,5),i=e.substring(5,7),l=e.substring(7,9)):(r=e.substring(1,2),o=e.substring(2,3),i=e.substring(3,4),l=e.substring(4,5),r+=r,o+=o,i+=i,l+=l),{red:parseInt(r,16),green:parseInt(o,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const Cu={test:Lh("#"),parse:Lb,transform:Ls.transform},Gi=e=>({test:r=>typeof r=="string"&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),es=Gi("deg"),ur=Gi("%"),Ue=Gi("px"),Db=Gi("vh"),Pb=Gi("vw"),rg={...ur,parse:e=>ur.parse(e)/100,transform:e=>ur.transform(e*100)},vo={test:Lh("hsl","hue"),parse:Wv("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:o,alpha:i=1})=>"hsla("+Math.round(e)+", "+ur.transform(Ai(r))+", "+ur.transform(Ai(o))+", "+Ai(Oi.transform(i))+")"},Lt={test:e=>Ls.test(e)||Cu.test(e)||vo.test(e),parse:e=>Ls.test(e)?Ls.parse(e):vo.test(e)?vo.parse(e):Cu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ls.transform(e):vo.transform(e),getAnimatableNone:e=>{const r=Lt.parse(e);return r.alpha=0,Lt.transform(r)}},Rb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Mb(e){return isNaN(e)&&typeof e=="string"&&(e.match(Eh)?.length||0)+(e.match(Rb)?.length||0)>0}const Uv="number",zv="color",Ib="var",Ob="var(",sg="${}",Fb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fi(e){const r=e.toString(),o=[],i={color:[],number:[],var:[]},l=[];let d=0;const p=r.replace(Fb,f=>(Lt.test(f)?(i.color.push(d),l.push(zv),o.push(Lt.parse(f))):f.startsWith(Ob)?(i.var.push(d),l.push(Ib),o.push(f)):(i.number.push(d),l.push(Uv),o.push(parseFloat(f))),++d,sg)).split(sg);return{values:o,split:p,indexes:i,types:l}}function $v(e){return Fi(e).values}function Hv(e){const{split:r,types:o}=Fi(e),i=r.length;return l=>{let d="";for(let u=0;u<i;u++)if(d+=r[u],l[u]!==void 0){const p=o[u];p===Uv?d+=Ai(l[u]):p===zv?d+=Lt.transform(l[u]):d+=l[u]}return d}}const Vb=e=>typeof e=="number"?0:Lt.test(e)?Lt.getAnimatableNone(e):e;function _b(e){const r=$v(e);return Hv(e)(r.map(Vb))}const as={test:Mb,parse:$v,createTransformer:Hv,getAnimatableNone:_b};function Id(e,r,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+(r-e)*6*o:o<1/2?r:o<2/3?e+(r-e)*(2/3-o)*6:e}function Bb({hue:e,saturation:r,lightness:o,alpha:i}){e/=360,r/=100,o/=100;let l=0,d=0,u=0;if(!r)l=d=u=o;else{const p=o<.5?o*(1+r):o+r-o*r,f=2*o-p;l=Id(f,p,e+1/3),d=Id(f,p,e),u=Id(f,p,e-1/3)}return{red:Math.round(l*255),green:Math.round(d*255),blue:Math.round(u*255),alpha:i}}function wl(e,r){return o=>o>0?r:e}const jt=(e,r,o)=>e+(r-e)*o,Od=(e,r,o)=>{const i=e*e,l=o*(r*r-i)+i;return l<0?0:Math.sqrt(l)},Wb=[Cu,Ls,vo],Ub=e=>Wb.find(r=>r.test(e));function og(e){const r=Ub(e);if(!r)return!1;let o=r.parse(e);return r===vo&&(o=Bb(o)),o}const ig=(e,r)=>{const o=og(e),i=og(r);if(!o||!i)return wl(e,r);const l={...o};return d=>(l.red=Od(o.red,i.red,d),l.green=Od(o.green,i.green,d),l.blue=Od(o.blue,i.blue,d),l.alpha=jt(o.alpha,i.alpha,d),Ls.transform(l))},Nu=new Set(["none","hidden"]);function zb(e,r){return Nu.has(e)?o=>o<=0?e:r:o=>o>=1?r:e}function $b(e,r){return o=>jt(e,r,o)}function Dh(e){return typeof e=="number"?$b:typeof e=="string"?Th(e)?wl:Lt.test(e)?ig:Gb:Array.isArray(e)?qv:typeof e=="object"?Lt.test(e)?ig:Hb:wl}function qv(e,r){const o=[...e],i=o.length,l=e.map((d,u)=>Dh(d)(d,r[u]));return d=>{for(let u=0;u<i;u++)o[u]=l[u](d);return o}}function Hb(e,r){const o={...e,...r},i={};for(const l in o)e[l]!==void 0&&r[l]!==void 0&&(i[l]=Dh(e[l])(e[l],r[l]));return l=>{for(const d in i)o[d]=i[d](l);return o}}function qb(e,r){const o=[],i={color:0,var:0,number:0};for(let l=0;l<r.values.length;l++){const d=r.types[l],u=e.indexes[d][i[d]],p=e.values[u]??0;o[l]=p,i[d]++}return o}const Gb=(e,r)=>{const o=as.createTransformer(r),i=Fi(e),l=Fi(r);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?Nu.has(e)&&!l.values.length||Nu.has(r)&&!i.values.length?zb(e,r):Hi(qv(qb(i,l),l.values),o):wl(e,r)};function Gv(e,r,o){return typeof e=="number"&&typeof r=="number"&&typeof o=="number"?jt(e,r,o):Dh(e)(e,r)}const Yb=e=>{const r=({timestamp:o})=>e(o);return{start:(o=!0)=>gt.update(r,o),stop:()=>is(r),now:()=>Ht.isProcessing?Ht.timestamp:xn.now()}},Yv=(e,r,o=10)=>{let i="";const l=Math.max(Math.round(r/o),2);for(let d=0;d<l;d++)i+=Math.round(e(d/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},jl=2e4;function Ph(e){let r=0;const o=50;let i=e.next(r);for(;!i.done&&r<jl;)r+=o,i=e.next(r);return r>=jl?1/0:r}function Qb(e,r=100,o){const i=o({...e,keyframes:[0,r]}),l=Math.min(Ph(i),jl);return{type:"keyframes",ease:d=>i.next(l*d).value/r,duration:dr(l)}}const Kb=5;function Qv(e,r,o){const i=Math.max(r-Kb,0);return Tv(o-e(i),r-i)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fd=.001;function Zb({duration:e=kt.duration,bounce:r=kt.bounce,velocity:o=kt.velocity,mass:i=kt.mass}){let l,d,u=1-r;u=Er(kt.minDamping,kt.maxDamping,u),e=Er(kt.minDuration,kt.maxDuration,dr(e)),u<1?(l=y=>{const g=y*u,v=g*e,w=g-o,T=Au(y,u),A=Math.exp(-v);return Fd-w/T*A},d=y=>{const v=y*u*e,w=v*o+o,T=Math.pow(u,2)*Math.pow(y,2)*e,A=Math.exp(-v),k=Au(Math.pow(y,2),u);return(-l(y)+Fd>0?-1:1)*((w-T)*A)/k}):(l=y=>{const g=Math.exp(-y*e),v=(y-o)*e+1;return-Fd+g*v},d=y=>{const g=Math.exp(-y*e),v=(o-y)*(e*e);return g*v});const p=5/e,f=Xb(l,d,p);if(e=cr(e),isNaN(f))return{stiffness:kt.stiffness,damping:kt.damping,duration:e};{const y=Math.pow(f,2)*i;return{stiffness:y,damping:u*2*Math.sqrt(i*y),duration:e}}}const Jb=12;function Xb(e,r,o){let i=o;for(let l=1;l<Jb;l++)i=i-e(i)/r(i);return i}function Au(e,r){return e*Math.sqrt(1-r*r)}const ek=["duration","bounce"],tk=["stiffness","damping","mass"];function ag(e,r){return r.some(o=>e[o]!==void 0)}function nk(e){let r={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...e};if(!ag(e,tk)&&ag(e,ek))if(e.visualDuration){const o=e.visualDuration,i=2*Math.PI/(o*1.2),l=i*i,d=2*Er(.05,1,1-(e.bounce||0))*Math.sqrt(l);r={...r,mass:kt.mass,stiffness:l,damping:d}}else{const o=Zb(e);r={...r,...o,mass:kt.mass},r.isResolvedFromDuration=!0}return r}function bl(e=kt.visualDuration,r=kt.bounce){const o=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:r}:e;let{restSpeed:i,restDelta:l}=o;const d=o.keyframes[0],u=o.keyframes[o.keyframes.length-1],p={done:!1,value:d},{stiffness:f,damping:y,mass:g,duration:v,velocity:w,isResolvedFromDuration:T}=nk({...o,velocity:-dr(o.velocity||0)}),A=w||0,k=y/(2*Math.sqrt(f*g)),L=u-d,P=dr(Math.sqrt(f/g)),O=Math.abs(L)<5;i||(i=O?kt.restSpeed.granular:kt.restSpeed.default),l||(l=O?kt.restDelta.granular:kt.restDelta.default);let N;if(k<1){const $=Au(P,k);N=U=>{const J=Math.exp(-k*P*U);return u-J*((A+k*P*L)/$*Math.sin($*U)+L*Math.cos($*U))}}else if(k===1)N=$=>u-Math.exp(-P*$)*(L+(A+P*L)*$);else{const $=P*Math.sqrt(k*k-1);N=U=>{const J=Math.exp(-k*P*U),ee=Math.min($*U,300);return u-J*((A+k*P*L)*Math.sinh(ee)+$*L*Math.cosh(ee))/$}}const R={calculatedDuration:T&&v||null,next:$=>{const U=N($);if(T)p.done=$>=v;else{let J=$===0?A:0;k<1&&(J=$===0?cr(A):Qv(N,$,U));const ee=Math.abs(J)<=i,ae=Math.abs(u-U)<=l;p.done=ee&&ae}return p.value=p.done?u:U,p},toString:()=>{const $=Math.min(Ph(R),jl),U=Yv(J=>R.next($*J).value,$,30);return $+"ms "+U},toTransition:()=>{}};return R}bl.applyToOptions=e=>{const r=Qb(e,100,bl);return e.ease=r.ease,e.duration=cr(r.duration),e.type="keyframes",e};function Tu({keyframes:e,velocity:r=0,power:o=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:d=500,modifyTarget:u,min:p,max:f,restDelta:y=.5,restSpeed:g}){const v=e[0],w={done:!1,value:v},T=ee=>p!==void 0&&ee<p||f!==void 0&&ee>f,A=ee=>p===void 0?f:f===void 0||Math.abs(p-ee)<Math.abs(f-ee)?p:f;let k=o*r;const L=v+k,P=u===void 0?L:u(L);P!==L&&(k=P-v);const O=ee=>-k*Math.exp(-ee/i),N=ee=>P+O(ee),R=ee=>{const ae=O(ee),ye=N(ee);w.done=Math.abs(ae)<=y,w.value=w.done?P:ye};let $,U;const J=ee=>{T(w.value)&&($=ee,U=bl({keyframes:[w.value,A(w.value)],velocity:Qv(N,ee,w.value),damping:l,stiffness:d,restDelta:y,restSpeed:g}))};return J(0),{calculatedDuration:null,next:ee=>{let ae=!1;return!U&&$===void 0&&(ae=!0,R(ee),J(ee)),$!==void 0&&ee>=$?U.next(ee-$):(!ae&&R(ee),w)}}}function rk(e,r,o){const i=[],l=o||Lr.mix||Gv,d=e.length-1;for(let u=0;u<d;u++){let p=l(e[u],e[u+1]);if(r){const f=Array.isArray(r)?r[u]||_n:r;p=Hi(f,p)}i.push(p)}return i}function sk(e,r,{clamp:o=!0,ease:i,mixer:l}={}){const d=e.length;if(bh(d===r.length),d===1)return()=>r[0];if(d===2&&r[0]===r[1])return()=>r[1];const u=e[0]===e[1];e[0]>e[d-1]&&(e=[...e].reverse(),r=[...r].reverse());const p=rk(r,i,l),f=p.length,y=g=>{if(u&&g<e[0])return r[0];let v=0;if(f>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const w=Ii(e[v],e[v+1],g);return p[v](w)};return o?g=>y(Er(e[0],e[d-1],g)):y}function ok(e,r){const o=e[e.length-1];for(let i=1;i<=r;i++){const l=Ii(0,r,i);e.push(jt(o,1,l))}}function ik(e){const r=[0];return ok(r,e.length-1),r}function ak(e,r){return e.map(o=>o*r)}function lk(e,r){return e.map(()=>r||Fv).splice(0,e.length-1)}function Ti({duration:e=300,keyframes:r,times:o,ease:i="easeInOut"}){const l=xb(i)?i.map(tg):tg(i),d={done:!1,value:r[0]},u=ak(o&&o.length===r.length?o:ik(r),e),p=sk(u,r,{ease:Array.isArray(l)?l:lk(r,l)});return{calculatedDuration:e,next:f=>(d.value=p(f),d.done=f>=e,d)}}const ck=e=>e!==null;function Rh(e,{repeat:r,repeatType:o="loop"},i,l=1){const d=e.filter(ck),p=l<0||r&&o!=="loop"&&r%2===1?0:d.length-1;return!p||i===void 0?d[p]:i}const dk={decay:Tu,inertia:Tu,tween:Ti,keyframes:Ti,spring:bl};function Kv(e){typeof e.type=="string"&&(e.type=dk[e.type])}class Mh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,o){return this.finished.then(r,o)}}const uk=e=>e/100;class Ih extends Mh{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:o}=this.options;o&&o.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;Kv(r);const{type:o=Ti,repeat:i=0,repeatDelay:l=0,repeatType:d,velocity:u=0}=r;let{keyframes:p}=r;const f=o||Ti;f!==Ti&&typeof p[0]!="number"&&(this.mixKeyframes=Hi(uk,Gv(p[0],p[1])),p=[0,100]);const y=f({...r,keyframes:p});d==="mirror"&&(this.mirroredGenerator=f({...r,keyframes:[...p].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=Ph(y));const{calculatedDuration:g}=y;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=y}updateTime(r){const o=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(r,o=!1){const{generator:i,totalDuration:l,mixKeyframes:d,mirroredGenerator:u,resolvedDuration:p,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:y=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:T,type:A,onUpdate:k,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-l/this.speed,this.startTime)),o?this.currentTime=r:this.updateTime(r);const P=this.currentTime-y*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?P<0:P>l;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let N=this.currentTime,R=i;if(v){const ee=Math.min(this.currentTime,l)/p;let ae=Math.floor(ee),ye=ee%1;!ye&&ee>=1&&(ye=1),ye===1&&ae--,ae=Math.min(ae,v+1),!!(ae%2)&&(w==="reverse"?(ye=1-ye,T&&(ye-=T/p)):w==="mirror"&&(R=u)),N=Er(0,1,ye)*p}const $=O?{done:!1,value:g[0]}:R.next(N);d&&($.value=d($.value));let{done:U}=$;!O&&f!==null&&(U=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const J=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return J&&A!==Tu&&($.value=Rh(g,this.options,L,this.speed)),k&&k($.value),J&&this.finish(),$}then(r,o){return this.finished.then(r,o)}get duration(){return dr(this.calculatedDuration)}get time(){return dr(this.currentTime)}set time(r){r=cr(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(xn.now());const o=this.playbackSpeed!==r;this.playbackSpeed=r,o&&(this.time=dr(this.currentTime))}play(){if(this.isStopped)return;const{driver:r=Yb,startTime:o}=this.options;this.driver||(this.driver=r(l=>this.tick(l))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=o??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),r.observe(this)}}function hk(e){for(let r=1;r<e.length;r++)e[r]??(e[r]=e[r-1])}const Ds=e=>e*180/Math.PI,Eu=e=>{const r=Ds(Math.atan2(e[1],e[0]));return Lu(r)},pk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Eu,rotateZ:Eu,skewX:e=>Ds(Math.atan(e[1])),skewY:e=>Ds(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Lu=e=>(e=e%360,e<0&&(e+=360),e),lg=Eu,cg=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dg=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cg,scaleY:dg,scale:e=>(cg(e)+dg(e))/2,rotateX:e=>Lu(Ds(Math.atan2(e[6],e[5]))),rotateY:e=>Lu(Ds(Math.atan2(-e[2],e[0]))),rotateZ:lg,rotate:lg,skewX:e=>Ds(Math.atan(e[4])),skewY:e=>Ds(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Du(e){return e.includes("scale")?1:0}function Pu(e,r){if(!e||e==="none")return Du(r);const o=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(o)i=fk,l=o;else{const p=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=pk,l=p}if(!l)return Du(r);const d=i[r],u=l[1].split(",").map(gk);return typeof d=="function"?d(u):u[d]}const mk=(e,r)=>{const{transform:o="none"}=getComputedStyle(e);return Pu(o,r)};function gk(e){return parseFloat(e.trim())}const Po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ro=new Set(Po),ug=e=>e===Do||e===Ue,yk=new Set(["x","y","z"]),vk=Po.filter(e=>!yk.has(e));function xk(e){const r=[];return vk.forEach(o=>{const i=e.getValue(o);i!==void 0&&(r.push([o,i.get()]),i.set(o.startsWith("scale")?1:0))}),r}const Ps={width:({x:e},{paddingLeft:r="0",paddingRight:o="0"})=>e.max-e.min-parseFloat(r)-parseFloat(o),height:({y:e},{paddingTop:r="0",paddingBottom:o="0"})=>e.max-e.min-parseFloat(r)-parseFloat(o),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:(e,{transform:r})=>Pu(r,"x"),y:(e,{transform:r})=>Pu(r,"y")};Ps.translateX=Ps.x;Ps.translateY=Ps.y;const Rs=new Set;let Ru=!1,Mu=!1,Iu=!1;function Zv(){if(Mu){const e=Array.from(Rs).filter(i=>i.needsMeasurement),r=new Set(e.map(i=>i.element)),o=new Map;r.forEach(i=>{const l=xk(i);l.length&&(o.set(i,l),i.render())}),e.forEach(i=>i.measureInitialState()),r.forEach(i=>{i.render();const l=o.get(i);l&&l.forEach(([d,u])=>{i.getValue(d)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mu=!1,Ru=!1,Rs.forEach(e=>e.complete(Iu)),Rs.clear()}function Jv(){Rs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mu=!0)})}function wk(){Iu=!0,Jv(),Zv(),Iu=!1}class Oh{constructor(r,o,i,l,d,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=o,this.name=i,this.motionValue=l,this.element=d,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Rs.add(this),Ru||(Ru=!0,gt.read(Jv),gt.resolveKeyframes(Zv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:o,element:i,motionValue:l}=this;if(r[0]===null){const d=l?.get(),u=r[r.length-1];if(d!==void 0)r[0]=d;else if(i&&o){const p=i.readValue(o,u);p!=null&&(r[0]=p)}r[0]===void 0&&(r[0]=u),l&&d===void 0&&l.set(r[0])}hk(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),Rs.delete(this)}cancel(){this.state==="scheduled"&&(Rs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jk=e=>e.startsWith("--");function bk(e,r,o){jk(r)?e.style.setProperty(r,o):e.style[r]=o}const kk=kh(()=>window.ScrollTimeline!==void 0),Sk={};function Ck(e,r){const o=kh(e);return()=>Sk[r]??o()}const Xv=Ck(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Si=([e,r,o,i])=>`cubic-bezier(${e}, ${r}, ${o}, ${i})`,hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Si([0,.65,.55,1]),circOut:Si([.55,0,1,.45]),backIn:Si([.31,.01,.66,-.59]),backOut:Si([.33,1.53,.69,.99])};function ex(e,r){if(e)return typeof e=="function"?Xv()?Yv(e,r):"ease-out":Vv(e)?Si(e):Array.isArray(e)?e.map(o=>ex(o,r)||hg.easeOut):hg[e]}function Nk(e,r,o,{delay:i=0,duration:l=300,repeat:d=0,repeatType:u="loop",ease:p="easeOut",times:f}={},y=void 0){const g={[r]:o};f&&(g.offset=f);const v=ex(p,l);Array.isArray(v)&&(g.easing=v);const w={delay:i,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:d+1,direction:u==="reverse"?"alternate":"normal"};return y&&(w.pseudoElement=y),e.animate(g,w)}function tx(e){return typeof e=="function"&&"applyToOptions"in e}function Ak({type:e,...r}){return tx(e)&&Xv()?e.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class Tk extends Mh{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:o,name:i,keyframes:l,pseudoElement:d,allowFlatten:u=!1,finalKeyframe:p,onComplete:f}=r;this.isPseudoElement=!!d,this.allowFlatten=u,this.options=r,bh(typeof r.type!="string");const y=Ak(r);this.animation=Nk(o,i,l,y,d),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const g=Rh(l,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(g):bk(o,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const r=this.animation.effect?.getComputedTiming?.().duration||0;return dr(Number(r))}get time(){return dr(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=cr(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:o}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,r&&kk()?(this.animation.timeline=r,_n):o(this)}}const nx={anticipate:Mv,backInOut:Rv,circInOut:Ov};function Ek(e){return e in nx}function Lk(e){typeof e.ease=="string"&&Ek(e.ease)&&(e.ease=nx[e.ease])}const pg=10;class Dk extends Tk{constructor(r){Lk(r),Kv(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:o,onUpdate:i,onComplete:l,element:d,...u}=this.options;if(!o)return;if(r!==void 0){o.set(r);return}const p=new Ih({...u,autoplay:!1}),f=cr(this.finishedTime??this.time);o.setWithVelocity(p.sample(f-pg).value,p.sample(f).value,pg),p.stop()}}const fg=(e,r)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(as.test(e)||e==="0")&&!e.startsWith("url("));function Pk(e){const r=e[0];if(e.length===1)return!0;for(let o=0;o<e.length;o++)if(e[o]!==r)return!0}function Rk(e,r,o,i){const l=e[0];if(l===null)return!1;if(r==="display"||r==="visibility")return!0;const d=e[e.length-1],u=fg(l,r),p=fg(d,r);return!u||!p?!1:Pk(e)||(o==="spring"||tx(o))&&i}const Mk=new Set(["opacity","clipPath","filter","transform"]),Ik=kh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ok(e){const{motionValue:r,name:o,repeatDelay:i,repeatType:l,damping:d,type:u}=e;if(!(r?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:y}=r.owner.getProps();return Ik()&&o&&Mk.has(o)&&(o!=="transform"||!y)&&!f&&!i&&l!=="mirror"&&d!==0&&u!=="inertia"}const Fk=40;class Vk extends Mh{constructor({autoplay:r=!0,delay:o=0,type:i="keyframes",repeat:l=0,repeatDelay:d=0,repeatType:u="loop",keyframes:p,name:f,motionValue:y,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const w={autoplay:r,delay:o,type:i,repeat:l,repeatDelay:d,repeatType:u,name:f,motionValue:y,element:g,...v},T=g?.KeyframeResolver||Oh;this.keyframeResolver=new T(p,(A,k,L)=>this.onKeyframesResolved(A,k,w,!L),f,y,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(r,o,i,l){this.keyframeResolver=void 0;const{name:d,type:u,velocity:p,delay:f,isHandoff:y,onUpdate:g}=i;this.resolvedAt=xn.now(),Rk(r,d,u,p)||((Lr.instantAnimations||!f)&&g?.(Rh(r,i,o)),r[0]=r[r.length-1],i.duration=0,i.repeat=0);const w={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>Fk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...i,keyframes:r},T=!y&&Ok(w)?new Dk({...w,element:w.motionValue.owner.current}):new Ih(w);T.finished.then(()=>this.notifyFinished()).catch(_n),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(r,o){return this.finished.finally(r).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _k=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bk(e){const r=_k.exec(e);if(!r)return[,];const[,o,i,l]=r;return[`--${o??i}`,l]}function rx(e,r,o=1){const[i,l]=Bk(e);if(!i)return;const d=window.getComputedStyle(r).getPropertyValue(i);if(d){const u=d.trim();return Cv(u)?parseFloat(u):u}return Th(l)?rx(l,r,o+1):l}function Fh(e,r){return e?.[r]??e?.default??e}const sx=new Set(["width","height","top","left","right","bottom",...Po]),Wk={test:e=>e==="auto",parse:e=>e},ox=e=>r=>r.test(e),ix=[Do,Ue,ur,es,Pb,Db,Wk],mg=e=>ix.find(ox(e));function Uk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Av(e):!0}const zk=new Set(["brightness","contrast","saturate","opacity"]);function $k(e){const[r,o]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[i]=o.match(Eh)||[];if(!i)return e;const l=o.replace(i,"");let d=zk.has(r)?1:0;return i!==o&&(d*=100),r+"("+d+l+")"}const Hk=/\b([a-z-]*)\(.*?\)/gu,Ou={...as,getAnimatableNone:e=>{const r=e.match(Hk);return r?r.map($k).join(" "):e}},gg={...Do,transform:Math.round},qk={rotate:es,rotateX:es,rotateY:es,rotateZ:es,scale:ol,scaleX:ol,scaleY:ol,scaleZ:ol,skew:es,skewX:es,skewY:es,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Oi,originX:rg,originY:rg,originZ:Ue},Vh={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...qk,zIndex:gg,fillOpacity:Oi,strokeOpacity:Oi,numOctaves:gg},Gk={...Vh,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Ou,WebkitFilter:Ou},ax=e=>Gk[e];function lx(e,r){let o=ax(e);return o!==Ou&&(o=as),o.getAnimatableNone?o.getAnimatableNone(r):void 0}const Yk=new Set(["auto","none","0"]);function Qk(e,r,o){let i=0,l;for(;i<e.length&&!l;){const d=e[i];typeof d=="string"&&!Yk.has(d)&&Fi(d).values.length&&(l=e[i]),i++}if(l&&o)for(const d of r)e[d]=lx(o,l)}class Kk extends Oh{constructor(r,o,i,l,d){super(r,o,i,l,d,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:o,name:i}=this;if(!o||!o.current)return;super.readKeyframes();for(let f=0;f<r.length;f++){let y=r[f];if(typeof y=="string"&&(y=y.trim(),Th(y))){const g=rx(y,o.current);g!==void 0&&(r[f]=g),f===r.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!sx.has(i)||r.length!==2)return;const[l,d]=r,u=mg(l),p=mg(d);if(u!==p)if(ug(u)&&ug(p))for(let f=0;f<r.length;f++){const y=r[f];typeof y=="string"&&(r[f]=parseFloat(y))}else Ps[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:o}=this,i=[];for(let l=0;l<r.length;l++)(r[l]===null||Uk(r[l]))&&i.push(l);i.length&&Qk(r,i,o)}measureInitialState(){const{element:r,unresolvedKeyframes:o,name:i}=this;if(!r||!r.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ps[i](r.measureViewportBox(),window.getComputedStyle(r.current)),o[0]=this.measuredOrigin;const l=o[o.length-1];l!==void 0&&r.getValue(i,l).jump(l,!1)}measureEndState(){const{element:r,name:o,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const l=r.getValue(o);l&&l.jump(this.measuredOrigin,!1);const d=i.length-1,u=i[d];i[d]=Ps[o](r.measureViewportBox(),window.getComputedStyle(r.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,f])=>{r.getValue(p).set(f)}),this.resolveNoneKeyframes()}}function Zk(e,r,o){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const l=o?.[e]??i.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const cx=(e,r)=>r&&typeof e=="number"?r.transform(e):e;function dx(e){return Nv(e)&&"offsetHeight"in e}const yg=30,Jk=e=>!isNaN(parseFloat(e));class Xk{constructor(r,o={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const d=xn.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();l&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(r),this.owner=o.owner}setCurrent(r){this.current=r,this.updatedAt=xn.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=Jk(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,o){this.events[r]||(this.events[r]=new Sh);const i=this.events[r].add(o);return r==="change"?()=>{i(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,o){this.passiveEffect=r,this.stopPassiveEffect=o}set(r,o=!0){!o||!this.passiveEffect?this.updateAndNotify(r,o):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,o,i){this.set(o),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-i}jump(r,o=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>yg)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,yg);return Tv(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(r){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=r(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(e,r){return new Xk(e,r)}const{schedule:_h}=_v(queueMicrotask,!1),Zn={x:!1,y:!1};function ux(){return Zn.x||Zn.y}function e2(e){return e==="x"||e==="y"?Zn[e]?null:(Zn[e]=!0,()=>{Zn[e]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function hx(e,r){const o=Zk(e),i=new AbortController,l={passive:!0,...r,signal:i.signal};return[o,l,()=>i.abort()]}function vg(e){return!(e.pointerType==="touch"||ux())}function t2(e,r,o={}){const[i,l,d]=hx(e,o),u=p=>{if(!vg(p))return;const{target:f}=p,y=r(f,p);if(typeof y!="function"||!f)return;const g=v=>{vg(v)&&(y(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,l)};return i.forEach(p=>{p.addEventListener("pointerenter",u,l)}),d}const px=(e,r)=>r?e===r?!0:px(e,r.parentElement):!1,Bh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,n2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r2(e){return n2.has(e.tagName)||e.tabIndex!==-1}const pl=new WeakSet;function xg(e){return r=>{r.key==="Enter"&&e(r)}}function Vd(e,r){e.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const s2=(e,r)=>{const o=e.currentTarget;if(!o)return;const i=xg(()=>{if(pl.has(o))return;Vd(o,"down");const l=xg(()=>{Vd(o,"up")}),d=()=>Vd(o,"cancel");o.addEventListener("keyup",l,r),o.addEventListener("blur",d,r)});o.addEventListener("keydown",i,r),o.addEventListener("blur",()=>o.removeEventListener("keydown",i),r)};function wg(e){return Bh(e)&&!ux()}function o2(e,r,o={}){const[i,l,d]=hx(e,o),u=p=>{const f=p.currentTarget;if(!wg(p))return;pl.add(f);const y=r(f,p),g=(T,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),pl.has(f)&&pl.delete(f),wg(T)&&typeof y=="function"&&y(T,{success:A})},v=T=>{g(T,f===window||f===document||o.useGlobalTarget||px(f,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",w,l)};return i.forEach(p=>{(o.useGlobalTarget?window:p).addEventListener("pointerdown",u,l),dx(p)&&(p.addEventListener("focus",y=>s2(y,l)),!r2(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),d}function fx(e){return Nv(e)&&"ownerSVGElement"in e}function i2(e){return fx(e)&&e.tagName==="svg"}const en=e=>!!(e&&e.getVelocity),a2=[...ix,Lt,as],l2=e=>a2.find(ox(e)),Wh=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class c2 extends x.Component{getSnapshotBeforeUpdate(r){const o=this.props.childRef.current;if(o&&r.isPresent&&!this.props.isPresent){const i=o.offsetParent,l=dx(i)&&i.offsetWidth||0,d=this.props.sizeRef.current;d.height=o.offsetHeight||0,d.width=o.offsetWidth||0,d.top=o.offsetTop,d.left=o.offsetLeft,d.right=l-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d2({children:e,isPresent:r,anchorX:o,root:i}){const l=x.useId(),d=x.useRef(null),u=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=x.useContext(Wh);return x.useInsertionEffect(()=>{const{width:f,height:y,top:g,left:v,right:w}=u.current;if(r||!d.current||!f||!y)return;const T=o==="left"?`left: ${v}`:`right: ${w}`;d.current.dataset.motionPopId=l;const A=document.createElement("style");p&&(A.nonce=p);const k=i??document.head;return k.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${y}px !important;
            ${T}px !important;
            top: ${g}px !important;
          }
        `),()=>{k.removeChild(A),k.contains(A)&&k.removeChild(A)}},[r]),t.jsx(c2,{isPresent:r,childRef:d,sizeRef:u,children:x.cloneElement(e,{ref:d})})}const u2=({children:e,initial:r,isPresent:o,onExitComplete:i,custom:l,presenceAffectsLayout:d,mode:u,anchorX:p,root:f})=>{const y=vh(h2),g=x.useId();let v=!0,w=x.useMemo(()=>(v=!1,{id:g,initial:r,isPresent:o,custom:l,onExitComplete:T=>{y.set(T,!0);for(const A of y.values())if(!A)return;i&&i()},register:T=>(y.set(T,!1),()=>y.delete(T))}),[o,y,i]);return d&&v&&(w={...w}),x.useMemo(()=>{y.forEach((T,A)=>y.set(A,!1))},[o]),x.useEffect(()=>{!o&&!y.size&&i&&i()},[o]),u==="popLayout"&&(e=t.jsx(d2,{isPresent:o,anchorX:p,root:f,children:e})),t.jsx(Dl.Provider,{value:w,children:e})};function h2(){return new Map}function mx(e=!0){const r=x.useContext(Dl);if(r===null)return[!0,null];const{isPresent:o,onExitComplete:i,register:l}=r,d=x.useId();x.useEffect(()=>{if(e)return l(d)},[e]);const u=x.useCallback(()=>e&&i&&i(d),[d,i,e]);return!o&&i?[!1,u]:[!0]}const il=e=>e.key||"";function jg(e){const r=[];return x.Children.forEach(e,o=>{x.isValidElement(o)&&r.push(o)}),r}const p2=({children:e,custom:r,initial:o=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:d="sync",propagate:u=!1,anchorX:p="left",root:f})=>{const[y,g]=mx(u),v=x.useMemo(()=>jg(e),[e]),w=u&&!y?[]:v.map(il),T=x.useRef(!0),A=x.useRef(v),k=vh(()=>new Map),[L,P]=x.useState(v),[O,N]=x.useState(v);Sv(()=>{T.current=!1,A.current=v;for(let U=0;U<O.length;U++){const J=il(O[U]);w.includes(J)?k.delete(J):k.get(J)!==!0&&k.set(J,!1)}},[O,w.length,w.join("-")]);const R=[];if(v!==L){let U=[...v];for(let J=0;J<O.length;J++){const ee=O[J],ae=il(ee);w.includes(ae)||(U.splice(J,0,ee),R.push(ee))}return d==="wait"&&R.length&&(U=R),N(jg(U)),P(v),null}const{forceRender:$}=x.useContext(yh);return t.jsx(t.Fragment,{children:O.map(U=>{const J=il(U),ee=u&&!y?!1:v===O||w.includes(J),ae=()=>{if(k.has(J))k.set(J,!0);else return;let ye=!0;k.forEach(H=>{H||(ye=!1)}),ye&&($?.(),N(A.current),u&&g?.(),i&&i())};return t.jsx(u2,{isPresent:ee,initial:!T.current||o?void 0:!1,custom:r,presenceAffectsLayout:l,mode:d,root:f,onExitComplete:ee?void 0:ae,anchorX:p,children:U},J)})})},gx=x.createContext({strict:!1}),bg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ao={};for(const e in bg)Ao[e]={isEnabled:r=>bg[e].some(o=>!!r[o])};function f2(e){for(const r in e)Ao[r]={...Ao[r],...e[r]}}const m2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||m2.has(e)}let yx=e=>!kl(e);function g2(e){typeof e=="function"&&(yx=r=>r.startsWith("on")?!kl(r):e(r))}try{g2(require("@emotion/is-prop-valid").default)}catch{}function y2(e,r,o){const i={};for(const l in e)l==="values"&&typeof e.values=="object"||(yx(l)||o===!0&&kl(l)||!r&&!kl(l)||e.draggable&&l.startsWith("onDrag"))&&(i[l]=e[l]);return i}function v2(e){if(typeof Proxy>"u")return e;const r=new Map,o=(...i)=>e(...i);return new Proxy(o,{get:(i,l)=>l==="create"?e:(r.has(l)||r.set(l,e(l)),r.get(l))})}const Pl=x.createContext({});function Rl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vi(e){return typeof e=="string"||Array.isArray(e)}const Uh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zh=["initial",...Uh];function Ml(e){return Rl(e.animate)||zh.some(r=>Vi(e[r]))}function vx(e){return!!(Ml(e)||e.variants)}function x2(e,r){if(Ml(e)){const{initial:o,animate:i}=e;return{initial:o===!1||Vi(o)?o:void 0,animate:Vi(i)?i:void 0}}return e.inherit!==!1?r:{}}function w2(e){const{initial:r,animate:o}=x2(e,x.useContext(Pl));return x.useMemo(()=>({initial:r,animate:o}),[kg(r),kg(o)])}function kg(e){return Array.isArray(e)?e.join(" "):e}const j2=Symbol.for("motionComponentSymbol");function xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function b2(e,r,o){return x.useCallback(i=>{i&&e.onMount&&e.onMount(i),r&&(i?r.mount(i):r.unmount()),o&&(typeof o=="function"?o(i):xo(o)&&(o.current=i))},[r])}const $h=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k2="framerAppearId",xx="data-"+$h(k2),wx=x.createContext({});function S2(e,r,o,i,l){const{visualElement:d}=x.useContext(Pl),u=x.useContext(gx),p=x.useContext(Dl),f=x.useContext(Wh).reducedMotion,y=x.useRef(null);i=i||u.renderer,!y.current&&i&&(y.current=i(e,{visualState:r,parent:d,props:o,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:f}));const g=y.current,v=x.useContext(wx);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&C2(y.current,o,l,v);const w=x.useRef(!1);x.useInsertionEffect(()=>{g&&w.current&&g.update(o,p)});const T=o[xx],A=x.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return Sv(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),_h.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),A.current=!1))}),g}function C2(e,r,o,i){const{layoutId:l,layout:d,drag:u,dragConstraints:p,layoutScroll:f,layoutRoot:y,layoutCrossfade:g}=r;e.projection=new o(e.latestValues,r["data-framer-portal-id"]?void 0:jx(e.parent)),e.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!u||p&&xo(p),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:y})}function jx(e){if(e)return e.options.allowProjection!==!1?e.projection:jx(e.parent)}function N2({preloadedFeatures:e,createVisualElement:r,useRender:o,useVisualState:i,Component:l}){e&&f2(e);function d(p,f){let y;const g={...x.useContext(Wh),...p,layoutId:A2(p)},{isStatic:v}=g,w=w2(p),T=i(p,v);if(!v&&xh){T2();const A=E2(g);y=A.MeasureLayout,w.visualElement=S2(l,T,g,r,A.ProjectionNode)}return t.jsxs(Pl.Provider,{value:w,children:[y&&w.visualElement?t.jsx(y,{visualElement:w.visualElement,...g}):null,o(l,p,b2(T,w.visualElement,f),T,v,w.visualElement)]})}d.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const u=x.forwardRef(d);return u[j2]=l,u}function A2({layoutId:e}){const r=x.useContext(yh).id;return r&&e!==void 0?r+"-"+e:e}function T2(e,r){x.useContext(gx).strict}function E2(e){const{drag:r,layout:o}=Ao;if(!r&&!o)return{};const i={...r,...o};return{MeasureLayout:r?.isEnabled(e)||o?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const _i={};function L2(e){for(const r in e)_i[r]=e[r],Ah(r)&&(_i[r].isCSSVariable=!0)}function bx(e,{layout:r,layoutId:o}){return Ro.has(e)||e.startsWith("origin")||(r||o!==void 0)&&(!!_i[e]||e==="opacity")}const D2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P2=Po.length;function R2(e,r,o){let i="",l=!0;for(let d=0;d<P2;d++){const u=Po[d],p=e[u];if(p===void 0)continue;let f=!0;if(typeof p=="number"?f=p===(u.startsWith("scale")?1:0):f=parseFloat(p)===0,!f||o){const y=cx(p,Vh[u]);if(!f){l=!1;const g=D2[u]||u;i+=`${g}(${y}) `}o&&(r[u]=y)}}return i=i.trim(),o?i=o(r,l?"":i):l&&(i="none"),i}function Hh(e,r,o){const{style:i,vars:l,transformOrigin:d}=e;let u=!1,p=!1;for(const f in r){const y=r[f];if(Ro.has(f)){u=!0;continue}else if(Ah(f)){l[f]=y;continue}else{const g=cx(y,Vh[f]);f.startsWith("origin")?(p=!0,d[f]=g):i[f]=g}}if(r.transform||(u||o?i.transform=R2(r,e.transform,o):i.transform&&(i.transform="none")),p){const{originX:f="50%",originY:y="50%",originZ:g=0}=d;i.transformOrigin=`${f} ${y} ${g}`}}const qh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kx(e,r,o){for(const i in r)!en(r[i])&&!bx(i,o)&&(e[i]=r[i])}function M2({transformTemplate:e},r){return x.useMemo(()=>{const o=qh();return Hh(o,r,e),Object.assign({},o.vars,o.style)},[r])}function I2(e,r){const o=e.style||{},i={};return kx(i,o,e),Object.assign(i,M2(e,r)),i}function O2(e,r){const o={},i=I2(e,r);return e.drag&&e.dragListener!==!1&&(o.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(o.tabIndex=0),o.style=i,o}const F2={offset:"stroke-dashoffset",array:"stroke-dasharray"},V2={offset:"strokeDashoffset",array:"strokeDasharray"};function _2(e,r,o=1,i=0,l=!0){e.pathLength=1;const d=l?F2:V2;e[d.offset]=Ue.transform(-i);const u=Ue.transform(r),p=Ue.transform(o);e[d.array]=`${u} ${p}`}function Sx(e,{attrX:r,attrY:o,attrScale:i,pathLength:l,pathSpacing:d=1,pathOffset:u=0,...p},f,y,g){if(Hh(e,p,y),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:w}=e;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),r!==void 0&&(v.x=r),o!==void 0&&(v.y=o),i!==void 0&&(v.scale=i),l!==void 0&&_2(v,l,d,u,!1)}const Cx=()=>({...qh(),attrs:{}}),Nx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function B2(e,r,o,i){const l=x.useMemo(()=>{const d=Cx();return Sx(d,r,Nx(i),e.transformTemplate,e.style),{...d.attrs,style:{...d.style}}},[r]);if(e.style){const d={};kx(d,e.style,e),l.style={...d,...l.style}}return l}const W2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gh(e){return typeof e!="string"||e.includes("-")?!1:!!(W2.indexOf(e)>-1||/[A-Z]/u.test(e))}function U2(e=!1){return(o,i,l,{latestValues:d},u)=>{const f=(Gh(o)?B2:O2)(i,d,u,o),y=y2(i,typeof o=="string",e),g=o!==x.Fragment?{...y,...f,ref:l}:{},{children:v}=i,w=x.useMemo(()=>en(v)?v.get():v,[v]);return x.createElement(o,{...g,children:w})}}function Sg(e){const r=[{},{}];return e?.values.forEach((o,i)=>{r[0][i]=o.get(),r[1][i]=o.getVelocity()}),r}function Yh(e,r,o,i){if(typeof r=="function"){const[l,d]=Sg(i);r=r(o!==void 0?o:e.custom,l,d)}if(typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"){const[l,d]=Sg(i);r=r(o!==void 0?o:e.custom,l,d)}return r}function fl(e){return en(e)?e.get():e}function z2({scrapeMotionValuesFromProps:e,createRenderState:r},o,i,l){return{latestValues:$2(o,i,l,e),renderState:r()}}const Ax=e=>(r,o)=>{const i=x.useContext(Pl),l=x.useContext(Dl),d=()=>z2(e,r,i,l);return o?d():vh(d)};function $2(e,r,o,i){const l={},d=i(e,{});for(const w in d)l[w]=fl(d[w]);let{initial:u,animate:p}=e;const f=Ml(e),y=vx(e);r&&y&&!f&&e.inherit!==!1&&(u===void 0&&(u=r.initial),p===void 0&&(p=r.animate));let g=o?o.initial===!1:!1;g=g||u===!1;const v=g?p:u;if(v&&typeof v!="boolean"&&!Rl(v)){const w=Array.isArray(v)?v:[v];for(let T=0;T<w.length;T++){const A=Yh(e,w[T]);if(A){const{transitionEnd:k,transition:L,...P}=A;for(const O in P){let N=P[O];if(Array.isArray(N)){const R=g?N.length-1:0;N=N[R]}N!==null&&(l[O]=N)}for(const O in k)l[O]=k[O]}}}return l}function Qh(e,r,o){const{style:i}=e,l={};for(const d in i)(en(i[d])||r.style&&en(r.style[d])||bx(d,e)||o?.getValue(d)?.liveStyle!==void 0)&&(l[d]=i[d]);return l}const H2={useVisualState:Ax({scrapeMotionValuesFromProps:Qh,createRenderState:qh})};function Tx(e,r,o){const i=Qh(e,r,o);for(const l in e)if(en(e[l])||en(r[l])){const d=Po.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[d]=e[l]}return i}const q2={useVisualState:Ax({scrapeMotionValuesFromProps:Tx,createRenderState:Cx})};function G2(e,r){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const u={...Gh(i)?q2:H2,preloadedFeatures:e,useRender:U2(l),createVisualElement:r,Component:i};return N2(u)}}function Bi(e,r,o){const i=e.getProps();return Yh(i,r,o!==void 0?o:i.custom,e)}const Fu=e=>Array.isArray(e);function Y2(e,r,o){e.hasValue(r)?e.getValue(r).set(o):e.addValue(r,No(o))}function Q2(e){return Fu(e)?e[e.length-1]||0:e}function K2(e,r){const o=Bi(e,r);let{transitionEnd:i={},transition:l={},...d}=o||{};d={...d,...i};for(const u in d){const p=Q2(d[u]);Y2(e,u,p)}}function Z2(e){return!!(en(e)&&e.add)}function Vu(e,r){const o=e.getValue("willChange");if(Z2(o))return o.add(r);if(!o&&Lr.WillChange){const i=new Lr.WillChange("auto");e.addValue("willChange",i),i.add(r)}}function Ex(e){return e.props[xx]}const J2=e=>e!==null;function X2(e,{repeat:r,repeatType:o="loop"},i){const l=e.filter(J2),d=r&&o!=="loop"&&r%2===1?0:l.length-1;return l[d]}const eS={type:"spring",stiffness:500,damping:25,restSpeed:10},tS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nS={type:"keyframes",duration:.8},rS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sS=(e,{keyframes:r})=>r.length>2?nS:Ro.has(e)?e.startsWith("scale")?tS(r[1]):eS:rS;function oS({when:e,delay:r,delayChildren:o,staggerChildren:i,staggerDirection:l,repeat:d,repeatType:u,repeatDelay:p,from:f,elapsed:y,...g}){return!!Object.keys(g).length}const Kh=(e,r,o,i={},l,d)=>u=>{const p=Fh(i,e)||{},f=p.delay||i.delay||0;let{elapsed:y=0}=i;y=y-cr(f);const g={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:r.getVelocity(),...p,delay:-y,onUpdate:w=>{r.set(w),p.onUpdate&&p.onUpdate(w)},onComplete:()=>{u(),p.onComplete&&p.onComplete()},name:e,motionValue:r,element:d?void 0:l};oS(p)||Object.assign(g,sS(e,g)),g.duration&&(g.duration=cr(g.duration)),g.repeatDelay&&(g.repeatDelay=cr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),(Lr.instantAnimations||Lr.skipAnimations)&&(v=!0,g.duration=0,g.delay=0),g.allowFlatten=!p.type&&!p.ease,v&&!d&&r.get()!==void 0){const w=X2(g.keyframes,p);if(w!==void 0){gt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return p.isSync?new Ih(g):new Vk(g)};function iS({protectedKeys:e,needsAnimating:r},o){const i=e.hasOwnProperty(o)&&r[o]!==!0;return r[o]=!1,i}function Lx(e,r,{delay:o=0,transitionOverride:i,type:l}={}){let{transition:d=e.getDefaultTransition(),transitionEnd:u,...p}=r;i&&(d=i);const f=[],y=l&&e.animationState&&e.animationState.getState()[l];for(const g in p){const v=e.getValue(g,e.latestValues[g]??null),w=p[g];if(w===void 0||y&&iS(y,g))continue;const T={delay:o,...Fh(d||{},g)},A=v.get();if(A!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===A&&!T.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const P=Ex(e);if(P){const O=window.MotionHandoffAnimation(P,g,gt);O!==null&&(T.startTime=O,k=!0)}}Vu(e,g),v.start(Kh(g,v,w,e.shouldReduceMotion&&sx.has(g)?{type:!1}:T,e,k));const L=v.animation;L&&f.push(L)}return u&&Promise.all(f).then(()=>{gt.update(()=>{u&&K2(e,u)})}),f}function _u(e,r,o={}){const i=Bi(e,r,o.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=i||{};o.transitionOverride&&(l=o.transitionOverride);const d=i?()=>Promise.all(Lx(e,i,o)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:v}=l;return aS(e,r,f,y,g,v,o)}:()=>Promise.resolve(),{when:p}=l;if(p){const[f,y]=p==="beforeChildren"?[d,u]:[u,d];return f().then(()=>y())}else return Promise.all([d(),u(o.delay)])}function aS(e,r,o=0,i=0,l=0,d=1,u){const p=[],f=e.variantChildren.size,y=(f-1)*l,g=typeof i=="function",v=g?w=>i(w,f):d===1?(w=0)=>w*l:(w=0)=>y-w*l;return Array.from(e.variantChildren).sort(lS).forEach((w,T)=>{w.notify("AnimationStart",r),p.push(_u(w,r,{...u,delay:o+(g?0:i)+v(T)}).then(()=>w.notify("AnimationComplete",r)))}),Promise.all(p)}function lS(e,r){return e.sortNodePosition(r)}function cS(e,r,o={}){e.notify("AnimationStart",r);let i;if(Array.isArray(r)){const l=r.map(d=>_u(e,d,o));i=Promise.all(l)}else if(typeof r=="string")i=_u(e,r,o);else{const l=typeof r=="function"?Bi(e,r,o.custom):r;i=Promise.all(Lx(e,l,o))}return i.then(()=>{e.notify("AnimationComplete",r)})}function Dx(e,r){if(!Array.isArray(r))return!1;const o=r.length;if(o!==e.length)return!1;for(let i=0;i<o;i++)if(r[i]!==e[i])return!1;return!0}const dS=zh.length;function Px(e){if(!e)return;if(!e.isControllingVariants){const o=e.parent?Px(e.parent)||{}:{};return e.props.initial!==void 0&&(o.initial=e.props.initial),o}const r={};for(let o=0;o<dS;o++){const i=zh[o],l=e.props[i];(Vi(l)||l===!1)&&(r[i]=l)}return r}const uS=[...Uh].reverse(),hS=Uh.length;function pS(e){return r=>Promise.all(r.map(({animation:o,options:i})=>cS(e,o,i)))}function fS(e){let r=pS(e),o=Cg(),i=!0;const l=f=>(y,g)=>{const v=Bi(e,g,f==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:T,...A}=v;y={...y,...A,...T}}return y};function d(f){r=f(e)}function u(f){const{props:y}=e,g=Px(e.parent)||{},v=[],w=new Set;let T={},A=1/0;for(let L=0;L<hS;L++){const P=uS[L],O=o[P],N=y[P]!==void 0?y[P]:g[P],R=Vi(N),$=P===f?O.isActive:null;$===!1&&(A=L);let U=N===g[P]&&N!==y[P]&&R;if(U&&i&&e.manuallyAnimateOnMount&&(U=!1),O.protectedKeys={...T},!O.isActive&&$===null||!N&&!O.prevProp||Rl(N)||typeof N=="boolean")continue;const J=mS(O.prevProp,N);let ee=J||P===f&&O.isActive&&!U&&R||L>A&&R,ae=!1;const ye=Array.isArray(N)?N:[N];let H=ye.reduce(l(P),{});$===!1&&(H={});const{prevResolvedValues:ue={}}=O,te={...ue,...H},xe=Y=>{ee=!0,w.has(Y)&&(ae=!0,w.delete(Y)),O.needsAnimating[Y]=!0;const q=e.getValue(Y);q&&(q.liveStyle=!1)};for(const Y in te){const q=H[Y],C=ue[Y];if(T.hasOwnProperty(Y))continue;let E=!1;Fu(q)&&Fu(C)?E=!Dx(q,C):E=q!==C,E?q!=null?xe(Y):w.add(Y):q!==void 0&&w.has(Y)?xe(Y):O.protectedKeys[Y]=!0}O.prevProp=N,O.prevResolvedValues=H,O.isActive&&(T={...T,...H}),i&&e.blockInitialAnimation&&(ee=!1),ee&&(!(U&&J)||ae)&&v.push(...ye.map(Y=>({animation:Y,options:{type:P}})))}if(w.size){const L={};if(typeof y.initial!="boolean"){const P=Bi(e,Array.isArray(y.initial)?y.initial[0]:y.initial);P&&P.transition&&(L.transition=P.transition)}w.forEach(P=>{const O=e.getBaseTarget(P),N=e.getValue(P);N&&(N.liveStyle=!0),L[P]=O??null}),v.push({animation:L})}let k=!!v.length;return i&&(y.initial===!1||y.initial===y.animate)&&!e.manuallyAnimateOnMount&&(k=!1),i=!1,k?r(v):Promise.resolve()}function p(f,y){if(o[f].isActive===y)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(f,y)),o[f].isActive=y;const g=u(f);for(const v in o)o[v].protectedKeys={};return g}return{animateChanges:u,setActive:p,setAnimateFunction:d,getState:()=>o,reset:()=>{o=Cg(),i=!0}}}function mS(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!Dx(r,e):!1}function Ts(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cg(){return{animate:Ts(!0),whileInView:Ts(),whileHover:Ts(),whileTap:Ts(),whileDrag:Ts(),whileFocus:Ts(),exit:Ts()}}class ds{constructor(r){this.isMounted=!1,this.node=r}update(){}}class gS extends ds{constructor(r){super(r),r.animationState||(r.animationState=fS(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();Rl(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:o}=this.node.prevProps||{};r!==o&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yS=0;class vS extends ds{constructor(){super(...arguments),this.id=yS++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:o}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===i)return;const l=this.node.animationState.setActive("exit",!r);o&&!r&&l.then(()=>{o(this.id)})}mount(){const{register:r,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const xS={animation:{Feature:gS},exit:{Feature:vS}};function Wi(e,r,o,i={passive:!0}){return e.addEventListener(r,o,i),()=>e.removeEventListener(r,o)}function Yi(e){return{point:{x:e.pageX,y:e.pageY}}}const wS=e=>r=>Bh(r)&&e(r,Yi(r));function Ei(e,r,o,i){return Wi(e,r,wS(o),i)}function Rx({top:e,left:r,right:o,bottom:i}){return{x:{min:r,max:o},y:{min:e,max:i}}}function jS({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function bS(e,r){if(!r)return e;const o=r({x:e.left,y:e.top}),i=r({x:e.right,y:e.bottom});return{top:o.y,left:o.x,bottom:i.y,right:i.x}}const Mx=1e-4,kS=1-Mx,SS=1+Mx,Ix=.01,CS=0-Ix,NS=0+Ix;function on(e){return e.max-e.min}function AS(e,r,o){return Math.abs(e-r)<=o}function Ng(e,r,o,i=.5){e.origin=i,e.originPoint=jt(r.min,r.max,e.origin),e.scale=on(o)/on(r),e.translate=jt(o.min,o.max,e.origin)-e.originPoint,(e.scale>=kS&&e.scale<=SS||isNaN(e.scale))&&(e.scale=1),(e.translate>=CS&&e.translate<=NS||isNaN(e.translate))&&(e.translate=0)}function Li(e,r,o,i){Ng(e.x,r.x,o.x,i?i.originX:void 0),Ng(e.y,r.y,o.y,i?i.originY:void 0)}function Ag(e,r,o){e.min=o.min+r.min,e.max=e.min+on(r)}function TS(e,r,o){Ag(e.x,r.x,o.x),Ag(e.y,r.y,o.y)}function Tg(e,r,o){e.min=r.min-o.min,e.max=e.min+on(r)}function Di(e,r,o){Tg(e.x,r.x,o.x),Tg(e.y,r.y,o.y)}const Eg=()=>({translate:0,scale:1,origin:0,originPoint:0}),wo=()=>({x:Eg(),y:Eg()}),Lg=()=>({min:0,max:0}),Nt=()=>({x:Lg(),y:Lg()});function On(e){return[e("x"),e("y")]}function _d(e){return e===void 0||e===1}function Bu({scale:e,scaleX:r,scaleY:o}){return!_d(e)||!_d(r)||!_d(o)}function Es(e){return Bu(e)||Ox(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ox(e){return Dg(e.x)||Dg(e.y)}function Dg(e){return e&&e!=="0%"}function Sl(e,r,o){const i=e-o,l=r*i;return o+l}function Pg(e,r,o,i,l){return l!==void 0&&(e=Sl(e,l,i)),Sl(e,o,i)+r}function Wu(e,r=0,o=1,i,l){e.min=Pg(e.min,r,o,i,l),e.max=Pg(e.max,r,o,i,l)}function Fx(e,{x:r,y:o}){Wu(e.x,r.translate,r.scale,r.originPoint),Wu(e.y,o.translate,o.scale,o.originPoint)}const Rg=.999999999999,Mg=1.0000000000001;function ES(e,r,o,i=!1){const l=o.length;if(!l)return;r.x=r.y=1;let d,u;for(let p=0;p<l;p++){d=o[p],u=d.projectionDelta;const{visualElement:f}=d.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bo(e,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),u&&(r.x*=u.x.scale,r.y*=u.y.scale,Fx(e,u)),i&&Es(d.latestValues)&&bo(e,d.latestValues))}r.x<Mg&&r.x>Rg&&(r.x=1),r.y<Mg&&r.y>Rg&&(r.y=1)}function jo(e,r){e.min=e.min+r,e.max=e.max+r}function Ig(e,r,o,i,l=.5){const d=jt(e.min,e.max,l);Wu(e,r,o,d,i)}function bo(e,r){Ig(e.x,r.x,r.scaleX,r.scale,r.originX),Ig(e.y,r.y,r.scaleY,r.scale,r.originY)}function Vx(e,r){return Rx(bS(e.getBoundingClientRect(),r))}function LS(e,r,o){const i=Vx(e,o),{scroll:l}=r;return l&&(jo(i.x,l.offset.x),jo(i.y,l.offset.y)),i}const _x=({current:e})=>e?e.ownerDocument.defaultView:null,Og=(e,r)=>Math.abs(e-r);function DS(e,r){const o=Og(e.x,r.x),i=Og(e.y,r.y);return Math.sqrt(o**2+i**2)}class Bx{constructor(r,o,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:d=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Wd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,A=DS(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!A)return;const{point:k}=w,{timestamp:L}=Ht;this.history.push({...k,timestamp:L});const{onStart:P,onMove:O}=this.handlers;T||(P&&P(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Bd(T,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:A,onSessionEnd:k,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Wd(w.type==="pointercancel"?this.lastMoveEventInfo:Bd(T,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,P),k&&k(w,P)},!Bh(r))return;this.dragSnapToOrigin=d,this.handlers=o,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=l||window;const p=Yi(r),f=Bd(p,this.transformPagePoint),{point:y}=f,{timestamp:g}=Ht;this.history=[{...y,timestamp:g}];const{onSessionStart:v}=o;v&&v(r,Wd(f,this.history)),this.removeListeners=Hi(Ei(this.contextWindow,"pointermove",this.handlePointerMove),Ei(this.contextWindow,"pointerup",this.handlePointerUp),Ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function Bd(e,r){return r?{point:r(e.point)}:e}function Fg(e,r){return{x:e.x-r.x,y:e.y-r.y}}function Wd({point:e},r){return{point:e,delta:Fg(e,Wx(r)),offset:Fg(e,PS(r)),velocity:RS(r,.1)}}function PS(e){return e[0]}function Wx(e){return e[e.length-1]}function RS(e,r){if(e.length<2)return{x:0,y:0};let o=e.length-1,i=null;const l=Wx(e);for(;o>=0&&(i=e[o],!(l.timestamp-i.timestamp>cr(r)));)o--;if(!i)return{x:0,y:0};const d=dr(l.timestamp-i.timestamp);if(d===0)return{x:0,y:0};const u={x:(l.x-i.x)/d,y:(l.y-i.y)/d};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function MS(e,{min:r,max:o},i){return r!==void 0&&e<r?e=i?jt(r,e,i.min):Math.max(e,r):o!==void 0&&e>o&&(e=i?jt(o,e,i.max):Math.min(e,o)),e}function Vg(e,r,o){return{min:r!==void 0?e.min+r:void 0,max:o!==void 0?e.max+o-(e.max-e.min):void 0}}function IS(e,{top:r,left:o,bottom:i,right:l}){return{x:Vg(e.x,o,l),y:Vg(e.y,r,i)}}function _g(e,r){let o=r.min-e.min,i=r.max-e.max;return r.max-r.min<e.max-e.min&&([o,i]=[i,o]),{min:o,max:i}}function OS(e,r){return{x:_g(e.x,r.x),y:_g(e.y,r.y)}}function FS(e,r){let o=.5;const i=on(e),l=on(r);return l>i?o=Ii(r.min,r.max-i,e.min):i>l&&(o=Ii(e.min,e.max-l,r.min)),Er(0,1,o)}function VS(e,r){const o={};return r.min!==void 0&&(o.min=r.min-e.min),r.max!==void 0&&(o.max=r.max-e.min),o}const Uu=.35;function _S(e=Uu){return e===!1?e=0:e===!0&&(e=Uu),{x:Bg(e,"left","right"),y:Bg(e,"top","bottom")}}function Bg(e,r,o){return{min:Wg(e,r),max:Wg(e,o)}}function Wg(e,r){return typeof e=="number"?e:e[r]||0}const BS=new WeakMap;class WS{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=r}start(r,{snapToCursor:o=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const d=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(Yi(v).point)},u=(v,w)=>{const{drag:T,dragPropagation:A,onDragStart:k}=this.getProps();if(T&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e2(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(P=>{let O=this.getAxisMotionValue(P).get()||0;if(ur.test(O)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[P];R&&(O=on(R)*(parseFloat(O)/100))}}this.originPoint[P]=O}),k&&gt.postRender(()=>k(v,w)),Vu(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},p=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:T,dragDirectionLock:A,onDirectionLock:k,onDrag:L}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:P}=w;if(A&&this.currentDirection===null){this.currentDirection=US(P),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,P),this.updateAxis("y",w.point,P),this.visualElement.render(),L&&L(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>On(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Bx(r,{onSessionStart:d,onStart:u,onMove:p,onSessionEnd:f,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:_x(this.visualElement)})}stop(r,o){const i=r||this.latestPointerEvent,l=o||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!l||!i)return;const{velocity:u}=l;this.startAnimation(u);const{onDragEnd:p}=this.getProps();p&&gt.postRender(()=>p(i,l))}cancel(){this.isDragging=!1;const{projection:r,animationState:o}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(r,o,i){const{drag:l}=this.getProps();if(!i||!al(r,l,this.currentDirection))return;const d=this.getAxisMotionValue(r);let u=this.originPoint[r]+i[r];this.constraints&&this.constraints[r]&&(u=MS(u,this.constraints[r],this.elastic[r])),d.set(u)}resolveConstraints(){const{dragConstraints:r,dragElastic:o}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;r&&xo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=IS(i.layoutBox,r):this.constraints=!1,this.elastic=_S(o),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&On(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=VS(i.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:o}=this.getProps();if(!r||!xo(r))return!1;const i=r.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const d=LS(i,l.root,this.visualElement.getTransformPagePoint());let u=OS(l.layout.layoutBox,d);if(o){const p=o(jS(u));this.hasMutatedConstraints=!!p,p&&(u=Rx(p))}return u}startAnimation(r){const{drag:o,dragMomentum:i,dragElastic:l,dragTransition:d,dragSnapToOrigin:u,onDragTransitionEnd:p}=this.getProps(),f=this.constraints||{},y=On(g=>{if(!al(g,o,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const w=l?200:1e6,T=l?40:1e7,A={type:"inertia",velocity:i?r[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...d,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(y).then(p)}startAxisValueAnimation(r,o){const i=this.getAxisMotionValue(r);return Vu(this.visualElement,r),i.start(Kh(r,i,0,o,this.visualElement,!1))}stopAnimation(){On(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){On(r=>this.getAxisMotionValue(r).animation?.pause())}getAnimationState(r){return this.getAxisMotionValue(r).animation?.state}getAxisMotionValue(r){const o=`_drag${r.toUpperCase()}`,i=this.visualElement.getProps(),l=i[o];return l||this.visualElement.getValue(r,(i.initial?i.initial[r]:void 0)||0)}snapToCursor(r){On(o=>{const{drag:i}=this.getProps();if(!al(o,i,this.currentDirection))return;const{projection:l}=this.visualElement,d=this.getAxisMotionValue(o);if(l&&l.layout){const{min:u,max:p}=l.layout.layoutBox[o];d.set(r[o]-jt(u,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:o}=this.getProps(),{projection:i}=this.visualElement;if(!xo(o)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};On(u=>{const p=this.getAxisMotionValue(u);if(p&&this.constraints!==!1){const f=p.get();l[u]=FS({min:f,max:f},this.constraints[u])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),On(u=>{if(!al(u,r,null))return;const p=this.getAxisMotionValue(u),{min:f,max:y}=this.constraints[u];p.set(jt(f,y,l[u]))})}addListeners(){if(!this.visualElement.current)return;BS.set(this.visualElement,this);const r=this.visualElement.current,o=Ei(r,"pointerdown",f=>{const{drag:y,dragListener:g=!0}=this.getProps();y&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();xo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,d=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),gt.read(i);const u=Wi(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",({delta:f,hasLayoutChanged:y})=>{this.isDragging&&y&&(On(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),o(),d(),p&&p()}}getProps(){const r=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:d=!1,dragElastic:u=Uu,dragMomentum:p=!0}=r;return{...r,drag:o,dragDirectionLock:i,dragPropagation:l,dragConstraints:d,dragElastic:u,dragMomentum:p}}}function al(e,r,o){return(r===!0||r===e)&&(o===null||o===e)}function US(e,r=10){let o=null;return Math.abs(e.y)>r?o="y":Math.abs(e.x)>r&&(o="x"),o}class zS extends ds{constructor(r){super(r),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new WS(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ug=e=>(r,o)=>{e&&gt.postRender(()=>e(r,o))};class $S extends ds{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(r){this.session=new Bx(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_x(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:o,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:Ug(r),onStart:Ug(o),onMove:i,onEnd:(d,u)=>{delete this.session,l&&gt.postRender(()=>l(d,u))}}}mount(){this.removePointerDownListener=Ei(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ml={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zg(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const vi={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(Ue.test(e))e=parseFloat(e);else return e;const o=zg(e,r.target.x),i=zg(e,r.target.y);return`${o}% ${i}%`}},HS={correct:(e,{treeScale:r,projectionDelta:o})=>{const i=e,l=as.parse(e);if(l.length>5)return i;const d=as.createTransformer(e),u=typeof l[0]!="number"?1:0,p=o.x.scale*r.x,f=o.y.scale*r.y;l[0+u]/=p,l[1+u]/=f;const y=jt(p,f,.5);return typeof l[2+u]=="number"&&(l[2+u]/=y),typeof l[3+u]=="number"&&(l[3+u]/=y),d(l)}};let $g=!1;class qS extends x.Component{componentDidMount(){const{visualElement:r,layoutGroup:o,switchLayoutGroup:i,layoutId:l}=this.props,{projection:d}=r;L2(GS),d&&(o.group&&o.group.add(d),i&&i.register&&l&&i.register(d),$g&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),ml.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:o,visualElement:i,drag:l,isPresent:d}=this.props,{projection:u}=i;return u&&(u.isPresent=d,$g=!0,l||r.layoutDependency!==o||o===void 0||r.isPresent!==d?u.willUpdate():this.safeToRemove(),r.isPresent!==d&&(d?u.promote():u.relegate()||gt.postRender(()=>{const p=u.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),_h.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:o,switchLayoutGroup:i}=this.props,{projection:l}=r;l&&(l.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function Ux(e){const[r,o]=mx(),i=x.useContext(yh);return t.jsx(qS,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(wx),isPresent:r,safeToRemove:o})}const GS={borderRadius:{...vi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vi,borderTopRightRadius:vi,borderBottomLeftRadius:vi,borderBottomRightRadius:vi,boxShadow:HS};function YS(e,r,o){const i=en(e)?e:No(e);return i.start(Kh("",i,r,o)),i.animation}const QS=(e,r)=>e.depth-r.depth;class KS{constructor(){this.children=[],this.isDirty=!1}add(r){wh(this.children,r),this.isDirty=!0}remove(r){jh(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(QS),this.isDirty=!1,this.children.forEach(r)}}function ZS(e,r){const o=xn.now(),i=({timestamp:l})=>{const d=l-o;d>=r&&(is(i),e(d-r))};return gt.setup(i,!0),()=>is(i)}const zx=["TopLeft","TopRight","BottomLeft","BottomRight"],JS=zx.length,Hg=e=>typeof e=="string"?parseFloat(e):e,qg=e=>typeof e=="number"||Ue.test(e);function XS(e,r,o,i,l,d){l?(e.opacity=jt(0,o.opacity??1,eC(i)),e.opacityExit=jt(r.opacity??1,0,tC(i))):d&&(e.opacity=jt(r.opacity??1,o.opacity??1,i));for(let u=0;u<JS;u++){const p=`border${zx[u]}Radius`;let f=Gg(r,p),y=Gg(o,p);if(f===void 0&&y===void 0)continue;f||(f=0),y||(y=0),f===0||y===0||qg(f)===qg(y)?(e[p]=Math.max(jt(Hg(f),Hg(y),i),0),(ur.test(y)||ur.test(f))&&(e[p]+="%")):e[p]=y}(r.rotate||o.rotate)&&(e.rotate=jt(r.rotate||0,o.rotate||0,i))}function Gg(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const eC=$x(0,.5,Iv),tC=$x(.5,.95,_n);function $x(e,r,o){return i=>i<e?0:i>r?1:o(Ii(e,r,i))}function Yg(e,r){e.min=r.min,e.max=r.max}function In(e,r){Yg(e.x,r.x),Yg(e.y,r.y)}function Qg(e,r){e.translate=r.translate,e.scale=r.scale,e.originPoint=r.originPoint,e.origin=r.origin}function Kg(e,r,o,i,l){return e-=r,e=Sl(e,1/o,i),l!==void 0&&(e=Sl(e,1/l,i)),e}function nC(e,r=0,o=1,i=.5,l,d=e,u=e){if(ur.test(r)&&(r=parseFloat(r),r=jt(u.min,u.max,r/100)-u.min),typeof r!="number")return;let p=jt(d.min,d.max,i);e===d&&(p-=r),e.min=Kg(e.min,r,o,p,l),e.max=Kg(e.max,r,o,p,l)}function Zg(e,r,[o,i,l],d,u){nC(e,r[o],r[i],r[l],r.scale,d,u)}const rC=["x","scaleX","originX"],sC=["y","scaleY","originY"];function Jg(e,r,o,i){Zg(e.x,r,rC,o?o.x:void 0,i?i.x:void 0),Zg(e.y,r,sC,o?o.y:void 0,i?i.y:void 0)}function Xg(e){return e.translate===0&&e.scale===1}function Hx(e){return Xg(e.x)&&Xg(e.y)}function ey(e,r){return e.min===r.min&&e.max===r.max}function oC(e,r){return ey(e.x,r.x)&&ey(e.y,r.y)}function ty(e,r){return Math.round(e.min)===Math.round(r.min)&&Math.round(e.max)===Math.round(r.max)}function qx(e,r){return ty(e.x,r.x)&&ty(e.y,r.y)}function ny(e){return on(e.x)/on(e.y)}function ry(e,r){return e.translate===r.translate&&e.scale===r.scale&&e.originPoint===r.originPoint}class iC{constructor(){this.members=[]}add(r){wh(this.members,r),r.scheduleRender()}remove(r){if(jh(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(r){const o=this.members.findIndex(l=>r===l);if(o===0)return!1;let i;for(let l=o;l>=0;l--){const d=this.members[l];if(d.isPresent!==!1){i=d;break}}return i?(this.promote(i),!0):!1}promote(r,o){const i=this.lead;if(r!==i&&(this.prevLead=i,this.lead=r,r.show(),i)){i.instance&&i.scheduleRender(),r.scheduleRender(),r.resumeFrom=i,o&&(r.resumeFrom.preserveOpacity=!0),i.snapshot&&(r.snapshot=i.snapshot,r.snapshot.latestValues=i.animationValues||i.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:l}=r.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:o,resumingFrom:i}=r;o.onExitComplete&&o.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aC(e,r,o){let i="";const l=e.x.translate/r.x,d=e.y.translate/r.y,u=o?.z||0;if((l||d||u)&&(i=`translate3d(${l}px, ${d}px, ${u}px) `),(r.x!==1||r.y!==1)&&(i+=`scale(${1/r.x}, ${1/r.y}) `),o){const{transformPerspective:y,rotate:g,rotateX:v,rotateY:w,skewX:T,skewY:A}=o;y&&(i=`perspective(${y}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),T&&(i+=`skewX(${T}deg) `),A&&(i+=`skewY(${A}deg) `)}const p=e.x.scale*r.x,f=e.y.scale*r.y;return(p!==1||f!==1)&&(i+=`scale(${p}, ${f})`),i||"none"}const Ud=["","X","Y","Z"],lC=1e3;let cC=0;function zd(e,r,o,i){const{latestValues:l}=r;l[e]&&(o[e]=l[e],r.setStaticValue(e,0),i&&(i[e]=0))}function Gx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:r}=e.options;if(!r)return;const o=Ex(r);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:l,layoutId:d}=e.options;window.MotionCancelOptimisedAnimation(o,"transform",gt,!(l||d))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Gx(i)}function Yx({attachResizeListener:e,defaultParent:r,measureScroll:o,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(u={},p=r?.()){this.id=cC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hC),this.nodes.forEach(gC),this.nodes.forEach(yC),this.nodes.forEach(pC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new KS)}addEventListener(u,p){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Sh),this.eventHandlers.get(u).add(p)}notifyListeners(u,...p){const f=this.eventHandlers.get(u);f&&f.notify(...p)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=fx(u)&&!i2(u),this.instance=u;const{layoutId:p,layout:f,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||p)&&(this.isLayoutDirty=!0),e){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{v=window.innerWidth}),e(u,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=ZS(w,250),ml.hasAnimatedSinceResize&&(ml.hasAnimatedSinceResize=!1,this.nodes.forEach(iy)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||y.getDefaultTransition()||bC,{onLayoutAnimationStart:k,onLayoutAnimationComplete:L}=y.getProps(),P=!this.targetLayout||!qx(this.targetLayout,T),O=!v&&w;if(this.options.layoutRoot||this.resumeFrom||O||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Fh(A,"layout"),onPlay:k,onComplete:L};(y.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,O)}else v||iy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vC),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:p,layout:f}=this.options;if(p===void 0&&!f)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mC),this.nodes.forEach(dC),this.nodes.forEach(uC)):this.nodes.forEach(oy),this.clearAllSnapshots();const p=xn.now();Ht.delta=Er(0,1e3/60,p-Ht.timestamp),Ht.timestamp=p,Ht.isProcessing=!0,Rd.update.process(Ht),Rd.preRender.process(Ht),Rd.render.process(Ht),Ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_h.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fC),this.sharedNodes.forEach(xC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(p=!1),p&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!l)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!Hx(this.projectionDelta),f=this.getTransformTemplate(),y=f?f(this.latestValues,""):void 0,g=y!==this.prevTransformTemplateValue;u&&this.instance&&(p||Es(this.latestValues)||g)&&(l(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const p=this.measurePageBox();let f=this.removeElementScroll(p);return u&&(f=this.removeTransform(f)),kC(f),{animationId:this.root.animationId,measuredBox:p,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Nt();const p=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(SC))){const{scroll:y}=this.root;y&&(jo(p.x,y.offset.x),jo(p.y,y.offset.y))}return p}removeElementScroll(u){const p=Nt();if(In(p,u),this.scroll?.wasRoot)return p;for(let f=0;f<this.path.length;f++){const y=this.path[f],{scroll:g,options:v}=y;y!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&In(p,u),jo(p.x,g.offset.x),jo(p.y,g.offset.y))}return p}applyTransform(u,p=!1){const f=Nt();In(f,u);for(let y=0;y<this.path.length;y++){const g=this.path[y];!p&&g.options.layoutScroll&&g.scroll&&g!==g.root&&bo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Es(g.latestValues)&&bo(f,g.latestValues)}return Es(this.latestValues)&&bo(f,this.latestValues),f}removeTransform(u){const p=Nt();In(p,u);for(let f=0;f<this.path.length;f++){const y=this.path[f];if(!y.instance||!Es(y.latestValues))continue;Bu(y.latestValues)&&y.updateSnapshot();const g=Nt(),v=y.measurePageBox();In(g,v),Jg(p,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,g)}return Es(this.latestValues)&&Jg(p,this.latestValues),p}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==p;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Ht.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Di(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):In(this.target,this.layout.layoutBox),Fx(this.target,this.targetDelta)):In(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Di(this.relativeTargetOrigin,this.target,w.target),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bu(this.parent.latestValues)||Ox(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),p=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ht.timestamp&&(f=!1),f)return;const{layout:y,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||g))return;In(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;ES(this.layoutCorrected,this.treeScale,this.path,p),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Nt());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qg(this.prevProjectionDelta.x,this.projectionDelta.x),Qg(this.prevProjectionDelta.y,this.projectionDelta.y)),Li(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!ry(this.projectionDelta.x,this.prevProjectionDelta.x)||!ry(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wo(),this.projectionDelta=wo(),this.projectionDeltaWithTransform=wo()}setAnimationOrigin(u,p=!1){const f=this.snapshot,y=f?f.latestValues:{},g={...this.latestValues},v=wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const w=Nt(),T=f?f.source:void 0,A=this.layout?this.layout.source:void 0,k=T!==A,L=this.getStack(),P=!L||L.members.length<=1,O=!!(k&&!P&&this.options.crossfade===!0&&!this.path.some(jC));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const $=R/1e3;ay(v.x,u.x,$),ay(v.y,u.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Di(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wC(this.relativeTarget,this.relativeTargetOrigin,w,$),N&&oC(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Nt()),In(N,this.relativeTarget)),k&&(this.animationValues=g,XS(g,y,this.latestValues,$,O,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{ml.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=YS(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:p,target:f,layout:y,latestValues:g}=u;if(!(!p||!f||!y)){if(this!==u&&this.layout&&y&&Qx(this.options.animationType,this.layout.layoutBox,y.layoutBox)){f=this.target||Nt();const v=on(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=on(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}In(p,f),bo(p,g),Li(this.projectionDeltaWithTransform,this.layoutCorrected,p,g)}}registerSharedNode(u,p){this.sharedNodes.has(u)||this.sharedNodes.set(u,new iC),this.sharedNodes.get(u).add(p);const y=p.options.initialPromotionConfig;p.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(p):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:p,preserveFollowOpacity:f}={}){const y=this.getStack();y&&y.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let p=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(p=!0),!p)return;const y={};f.z&&zd("z",u,y,this.animationValues);for(let g=0;g<Ud.length;g++)zd(`rotate${Ud[g]}`,u,y,this.animationValues),zd(`skew${Ud[g]}`,u,y,this.animationValues);u.render();for(const g in y)u.setStaticValue(g,y[g]),this.animationValues&&(this.animationValues[g]=y[g]);u.scheduleRender()}applyProjectionStyles(u,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=fl(p?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=fl(p?.pointerEvents)||""),this.hasProjected&&!Es(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=y.animationValues||y.latestValues;this.applyTransformsToTarget();let v=aC(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:w,y:T}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,y.animationValues?u.opacity=y===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=y===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in _i){if(g[A]===void 0)continue;const{correct:k,applyTo:L,isCSSVariable:P}=_i[A],O=v==="none"?g[A]:k(g[A],y);if(L){const N=L.length;for(let R=0;R<N;R++)u[L[R]]=O}else P?this.options.visualElement.renderState.vars[A]=O:u[A]=O}this.options.layoutId&&(u.pointerEvents=y===this?fl(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(sy),this.root.sharedNodes.clear()}}}function dC(e){e.updateLayout()}function uC(e){const r=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:i}=e.layout,{animationType:l}=e.options,d=r.source!==e.layout.source;l==="size"?On(g=>{const v=d?r.measuredBox[g]:r.layoutBox[g],w=on(v);v.min=o[g].min,v.max=v.min+w}):Qx(l,r.layoutBox,o)&&On(g=>{const v=d?r.measuredBox[g]:r.layoutBox[g],w=on(o[g]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+w)});const u=wo();Li(u,o,r.layoutBox);const p=wo();d?Li(p,e.applyTransform(i,!0),r.measuredBox):Li(p,o,r.layoutBox);const f=!Hx(u);let y=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const T=Nt();Di(T,r.layoutBox,v.layoutBox);const A=Nt();Di(A,o,w.layoutBox),qx(T,A)||(y=!0),g.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=T,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:p,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function hC(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fC(e){e.clearSnapshot()}function sy(e){e.clearMeasurements()}function oy(e){e.isLayoutDirty=!1}function mC(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function iy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gC(e){e.resolveTargetDelta()}function yC(e){e.calcProjection()}function vC(e){e.resetSkewAndRotation()}function xC(e){e.removeLeadSnapshot()}function ay(e,r,o){e.translate=jt(r.translate,0,o),e.scale=jt(r.scale,1,o),e.origin=r.origin,e.originPoint=r.originPoint}function ly(e,r,o,i){e.min=jt(r.min,o.min,i),e.max=jt(r.max,o.max,i)}function wC(e,r,o,i){ly(e.x,r.x,o.x,i),ly(e.y,r.y,o.y,i)}function jC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bC={duration:.45,ease:[.4,0,.1,1]},cy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dy=cy("applewebkit/")&&!cy("chrome/")?Math.round:_n;function uy(e){e.min=dy(e.min),e.max=dy(e.max)}function kC(e){uy(e.x),uy(e.y)}function Qx(e,r,o){return e==="position"||e==="preserve-aspect"&&!AS(ny(r),ny(o),.2)}function SC(e){return e!==e.root&&e.scroll?.wasRoot}const CC=Yx({attachResizeListener:(e,r)=>Wi(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$d={current:void 0},Kx=Yx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$d.current){const e=new CC({});e.mount(window),e.setOptions({layoutScroll:!0}),$d.current=e}return $d.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NC={pan:{Feature:$S},drag:{Feature:zS,ProjectionNode:Kx,MeasureLayout:Ux}};function hy(e,r,o){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",o==="Start");const l="onHover"+o,d=i[l];d&&gt.postRender(()=>d(r,Yi(r)))}class AC extends ds{mount(){const{current:r}=this.node;r&&(this.unmount=t2(r,(o,i)=>(hy(this.node,i,"Start"),l=>hy(this.node,l,"End"))))}unmount(){}}class TC extends ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hi(Wi(this.node.current,"focus",()=>this.onFocus()),Wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function py(e,r,o){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",o==="Start");const l="onTap"+(o==="End"?"":o),d=i[l];d&&gt.postRender(()=>d(r,Yi(r)))}class EC extends ds{mount(){const{current:r}=this.node;r&&(this.unmount=o2(r,(o,i)=>(py(this.node,i,"Start"),(l,{success:d})=>py(this.node,l,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zu=new WeakMap,Hd=new WeakMap,LC=e=>{const r=zu.get(e.target);r&&r(e)},DC=e=>{e.forEach(LC)};function PC({root:e,...r}){const o=e||document;Hd.has(o)||Hd.set(o,{});const i=Hd.get(o),l=JSON.stringify(r);return i[l]||(i[l]=new IntersectionObserver(DC,{root:e,...r})),i[l]}function RC(e,r,o){const i=PC(r);return zu.set(e,o),i.observe(e),()=>{zu.delete(e),i.unobserve(e)}}const MC={some:0,all:1};class IC extends ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:o,margin:i,amount:l="some",once:d}=r,u={root:o?o.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:MC[l]},p=f=>{const{isIntersecting:y}=f;if(this.isInView===y||(this.isInView=y,d&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=y?g:v;w&&w(f)};return RC(this.node.current,u,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:o}=this.node;["amount","margin","root"].some(OC(r,o))&&this.startObserver()}unmount(){}}function OC({viewport:e={}},{viewport:r={}}={}){return o=>e[o]!==r[o]}const FC={inView:{Feature:IC},tap:{Feature:EC},focus:{Feature:TC},hover:{Feature:AC}},VC={layout:{ProjectionNode:Kx,MeasureLayout:Ux}},$u={current:null},Zx={current:!1};function _C(){if(Zx.current=!0,!!xh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>$u.current=e.matches;e.addEventListener("change",r),r()}else $u.current=!1}const BC=new WeakMap;function WC(e,r,o){for(const i in r){const l=r[i],d=o[i];if(en(l))e.addValue(i,l);else if(en(d))e.addValue(i,No(l,{owner:e}));else if(d!==l)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(l):u.hasAnimated||u.set(l)}else{const u=e.getStaticValue(i);e.addValue(i,No(u!==void 0?u:l,{owner:e}))}}for(const i in o)r[i]===void 0&&e.removeValue(i);return r}const fy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UC{scrapeMotionValuesFromProps(r,o,i){return{}}constructor({parent:r,props:o,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:d,visualState:u},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Oh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=xn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,gt.render(this.render,!1,!0))};const{latestValues:f,renderState:y}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=o.initial?{...f}:{},this.renderState=y,this.parent=r,this.props=o,this.presenceContext=i,this.depth=r?r.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.blockInitialAnimation=!!d,this.isControllingVariants=Ml(o),this.isVariantNode=vx(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(o,{},this);for(const w in v){const T=v[w];f[w]!==void 0&&en(T)&&T.set(f[w],!1)}}mount(r){this.current=r,BC.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,i)=>this.bindToMotionValue(i,o)),Zx.current||_C(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$u.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const o=this.features[r];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(r,o){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const i=Ro.has(r);i&&this.onBindTransform&&this.onBindTransform();const l=o.on("change",p=>{this.latestValues[r]=p,this.props.onUpdate&&gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),d=o.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,r,o)),this.valueSubscriptions.set(r,()=>{l(),d(),u&&u(),o.owner&&o.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in Ao){const o=Ao[r];if(!o)continue;const{isEnabled:i,Feature:l}=o;if(!this.features[r]&&l&&i(this.props)&&(this.features[r]=new l(this)),this.features[r]){const d=this.features[r];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,o){this.latestValues[r]=o}update(r,o){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let i=0;i<fy.length;i++){const l=fy[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const d="on"+l,u=r[d];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=WC(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(r),()=>o.variantChildren.delete(r)}addValue(r,o){const i=this.values.get(r);o!==i&&(i&&this.removeValue(r),this.bindToMotionValue(r,o),this.values.set(r,o),this.latestValues[r]=o.get())}removeValue(r){this.values.delete(r);const o=this.valueSubscriptions.get(r);o&&(o(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,o){if(this.props.values&&this.props.values[r])return this.props.values[r];let i=this.values.get(r);return i===void 0&&o!==void 0&&(i=No(o===null?void 0:o,{owner:this}),this.addValue(r,i)),i}readValue(r,o){let i=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return i!=null&&(typeof i=="string"&&(Cv(i)||Av(i))?i=parseFloat(i):!l2(i)&&as.test(o)&&(i=lx(r,o)),this.setBaseTarget(r,en(i)?i.get():i)),en(i)?i.get():i}setBaseTarget(r,o){this.baseTarget[r]=o}getBaseTarget(r){const{initial:o}=this.props;let i;if(typeof o=="string"||typeof o=="object"){const d=Yh(this.props,o,this.presenceContext?.custom);d&&(i=d[r])}if(o&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,r);return l!==void 0&&!en(l)?l:this.initialValues[r]!==void 0&&i===void 0?void 0:this.baseTarget[r]}on(r,o){return this.events[r]||(this.events[r]=new Sh),this.events[r].add(o)}notify(r,...o){this.events[r]&&this.events[r].notify(...o)}}class Jx extends UC{constructor(){super(...arguments),this.KeyframeResolver=Kk}sortInstanceNodePosition(r,o){return r.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(r,o){return r.style?r.style[o]:void 0}removeValueFromRenderState(r,{vars:o,style:i}){delete o[r],delete i[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;en(r)&&(this.childSubscription=r.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function Xx(e,{style:r,vars:o},i,l){const d=e.style;let u;for(u in r)d[u]=r[u];l?.applyProjectionStyles(d,i);for(u in o)d.setProperty(u,o[u])}function zC(e){return window.getComputedStyle(e)}class $C extends Jx{constructor(){super(...arguments),this.type="html",this.renderInstance=Xx}readValueFromInstance(r,o){if(Ro.has(o))return this.projection?.isProjecting?Du(o):mk(r,o);{const i=zC(r),l=(Ah(o)?i.getPropertyValue(o):i[o])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(r,{transformPagePoint:o}){return Vx(r,o)}build(r,o,i){Hh(r,o,i.transformTemplate)}scrapeMotionValuesFromProps(r,o,i){return Qh(r,o,i)}}const e0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HC(e,r,o,i){Xx(e,r,void 0,i);for(const l in r.attrs)e.setAttribute(e0.has(l)?l:$h(l),r.attrs[l])}class qC extends Jx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(r,o){return r[o]}readValueFromInstance(r,o){if(Ro.has(o)){const i=ax(o);return i&&i.default||0}return o=e0.has(o)?o:$h(o),r.getAttribute(o)}scrapeMotionValuesFromProps(r,o,i){return Tx(r,o,i)}build(r,o,i){Sx(r,o,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(r,o,i,l){HC(r,o,i,l)}mount(r){this.isSVGTag=Nx(r.tagName),super.mount(r)}}const GC=(e,r)=>Gh(e)?new qC(r):new $C(r,{allowProjection:e!==x.Fragment}),YC=G2({...xS,...FC,...NC,...VC},GC),ke=v2(YC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,i)=>i?i.toUpperCase():o.toLowerCase()),my=e=>{const r=KC(e);return r.charAt(0).toUpperCase()+r.slice(1)},t0=(...e)=>e.filter((r,o,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===o).join(" ").trim(),ZC=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=x.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:d,iconNode:u,...p},f)=>x.createElement("svg",{ref:f,...JC,width:r,height:r,stroke:e,strokeWidth:i?Number(o)*24/Number(r):o,className:t0("lucide",l),...!d&&!ZC(p)&&{"aria-hidden":"true"},...p},[...u.map(([y,g])=>x.createElement(y,g)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(e,r)=>{const o=x.forwardRef(({className:i,...l},d)=>x.createElement(XC,{ref:d,iconNode:r,className:t0(`lucide-${QC(my(e))}`,`lucide-${e}`,i),...l}));return o.displayName=my(e),o};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],tN=Tt("bath",eN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hu=Tt("calendar",nN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xi=Tt("check",rN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gl=Tt("circle-check-big",sN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],iN=Tt("circle-x",oN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qu=Tt("clock",aN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gy=Tt("download",lN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qd=Tt("file-text",cN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],go=Tt("house",dN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hN=Tt("mail",uN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fN=Tt("map-pin",pN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ll=Tt("phone",mN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gd=Tt("plus",gN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yd=Tt("save",yN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xN=Tt("shield",vN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],po=Tt("square-check-big",wN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Qd=Tt("square-pen",jN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],wi=Tt("square",bN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Kd=Tt("trash-2",kN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yy=Tt("user",SN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],n0=Tt("users",CN),ji="faqs",Ci={async getAllFAQs(){try{const e=Ze(Me(je(),ji),It("createdAt","desc"));return(await Oe(e)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error("Error fetching FAQs:",e),new Error("Failed to fetch FAQs")}},async getFAQById(e){try{const r=Fe(je(),ji,e),o=await Jn(r);if(o.exists())return{id:o.id,...o.data()};throw new Error("FAQ not found")}catch(r){throw console.error("Error fetching FAQ:",r),new Error("Failed to fetch FAQ")}},async addFAQ(e){try{return{id:(await yn(Me(je(),ji),{...e,createdAt:Ar(),updatedAt:Ar()})).id,...e,createdAt:new Date,updatedAt:new Date}}catch(r){throw console.error("Error adding FAQ:",r),new Error("Failed to add FAQ")}},async updateFAQ(e,r){try{const o=Fe(je(),ji,e);return await sn(o,{...r,updatedAt:Ar()}),{id:e,...r,updatedAt:new Date}}catch(o){throw console.error("Error updating FAQ:",o),new Error("Failed to update FAQ")}},async deleteFAQ(e){try{const r=Fe(je(),ji,e);return await vn(r),e}catch(r){throw console.error("Error deleting FAQ:",r),new Error("Failed to delete FAQ")}},async searchFAQs(e){try{const r=await this.getAllFAQs(),o=e.toLowerCase();return r.filter(i=>i.question.toLowerCase().includes(o)||i.answer.toLowerCase().includes(o))}catch(r){throw console.error("Error searching FAQs:",r),new Error("Failed to search FAQs")}}},NN=({onNavigate:e})=>{const{currentUser:r}=Ll(),[o,i]=x.useState(null),[l,d]=x.useState([]),[u,p]=x.useState(!0),[f,y]=x.useState(null),[g,v]=x.useState(!1),[w,T]=x.useState(!1),[A,k]=x.useState(!1),L={title:"Long Home Reference Guide",lastUpdated:new Date().toLocaleDateString(),sections:{roof:{title:"Roof Services",icon:t.jsx(go,{className:"section-icon"}),canDo:{title:"Can Do",items:["Total replacement of roof:","• Asphalt Shingle roof","• Metal Roof","• Flat roof","• (Synthetic) Cedar Shake","• (Synthetic) Slate","• Modular home same as Single Family","• Mobile home (Asphalt shingle Only)","• 2 car lengths wide garage (Must be detached from home)","• Barns (Asphalt shingle. Must be on Plywood)"]},cantDo:{title:"Can't Do",items:["Cedar Shake","Slate","Partial Replacement","Roof Repairs","Structural work/Framing","Shed","Single car garage","Mobile home (Metal, flat roof, etc.)","Roof that covers multiple properties (Example: Condos, Apartments, etc.)","Insurance (No open claims)","Commercial Properties","Shingle Lay over"]}},bath:{title:"Bath Services",icon:t.jsx(tN,{className:"section-icon"}),canDo:{title:"Can Do",items:["Must have existing Tub/Shower (Wet Area)","• Tub/shower replacement","• Tub to Shower Conversion","• Walk in Tubs (Excludes NH, RI)","• Modular home same as Single Family","• Mobile home (No walk in Tub)","• Full bathroom extras (Wet area must be included)","  - Toilet","  - Vanity","  - Flooring (Vinyl tile)","  - Mirror"]},cantDo:{title:"Can't Do",items:["Half Bathrooms","Partial Replacement, Repairs, Liners","Plumbing/Demolition","Lighting","Ceramic Tile","Mobile home (Walk in tubs)","Insurance (No open claims)","Commercial Properties","Free standing/Claw Tub"]}}}};x.useEffect(()=>{O(),P()},[r]);const P=()=>{const U=localStorage.getItem("adminUser");if(U)try{const J=JSON.parse(U);v(J.role==="admin")}catch(J){console.error("Error parsing admin user data:",J),v(!1)}else v(!1)},O=async()=>{try{p(!0),y(null);const U=await Ci.getAllFAQs();d(U)}catch(U){console.error("Error loading FAQs:",U),y("Failed to load FAQs. Please try again.")}finally{p(!1)}},N=x.useCallback(U=>{i(J=>J===U?null:U)},[]),R=()=>{try{const U=document.createElement("a");U.href="/Can-Can't do.pdf",U.download="Long-Home-Can-Cant-Do-Reference-Guide.pdf",U.target="_blank",document.body.appendChild(U),U.click(),document.body.removeChild(U)}catch(U){console.error("Error downloading file:",U);try{window.open("/Can-Can't do.pdf","_blank")}catch(J){console.error("Fallback download failed:",J),alert("Failed to download the reference guide. Please try again.")}}},$=()=>{try{const U=document.createElement("a");U.href="/Scheduling Script Update 2025 - Jill Approved.docx",U.download="Long-Home-Scheduling-Script-2025.docx",U.target="_blank",document.body.appendChild(U),U.click(),document.body.removeChild(U)}catch(U){console.error("Error downloading file:",U);try{window.open("/Scheduling Script Update 2025 - Jill Approved.docx","_blank")}catch(J){console.error("Fallback download failed:",J),alert("Failed to download the scheduling script. Please try again.")}}};return u?t.jsx("div",{className:"faq-container",children:t.jsxs("div",{className:"faq-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading FAQs..."})]})}):f?t.jsx("div",{className:"faq-container",children:t.jsxs("div",{className:"faq-error",children:[t.jsx("span",{className:"error-icon",children:"⚠️"}),t.jsx("h3",{children:"Error Loading FAQs"}),t.jsx("p",{children:f}),t.jsx("button",{onClick:O,className:"retry-button",children:"Try Again"})]})}):t.jsxs("div",{className:"faq-container",children:[t.jsxs("div",{className:"faq-header",children:[t.jsx(ke.h1,{className:"faq-title",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:"Frequently Asked Questions"}),t.jsx(ke.p,{className:"faq-subtitle",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:"FAQ for Reps"}),t.jsx("div",{className:"header-navigation",children:t.jsxs("div",{className:"quick-nav",children:[t.jsxs("button",{onClick:()=>e("home"),className:"nav-button home-button",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),t.jsxs("button",{onClick:()=>e("rebuttals"),className:"nav-button",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),t.jsxs("button",{onClick:()=>e("disposition"),className:"nav-button",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 3H15V5H9V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),t.jsxs("button",{onClick:()=>e("customerService"),className:"nav-button",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]}),t.jsxs("button",{onClick:()=>e("scheduleScript"),className:"nav-button",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8 2V6M16 2V6M3 10H21M5 4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Schedule Script"]})]})})]}),t.jsxs("div",{className:"faq-content",children:[t.jsxs(ke.div,{className:"reference-guide-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsxs("div",{className:"reference-guide-header",children:[t.jsxs("div",{className:"reference-guide-title",children:[t.jsx(xN,{className:"reference-guide-icon"}),t.jsxs("div",{children:[t.jsx("h2",{children:L.title}),t.jsxs("p",{className:"last-updated",children:["Last Updated: ",L.lastUpdated]})]})]}),t.jsxs("div",{className:"reference-guide-actions",children:[t.jsxs(ke.button,{className:"download-reference-button",onClick:R,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[t.jsx(gy,{className:"button-icon"}),"Download"]}),t.jsxs(ke.button,{className:"download-script-button",onClick:$,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[t.jsx(gy,{className:"button-icon"}),"Download Script"]})]})]}),t.jsx("div",{className:"reference-guide-content",children:Object.entries(L.sections).map(([U,J])=>t.jsxs(ke.div,{className:"reference-section",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},children:[t.jsxs("div",{className:"section-header",children:[J.icon,t.jsx("h3",{children:J.title})]}),t.jsxs("div",{className:"section-cards-flex",children:[t.jsxs("div",{className:"can-do-card",children:[t.jsxs("div",{className:"section-subheader",children:[t.jsx(gl,{className:"check-icon"}),t.jsx("h4",{children:J.canDo.title})]}),J.canDo.items.map((ee,ae)=>{if(!ee.startsWith("•")){const ye=[];for(let H=ae+1;H<J.canDo.items.length&&J.canDo.items[H].startsWith("•");H++)ye.push(J.canDo.items[H]);return t.jsxs("div",{className:"main-with-subs",children:[t.jsx("div",{className:"main-item",children:ee}),ye.length>0&&t.jsx("ul",{className:"service-list sub-items",children:ye.map((H,ue)=>t.jsx("li",{className:"sub-item",children:H},ue))})]},ae)}return null})]}),t.jsxs("div",{className:"cant-do-card",children:[t.jsxs("div",{className:"section-subheader",children:[t.jsx(iN,{className:"x-icon"}),t.jsx("h4",{children:J.cantDo.title})]}),t.jsx("ul",{className:"service-list cant-do-list",children:J.cantDo.items.map((ee,ae)=>t.jsx("li",{className:"sub-item",children:ee},ae))})]})]})]},U))})]}),t.jsxs(ke.div,{className:"faq-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h2",{className:"faq-section-title",children:"General FAQs"}),t.jsx("div",{className:"faq-grid",children:l.length>0?l.map((U,J)=>t.jsxs(ke.div,{className:`faq-card-public${o===J?" expanded":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5+J*.05},children:[t.jsxs("button",{className:`faq-question-public ${o===J?"active":""}`,onClick:()=>N(J),"aria-expanded":o===J,children:[t.jsx("span",{className:"faq-q-icon",children:"❓"}),t.jsx("span",{className:"question-text",children:U.question}),t.jsx("span",{className:"expand-icon",children:o===J?"−":"+"})]}),t.jsx("div",{className:"faq-divider-public"}),t.jsx(p2,{mode:"wait",children:o===J&&t.jsx(ke.div,{className:"faq-answer-public active",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2,ease:"easeInOut"},children:t.jsx("p",{children:U.answer})})})]},J)):t.jsx("div",{className:"empty-faq",children:t.jsxs("div",{className:"empty-faq-content",children:[t.jsx("h3",{children:"No FAQ content available"}),t.jsx("p",{children:"FAQ content will be added here. Please check back later or contact support for assistance."})]})})})]}),t.jsx("div",{className:"faq-footer",children:t.jsxs("div",{className:"contact-section",children:[t.jsx("h3",{children:"Still have questions?"}),t.jsx("p",{children:"Contact our support team for additional assistance."}),t.jsxs("div",{className:"contact-info",children:[t.jsxs("div",{className:"contact-item",children:[t.jsx("span",{className:"contact-label",children:"Email:"}),t.jsx("span",{className:"contact-value",children:"contactsupervisors@longhome.com"})]}),t.jsxs("div",{className:"contact-item",children:[t.jsx("span",{className:"contact-label",children:"Phone:"}),t.jsx("span",{className:"contact-value",children:"1-800-LONG-HOME"})]})]})]})})]})]})};var Zd={exports:{}},vy;function AN(){return vy||(vy=1,function(e){var r=function(o){var i=Object.prototype,l=i.hasOwnProperty,d=Object.defineProperty||function(C,E,S){C[E]=S.value},u,p=typeof Symbol=="function"?Symbol:{},f=p.iterator||"@@iterator",y=p.asyncIterator||"@@asyncIterator",g=p.toStringTag||"@@toStringTag";function v(C,E,S){return Object.defineProperty(C,E,{value:S,enumerable:!0,configurable:!0,writable:!0}),C[E]}try{v({},"")}catch{v=function(E,S,b){return E[S]=b}}function w(C,E,S,b){var F=E&&E.prototype instanceof N?E:N,M=Object.create(F.prototype),ne=new V(b||[]);return d(M,"_invoke",{value:ue(C,S,ne)}),M}o.wrap=w;function T(C,E,S){try{return{type:"normal",arg:C.call(E,S)}}catch(b){return{type:"throw",arg:b}}}var A="suspendedStart",k="suspendedYield",L="executing",P="completed",O={};function N(){}function R(){}function $(){}var U={};v(U,f,function(){return this});var J=Object.getPrototypeOf,ee=J&&J(J(Y([])));ee&&ee!==i&&l.call(ee,f)&&(U=ee);var ae=$.prototype=N.prototype=Object.create(U);R.prototype=$,d(ae,"constructor",{value:$,configurable:!0}),d($,"constructor",{value:R,configurable:!0}),R.displayName=v($,g,"GeneratorFunction");function ye(C){["next","throw","return"].forEach(function(E){v(C,E,function(S){return this._invoke(E,S)})})}o.isGeneratorFunction=function(C){var E=typeof C=="function"&&C.constructor;return E?E===R||(E.displayName||E.name)==="GeneratorFunction":!1},o.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,$):(C.__proto__=$,v(C,g,"GeneratorFunction")),C.prototype=Object.create(ae),C},o.awrap=function(C){return{__await:C}};function H(C,E){function S(M,ne,le,Se){var be=T(C[M],C,ne);if(be.type==="throw")Se(be.arg);else{var Q=be.arg,_=Q.value;return _&&typeof _=="object"&&l.call(_,"__await")?E.resolve(_.__await).then(function(Z){S("next",Z,le,Se)},function(Z){S("throw",Z,le,Se)}):E.resolve(_).then(function(Z){Q.value=Z,le(Q)},function(Z){return S("throw",Z,le,Se)})}}var b;function F(M,ne){function le(){return new E(function(Se,be){S(M,ne,Se,be)})}return b=b?b.then(le,le):le()}d(this,"_invoke",{value:F})}ye(H.prototype),v(H.prototype,y,function(){return this}),o.AsyncIterator=H,o.async=function(C,E,S,b,F){F===void 0&&(F=Promise);var M=new H(w(C,E,S,b),F);return o.isGeneratorFunction(E)?M:M.next().then(function(ne){return ne.done?ne.value:M.next()})};function ue(C,E,S){var b=A;return function(M,ne){if(b===L)throw new Error("Generator is already running");if(b===P){if(M==="throw")throw ne;return q()}for(S.method=M,S.arg=ne;;){var le=S.delegate;if(le){var Se=te(le,S);if(Se){if(Se===O)continue;return Se}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(b===A)throw b=P,S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);b=L;var be=T(C,E,S);if(be.type==="normal"){if(b=S.done?P:k,be.arg===O)continue;return{value:be.arg,done:S.done}}else be.type==="throw"&&(b=P,S.method="throw",S.arg=be.arg)}}}function te(C,E){var S=E.method,b=C.iterator[S];if(b===u)return E.delegate=null,S==="throw"&&C.iterator.return&&(E.method="return",E.arg=u,te(C,E),E.method==="throw")||S!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+S+"' method")),O;var F=T(b,C.iterator,E.arg);if(F.type==="throw")return E.method="throw",E.arg=F.arg,E.delegate=null,O;var M=F.arg;if(!M)return E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,O;if(M.done)E[C.resultName]=M.value,E.next=C.nextLoc,E.method!=="return"&&(E.method="next",E.arg=u);else return M;return E.delegate=null,O}ye(ae),v(ae,g,"Generator"),v(ae,f,function(){return this}),v(ae,"toString",function(){return"[object Generator]"});function xe(C){var E={tryLoc:C[0]};1 in C&&(E.catchLoc=C[1]),2 in C&&(E.finallyLoc=C[2],E.afterLoc=C[3]),this.tryEntries.push(E)}function Ne(C){var E=C.completion||{};E.type="normal",delete E.arg,C.completion=E}function V(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(xe,this),this.reset(!0)}o.keys=function(C){var E=Object(C),S=[];for(var b in E)S.push(b);return S.reverse(),function F(){for(;S.length;){var M=S.pop();if(M in E)return F.value=M,F.done=!1,F}return F.done=!0,F}};function Y(C){if(C){var E=C[f];if(E)return E.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var S=-1,b=function F(){for(;++S<C.length;)if(l.call(C,S))return F.value=C[S],F.done=!1,F;return F.value=u,F.done=!0,F};return b.next=b}}return{next:q}}o.values=Y;function q(){return{value:u,done:!0}}return V.prototype={constructor:V,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(Ne),!C)for(var E in this)E.charAt(0)==="t"&&l.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=u)},stop:function(){this.done=!0;var C=this.tryEntries[0],E=C.completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var E=this;function S(Se,be){return M.type="throw",M.arg=C,E.next=Se,be&&(E.method="next",E.arg=u),!!be}for(var b=this.tryEntries.length-1;b>=0;--b){var F=this.tryEntries[b],M=F.completion;if(F.tryLoc==="root")return S("end");if(F.tryLoc<=this.prev){var ne=l.call(F,"catchLoc"),le=l.call(F,"finallyLoc");if(ne&&le){if(this.prev<F.catchLoc)return S(F.catchLoc,!0);if(this.prev<F.finallyLoc)return S(F.finallyLoc)}else if(ne){if(this.prev<F.catchLoc)return S(F.catchLoc,!0)}else if(le){if(this.prev<F.finallyLoc)return S(F.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(C,E){for(var S=this.tryEntries.length-1;S>=0;--S){var b=this.tryEntries[S];if(b.tryLoc<=this.prev&&l.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var F=b;break}}F&&(C==="break"||C==="continue")&&F.tryLoc<=E&&E<=F.finallyLoc&&(F=null);var M=F?F.completion:{};return M.type=C,M.arg=E,F?(this.method="next",this.next=F.finallyLoc,O):this.complete(M)},complete:function(C,E){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&E&&(this.next=E),O},finish:function(C){for(var E=this.tryEntries.length-1;E>=0;--E){var S=this.tryEntries[E];if(S.finallyLoc===C)return this.complete(S.completion,S.afterLoc),Ne(S),O}},catch:function(C){for(var E=this.tryEntries.length-1;E>=0;--E){var S=this.tryEntries[E];if(S.tryLoc===C){var b=S.completion;if(b.type==="throw"){var F=b.arg;Ne(S)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(C,E,S){return this.delegate={iterator:Y(C),resultName:E,nextLoc:S},this.method==="next"&&(this.arg=u),O}},o}(e.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}(Zd)),Zd.exports}var Jd,xy;function Zh(){return xy||(xy=1,Jd=(e,r)=>`${e}-${r}-${Math.random().toString(16).slice(3,8)}`),Jd}var Xd,wy;function r0(){if(wy)return Xd;wy=1;const e=Zh();let r=0;return Xd=({id:o,action:i,payload:l={}})=>{let d=o;return typeof d>"u"&&(d=e("Job",r),r+=1),{id:d,action:i,payload:l}},Xd}var bi={},jy;function Jh(){if(jy)return bi;jy=1;let e=!1;return bi.logging=e,bi.setLogging=r=>{e=r},bi.log=(...r)=>e?console.log.apply(this,r):null,bi}var eu,by;function TN(){if(by)return eu;by=1;const e=r0(),{log:r}=Jh(),o=Zh();let i=0;return eu=()=>{const l=o("Scheduler",i),d={},u={};let p=[];i+=1;const f=()=>p.length,y=()=>Object.keys(d).length,g=()=>{if(p.length!==0){const k=Object.keys(d);for(let L=0;L<k.length;L+=1)if(typeof u[k[L]]>"u"){p[0](d[k[L]]);break}}},v=(k,L)=>new Promise((P,O)=>{const N=e({action:k,payload:L});p.push(async R=>{p.shift(),u[R.id]=N;try{P(await R[k].apply(this,[...L,N.id]))}catch($){O($)}finally{delete u[R.id],g()}}),r(`[${l}]: Add ${N.id} to JobQueue`),r(`[${l}]: JobQueue length=${p.length}`),g()});return{addWorker:k=>(d[k.id]=k,r(`[${l}]: Add ${k.id}`),r(`[${l}]: Number of workers=${y()}`),g(),k.id),addJob:async(k,...L)=>{if(y()===0)throw Error(`[${l}]: You need to have at least one worker before adding jobs`);return v(k,L)},terminate:async()=>{Object.keys(d).forEach(async k=>{await d[k].terminate()}),p=[]},getQueueLen:f,getNumWorkers:y}},eu}function EN(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tu,ky;function LN(){return ky||(ky=1,tu=e=>{const r={};return typeof WorkerGlobalScope<"u"?r.type="webworker":typeof document=="object"?r.type="browser":typeof process=="object"&&typeof EN=="function"&&(r.type="node"),typeof e>"u"?r:r[e]}),tu}var nu,Sy;function DN(){if(Sy)return nu;Sy=1;const r=LN()("type")==="browser"?o=>new URL(o,window.location.href).href:o=>o;return nu=o=>{const i={...o};return["corePath","workerPath","langPath"].forEach(l=>{o[l]&&(i[l]=r(i[l]))}),i},nu}var ru,Cy;function s0(){return Cy||(Cy=1,ru={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),ru}const PN="6.0.1",RN={version:PN};var su,Ny;function MN(){return Ny||(Ny=1,su={workerBlobURL:!0,logger:()=>{}}),su}var ou,Ay;function IN(){if(Ay)return ou;Ay=1;const e=RN.version;return ou={...MN(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},ou}var iu,Ty;function ON(){return Ty||(Ty=1,iu=({workerPath:e,workerBlobURL:r})=>{let o;if(Blob&&URL&&r){const i=new Blob([`importScripts("${e}");`],{type:"application/javascript"});o=new Worker(URL.createObjectURL(i))}else o=new Worker(e);return o}),iu}var au,Ey;function FN(){return Ey||(Ey=1,au=e=>{e.terminate()}),au}var lu,Ly;function VN(){return Ly||(Ly=1,lu=(e,r)=>{e.onmessage=({data:o})=>{r(o)}}),lu}var cu,Dy;function _N(){return Dy||(Dy=1,cu=async(e,r)=>{e.postMessage(r)}),cu}var du,Py;function BN(){if(Py)return du;Py=1;const e=o=>new Promise((i,l)=>{const d=new FileReader;d.onload=()=>{i(d.result)},d.onerror=({target:{error:{code:u}}})=>{l(Error(`File could not be read! Code=${u}`))},d.readAsArrayBuffer(o)}),r=async o=>{let i=o;if(typeof o>"u")return"undefined";if(typeof o=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o)?i=atob(o.split(",")[1]).split("").map(l=>l.charCodeAt(0)):i=await(await fetch(o)).arrayBuffer();else if(typeof HTMLElement<"u"&&o instanceof HTMLElement)o.tagName==="IMG"&&(i=await r(o.src)),o.tagName==="VIDEO"&&(i=await r(o.poster)),o.tagName==="CANVAS"&&await new Promise(l=>{o.toBlob(async d=>{i=await e(d),l()})});else if(typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas){const l=await o.convertToBlob();i=await e(l)}else(o instanceof File||o instanceof Blob)&&(i=await e(o));return new Uint8Array(i)};return du=r,du}var uu,Ry;function WN(){if(Ry)return uu;Ry=1;const e=IN(),r=ON(),o=FN(),i=VN(),l=_N(),d=BN();return uu={defaultOptions:e,spawnWorker:r,terminateWorker:o,onMessage:i,send:l,loadImage:d},uu}var hu,My;function o0(){if(My)return hu;My=1;const e=DN(),r=r0(),{log:o}=Jh(),i=Zh(),l=s0(),{defaultOptions:d,spawnWorker:u,terminateWorker:p,onMessage:f,loadImage:y,send:g}=WN();let v=0;return hu=async(w="eng",T=l.LSTM_ONLY,A={},k={})=>{const L=i("Worker",v),{logger:P,errorHandler:O,...N}=e({...d,...A}),R={},$=typeof w=="string"?w.split("+"):w;let U=T,J=k;const ee=[l.DEFAULT,l.LSTM_ONLY].includes(T)&&!N.legacyCore;let ae,ye;const H=new Promise((Q,_)=>{ye=Q,ae=_}),ue=Q=>{ae(Q.message)};let te=u(N);te.onerror=ue,v+=1;const xe=({id:Q,action:_,payload:Z})=>new Promise((oe,ve)=>{o(`[${L}]: Start ${Q}, action=${_}`);const Ae=`${_}-${Q}`;R[Ae]={resolve:oe,reject:ve},g(te,{workerId:L,jobId:Q,action:_,payload:Z})}),Ne=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),V=Q=>xe(r({id:Q,action:"load",payload:{options:{lstmOnly:ee,corePath:N.corePath,logging:N.logging}}})),Y=(Q,_,Z)=>xe(r({id:Z,action:"FS",payload:{method:"writeFile",args:[Q,_]}})),q=(Q,_)=>xe(r({id:_,action:"FS",payload:{method:"readFile",args:[Q,{encoding:"utf8"}]}})),C=(Q,_)=>xe(r({id:_,action:"FS",payload:{method:"unlink",args:[Q]}})),E=(Q,_,Z)=>xe(r({id:Z,action:"FS",payload:{method:Q,args:_}})),S=(Q,_)=>xe(r({id:_,action:"loadLanguage",payload:{langs:Q,options:{langPath:N.langPath,dataPath:N.dataPath,cachePath:N.cachePath,cacheMethod:N.cacheMethod,gzip:N.gzip,lstmOnly:[l.DEFAULT,l.LSTM_ONLY].includes(U)&&!N.legacyLang}}})),b=(Q,_,Z,oe)=>xe(r({id:oe,action:"initialize",payload:{langs:Q,oem:_,config:Z}})),F=(Q="eng",_,Z,oe)=>{if(ee&&[l.TESSERACT_ONLY,l.TESSERACT_LSTM_COMBINED].includes(_))throw Error("Legacy model requested but code missing.");const ve=_||U;U=ve;const Ae=Z||J;J=Ae;const He=(typeof Q=="string"?Q.split("+"):Q).filter(Ve=>!$.includes(Ve));return $.push(...He),He.length>0?S(He,oe).then(()=>b(Q,ve,Ae,oe)):b(Q,ve,Ae,oe)},M=(Q={},_)=>xe(r({id:_,action:"setParameters",payload:{params:Q}})),ne=async(Q,_={},Z={text:!0},oe)=>xe(r({id:oe,action:"recognize",payload:{image:await y(Q),options:_,output:Z}})),le=async(Q,_)=>{if(ee)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return xe(r({id:_,action:"detect",payload:{image:await y(Q)}}))},Se=async()=>(te!==null&&(p(te),te=null),Promise.resolve());f(te,({workerId:Q,jobId:_,status:Z,action:oe,data:ve})=>{const Ae=`${oe}-${_}`;if(Z==="resolve")o(`[${Q}]: Complete ${_}`),R[Ae].resolve({jobId:_,data:ve}),delete R[Ae];else if(Z==="reject")if(R[Ae].reject(ve),delete R[Ae],oe==="load"&&ae(ve),O)O(ve);else throw Error(ve);else Z==="progress"&&P({...ve,userJobId:_})});const be={id:L,worker:te,load:Ne,writeText:Y,readText:q,removeFile:C,FS:E,reinitialize:F,setParameters:M,recognize:ne,detect:le,terminate:Se};return V().then(()=>S(w)).then(()=>b(w,T,k)).then(()=>ye(be)).catch(()=>{}),H},hu}var pu,Iy;function UN(){if(Iy)return pu;Iy=1;const e=o0();return pu={recognize:async(i,l,d)=>{const u=await e(l,1,d);return u.recognize(i).finally(async()=>{await u.terminate()})},detect:async(i,l)=>{const d=await e("osd",0,l);return d.detect(i).finally(async()=>{await d.terminate()})}},pu}var fu,Oy;function zN(){return Oy||(Oy=1,fu={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),fu}var mu,Fy;function $N(){return Fy||(Fy=1,mu={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),mu}var gu,Vy;function HN(){if(Vy)return gu;Vy=1,AN();const e=TN(),r=o0(),o=UN(),i=zN(),l=s0(),d=$N(),{setLogging:u}=Jh();return gu={languages:i,OEM:l,PSM:d,createScheduler:e,createWorker:r,setLogging:u,...o},gu}var qN=HN();const GN=dh(qN);window.getNotifications=window.getNotifications||function(){return console.log("getNotifications called from iframe - using fallback"),Promise.resolve([])};const YN=()=>{const e={...console};console=new Proxy(console,{get(r,o){return o==="warn"||o==="error"||o==="log"?(...i)=>{const l=i.join(" ");["mapContainer","Google Maps JavaScript API","Permissions policy violation","getNotifications","Invalid DOM property","componentWillMount","componentWillReceiveProps","ReactDOM.render is no longer supported","string ref","strict-mode-string-ref","mapTypeId_changed","styles_changed","Geolocation access has been blocked","InvalidValueError: in property address","Failed to decode downloaded font","OTS parsing error","Failed to load resource","Uncaught SyntaxError","InvalidAccessError: Failed to execute","applicationServerKey is not valid","Initialization error","Error while retrieving token","subscribe on PushManager","Error getting location","Geolocation has been disabled","worker init","worker messaging","res 65.246.84.74","got ip","timeDifference","firebase mounted","should call","called","Firebase apps","Initializing Firebase","Firebase initialized","Firebase Messaging initialized","req token","Requesting permission","firebase","loadAppData is resolved","Click is in the middle bottom","Click is in the bottom-right corner","google.maps.places.AutocompleteService","google.maps.places.PlacesService","google.maps.Marker","mapId is present","map styles are controlled via the cloud console","deprecated","not available to new customers","not scheduled to be discontinued","will continue to receive bug fixes","at least 12 months notice","migration guide","ReferenceError: getNotifications","Geolocation has been disabled in this document","The notification permission was not granted and blocked instead","messaging/permission-blocked","Geolocation has been disabled in this document by permissions policy","As of March 1st, 2025","As of February 21st, 2024","Basemap iframe loaded successfully"].some(u=>l.includes(u))||e[o](...i)}:r[o]}}),window.addEventListener("error",r=>{const o=r.message||"";if(["getNotifications","Geolocation","applicationServerKey","PushManager","mapContainer","InvalidValueError","ReferenceError","Failed to decode downloaded font","OTS parsing error","The notification permission was not granted and blocked instead","messaging/permission-blocked","Geolocation has been disabled in this document by permissions policy"].some(l=>o.includes(l)))return r.preventDefault(),!1}),console.log("Iframe error handling initialized")},Qi="timeBlocks",Ki="regions",Cl="availability",Il=async()=>{const e=je();return(await Oe(Me(e,Qi))).docs.map(o=>({id:o.id,...o.data()}))},i0=e=>{const r=je();return $i(Me(r,Qi),o=>e(o.docs.map(i=>({id:i.id,...i.data()}))))},QN=async(e,r)=>{const o=je();return Tr(Fe(o,Qi,e),r,{merge:!0})},a0=async e=>{const r=je();return yn(Me(r,Qi),e)},KN=async e=>{const r=je();return vn(Fe(r,Qi,e))},Xh=async()=>{const e=je();return(await Oe(Me(e,Ki))).docs.map(o=>({id:o.id,...o.data()}))},ZN=e=>{const r=je();return $i(Me(r,Ki),o=>e(o.docs.map(i=>({id:i.id,...i.data()}))))},JN=async(e,r)=>{const o=je();return Tr(Fe(o,Ki,e),r,{merge:!0})},l0=async e=>{const r=je();return yn(Me(r,Ki),e)},XN=async e=>{const r=je();return vn(Fe(r,Ki,e))},Nl=async(e=null)=>{const r=je();if(console.log("🔍 Fetching availability for region:",e),e){const o=Ze(Me(r,Cl),Fn(`regions.${e}`,"!=",null)),i=await Oe(o),l={};return i.docs.forEach(d=>{const u=d.data();console.log("📅 Availability data for date:",d.id,u),u&&u.regions&&u.regions[e]&&(l[d.id]=u.regions[e])}),console.log("✅ Final availability for region:",e,l),l}else{const o=await Oe(Me(r,Cl)),i={};return o.docs.forEach(l=>{const d=l.data();console.log("📅 Availability data for date:",l.id,d),d&&(i[l.id]=d)}),console.log("✅ Final availability for all regions:",i),i}},eA=(e,r)=>{const o=je();return console.log("🔄 Setting up real-time listener for region:",e),$i(Me(o,Cl),i=>{const l={};i.docs.forEach(d=>{const u=d.data();console.log("📅 Real-time availability data for date:",d.id,u),u&&u.regions&&u.regions[e]&&(l[d.id]=u.regions[e])}),console.log("✅ Real-time availability for region:",e,l),r(l)})},c0=async(e,r)=>{const o=je();return Tr(Fe(o,Cl,e),r,{merge:!0})},d0={MIDA:["Anne Arundel MD","Baltimore City MD","Baltimore County MD","Berkeley WV","Calvert MD","Carroll MD","Cecil MD","Charles MD","District of Columbia","Fredrick MD","Harford MD","Howard MD","Jefferson WV","Montgomery MD","Morgan WV","Prince George's MD","St Mary's MD","Washington MD"],ESDE:["Caroline MD","Dorchester MD","Kent DE","Kent MD","Queen Anne's MD","Somerset MD","Sussex DE","Talbot MD","Wicomico MD","Worcester MD"],NOVA:["Alexandria VA","Arlington VA","Caroline VA","Charles City VA","Chesterfield VA","Clarke VA","Colonial Heights VA","Culpeper VA","Essex VA","Fairfax VA","Falls Church VA","Fauquier VA","Fredrick VA","Fredricksburg VA","Gloucester VA","Goochland VA","Hanover VA","Henrico VA","Hopewell VA","King and Queen VA","King George VA","King William VA","Lancaster VA","Loudon VA","Louisa VA","Madison VA","Manassas Park VA","Manassas VA","Mathews VA","Middlesex VA","New Kent VA","Northumberland VA","Orange VA","Petersburg VA","Powhatan VA","Prince William VA","Rappahanncock VA","Richmond City VA","Richmond County VA","Spotsylvania VA","Stafford VA","Warren VA","Westmoreland VA","Winchester VA"],NENG:["Barnstable MA","Bristol MA","Bristol RI","Essex MA","Kent RI","Middlessex MA","Newport RI","Norfolk MA","Plymouth MA","Providence RI","Suffolk MA","Suffolk MA","Washington RI","Worcester MA"],NHME:["Bellknap NH","Carroll NH","Cheshire NH","Cumberland ME","Grafton NH","Hillsborough NH","Merrimack NH","Rockingham NH","Strafford NH","Sullivan NH","York ME"],CTWM:["Berkshire MA","Fairfield CT","Franklin MA","Hampden MA","Hampshire MA","Hartford CT","Litchfield CT","Middlessex CT","New Haven CT","New London CT","Tolland CT","Windham CT"],SOPA:["Adams PA","Berks PA","Carbon PA","Chester PA","Columbia PA","Cumberland PA","Dauphin PA","Juniata PA","Lancaster PA","Lebanon PA","Lehigh PA","Montour PA","Northumberland PA","Perry PA","Schuylkill PA","Snyder PA","Union PA","York PA"],WCFL:["Citrus FL","DeSoto FL","Hardee FL","Hernando FL","Hillsborough FL","Manatee FL","Pasco FL","Pinellas FL","Polk FL","Sarasota FL"]};function tA(e){if(!e)return null;console.log("🔍 Checking address:",e);const r=e.toUpperCase(),o=["MD","VA","WV","DE","MA","RI","NH","ME","CT","PA","FL"];let i=null,l=null;for(const d of o)if(new RegExp(`\\b${d}\\b`).test(r)){i=d,console.log("📍 Found state:",i);break}if(!i)return console.log("⚠️ No state found in address"),null;for(const[d,u]of Object.entries(d0)){for(const p of u){const[f,y]=p.split(" ");if(y===i){const g=f.toUpperCase();if(r.includes(g)){l=f,console.log("📍 Found county:",l,"in region:",d);break}}}if(l)break}if(!l&&i==="MD"&&(r.includes("SEVERN")||r.includes("21144")?(l="Anne Arundel",console.log("📍 Determined Anne Arundel County from city/zip")):r.includes("HANOVER")||r.includes("21076")?(l="Howard",console.log("📍 Determined Howard County from city/zip")):r.includes("BALTIMORE")?(l="Baltimore",console.log("📍 Determined Baltimore County from city")):r.includes("ROCKVILLE")||r.includes("BETHESDA")||r.includes("SILVER SPRING")?(l="Montgomery",console.log("📍 Determined Montgomery County from city")):(r.includes("LAUREL")||r.includes("20708"))&&(l="Prince George's",console.log("📍 Determined Prince George's County from city/zip"))),l&&i){const d=`${l} ${i}`;return console.log("✅ Final result:",d),d}return console.log("❌ Could not determine county/state"),null}function nA(e){if(!e)return console.log("❌ No address provided"),{inServiceArea:!1,region:null,county:null};const r=tA(e);if(!r)return console.log("❌ Could not extract county/state from address"),{inServiceArea:!1,region:null,county:null};for(const[o,i]of Object.entries(d0))if(i.includes(r))return console.log("✅ Address is in service area:",o,r),{inServiceArea:!0,region:o,county:r};return console.log("❌ Address not in any service area:",r),{inServiceArea:!1,region:null,county:null}}function u0(e){var r,o,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(o=u0(e[r]))&&(i&&(i+=" "),i+=o)}else for(o in e)e[o]&&(i&&(i+=" "),i+=o);return i}function Ol(){for(var e,r,o=0,i="",l=arguments.length;o<l;o++)(e=arguments[o])&&(r=u0(e))&&(i&&(i+=" "),i+=r);return i}const rA=(e,r,o,i)=>{if(o==="length"||o==="prototype"||o==="arguments"||o==="caller")return;const l=Object.getOwnPropertyDescriptor(e,o),d=Object.getOwnPropertyDescriptor(r,o);!sA(l,d)&&i||Object.defineProperty(e,o,d)},sA=function(e,r){return e===void 0||e.configurable||e.writable===r.writable&&e.enumerable===r.enumerable&&e.configurable===r.configurable&&(e.writable||e.value===r.value)},oA=(e,r)=>{const o=Object.getPrototypeOf(r);o!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,o)},iA=(e,r)=>`/* Wrapped ${e}*/
${r}`,aA=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),lA=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),cA=(e,r,o)=>{const i=o===""?"":`with ${o.trim()}() `,l=iA.bind(null,i,r.toString());Object.defineProperty(l,"name",lA);const{writable:d,enumerable:u,configurable:p}=aA;Object.defineProperty(e,"toString",{value:l,writable:d,enumerable:u,configurable:p})};function dA(e,r,{ignoreNonConfigurable:o=!1}={}){const{name:i}=e;for(const l of Reflect.ownKeys(r))rA(e,r,l,o);return oA(e,r),cA(e,r,i),e}const uA=new WeakMap,_y=new WeakMap;function h0(e,{cacheKey:r,cache:o=new Map,maxAge:i}={}){if(i===0)return e;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const l=function(...d){const u=r?r(d):d[0],p=o.get(u);if(p)return p.data;const f=e.apply(this,d),y=typeof i=="function"?i(...d):i;if(o.set(u,{data:f,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),y&&y>0&&y!==Number.POSITIVE_INFINITY){const g=setTimeout(()=>{o.delete(u)},y);g.unref?.();const v=_y.get(e)??new Set;v.add(g),_y.set(e,v)}return f};return dA(l,e,{ignoreNonConfigurable:!0}),uA.set(l,o),l}function hA(e){return typeof e=="string"}function pA(e,r,o){return o.indexOf(e)===r}function fA(e){return e.toLowerCase()===e}function By(e){return e.indexOf(",")===-1?e:e.split(",")}function Gu(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var r=e.split(".")[0],o=r===void 0?"":r;return Gu(o)}if(e.indexOf("@")!==-1){var i=e.split("@")[0],o=i===void 0?"":i;return Gu(o)}if(e.indexOf("-")===-1||!fA(e))return e;var l=e.split("-"),d=l[0],u=l[1],p=u===void 0?"":u;return"".concat(d,"-").concat(p.toUpperCase())}function mA(e){var r=e===void 0?{}:e,o=r.useFallbackLocale,i=o===void 0?!0:o,l=r.fallbackLocale,d=l===void 0?"en-US":l,u=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],f=[],y=0,g=p;y<g.length;y++){var v=g[y];f=f.concat(By(v))}var w=navigator.language,T=w&&By(w);u=u.concat(f,T)}return i&&u.push(d),u.filter(hA).map(Gu).filter(pA)}var gA=h0(mA,{cacheKey:JSON.stringify});function yA(e){return gA(e)[0]||null}var p0=h0(yA,{cacheKey:JSON.stringify});function Pr(e,r,o){return function(l,d=o){const u=e(l)+d;return r(u)}}function Zi(e){return function(o){return new Date(e(o).getTime()-1)}}function Ji(e,r){return function(i){return[e(i),r(i)]}}function yt(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;const r=Number.parseInt(e,10);if(typeof e=="string"&&!Number.isNaN(r))return r;throw new Error(`Failed to get year from date: ${e}.`)}function us(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function Fl(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function Mo(e){const r=yt(e),o=r+(-r+1)%100,i=new Date;return i.setFullYear(o,0,1),i.setHours(0,0,0,0),i}const vA=Pr(yt,Mo,-100),f0=Pr(yt,Mo,100),ep=Zi(f0),xA=Pr(yt,ep,-100),m0=Ji(Mo,ep);function hs(e){const r=yt(e),o=r+(-r+1)%10,i=new Date;return i.setFullYear(o,0,1),i.setHours(0,0,0,0),i}const g0=Pr(yt,hs,-10),tp=Pr(yt,hs,10),Vl=Zi(tp),y0=Pr(yt,Vl,-10),v0=Ji(hs,Vl);function Io(e){const r=yt(e),o=new Date;return o.setFullYear(r,0,1),o.setHours(0,0,0,0),o}const x0=Pr(yt,Io,-1),np=Pr(yt,Io,1),_l=Zi(np),w0=Pr(yt,_l,-1),wA=Ji(Io,_l);function rp(e,r){return function(i,l=r){const d=yt(i),u=us(i)+l,p=new Date;return p.setFullYear(d,u,1),p.setHours(0,0,0,0),e(p)}}function Fs(e){const r=yt(e),o=us(e),i=new Date;return i.setFullYear(r,o,1),i.setHours(0,0,0,0),i}const j0=rp(Fs,-1),sp=rp(Fs,1),Xi=Zi(sp),b0=rp(Xi,-1),jA=Ji(Fs,Xi);function bA(e,r){return function(i,l=r){const d=yt(i),u=us(i),p=Fl(i)+l,f=new Date;return f.setFullYear(d,u,p),f.setHours(0,0,0,0),e(f)}}function ea(e){const r=yt(e),o=us(e),i=Fl(e),l=new Date;return l.setFullYear(r,o,i),l.setHours(0,0,0,0),l}const kA=bA(ea,1),op=Zi(kA),SA=Ji(ea,op);function k0(e){return Fl(Xi(e))}var qt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},CA={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},ip=[0,1,2,3,4,5,6],yu=new Map;function NA(e){return function(o,i){var l=o||p0();yu.has(l)||yu.set(l,new Map);var d=yu.get(l);return d.has(e)||d.set(e,new Intl.DateTimeFormat(l||void 0,e).format),d.get(e)(i)}}function AA(e){var r=new Date(e);return new Date(r.setHours(12))}function Vs(e){return function(r,o){return NA(e)(r,AA(o))}}var TA={day:"numeric"},EA={day:"numeric",month:"long",year:"numeric"},LA={month:"long"},DA={month:"long",year:"numeric"},PA={weekday:"short"},RA={weekday:"long"},MA={year:"numeric"},IA=Vs(TA),OA=Vs(EA),FA=Vs(LA),S0=Vs(DA),VA=Vs(PA),_A=Vs(RA),Bl=Vs(MA),BA=ip[0],WA=ip[5],Wy=ip[6];function Ui(e,r){r===void 0&&(r=qt.ISO_8601);var o=e.getDay();switch(r){case qt.ISO_8601:return(o+6)%7;case qt.ISLAMIC:return(o+1)%7;case qt.HEBREW:case qt.GREGORY:return o;default:throw new Error("Unsupported calendar type.")}}function UA(e){var r=Mo(e);return yt(r)}function zA(e){var r=hs(e);return yt(r)}function Yu(e,r){r===void 0&&(r=qt.ISO_8601);var o=yt(e),i=us(e),l=e.getDate()-Ui(e,r);return new Date(o,i,l)}function $A(e,r){r===void 0&&(r=qt.ISO_8601);var o=r===qt.GREGORY?qt.GREGORY:qt.ISO_8601,i=Yu(e,r),l=yt(e)+1,d,u;do d=new Date(l,0,o===qt.ISO_8601?4:1),u=Yu(d,r),l-=1;while(e<u);return Math.round((i.getTime()-u.getTime())/(864e5*7))+1}function Ms(e,r){switch(e){case"century":return Mo(r);case"decade":return hs(r);case"year":return Io(r);case"month":return Fs(r);case"day":return ea(r);default:throw new Error("Invalid rangeType: ".concat(e))}}function HA(e,r){switch(e){case"century":return vA(r);case"decade":return g0(r);case"year":return x0(r);case"month":return j0(r);default:throw new Error("Invalid rangeType: ".concat(e))}}function C0(e,r){switch(e){case"century":return f0(r);case"decade":return tp(r);case"year":return np(r);case"month":return sp(r);default:throw new Error("Invalid rangeType: ".concat(e))}}function qA(e,r){switch(e){case"decade":return g0(r,-100);case"year":return x0(r,-10);case"month":return j0(r,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function GA(e,r){switch(e){case"decade":return tp(r,100);case"year":return np(r,10);case"month":return sp(r,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function N0(e,r){switch(e){case"century":return ep(r);case"decade":return Vl(r);case"year":return _l(r);case"month":return Xi(r);case"day":return op(r);default:throw new Error("Invalid rangeType: ".concat(e))}}function YA(e,r){switch(e){case"century":return xA(r);case"decade":return y0(r);case"year":return w0(r);case"month":return b0(r);default:throw new Error("Invalid rangeType: ".concat(e))}}function QA(e,r){switch(e){case"decade":return y0(r,-100);case"year":return w0(r,-10);case"month":return b0(r,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Uy(e,r){switch(e){case"century":return m0(r);case"decade":return v0(r);case"year":return wA(r);case"month":return jA(r);case"day":return SA(r);default:throw new Error("Invalid rangeType: ".concat(e))}}function KA(e,r,o){var i=[r,o].sort(function(l,d){return l.getTime()-d.getTime()});return[Ms(e,i[0]),N0(e,i[1])]}function A0(e,r,o){return o.map(function(i){return(r||Bl)(e,i)}).join(" – ")}function ZA(e,r,o){return A0(e,r,m0(o))}function T0(e,r,o){return A0(e,r,v0(o))}function JA(e){return e.getDay()===new Date().getDay()}function E0(e,r){r===void 0&&(r=qt.ISO_8601);var o=e.getDay();switch(r){case qt.ISLAMIC:case qt.HEBREW:return o===WA||o===Wy;case qt.ISO_8601:case qt.GREGORY:return o===Wy||o===BA;default:throw new Error("Unsupported calendar type.")}}var lr="react-calendar__navigation";function XA(e){var r=e.activeStartDate,o=e.drillUp,i=e.formatMonthYear,l=i===void 0?S0:i,d=e.formatYear,u=d===void 0?Bl:d,p=e.locale,f=e.maxDate,y=e.minDate,g=e.navigationAriaLabel,v=g===void 0?"":g,w=e.navigationAriaLive,T=e.navigationLabel,A=e.next2AriaLabel,k=A===void 0?"":A,L=e.next2Label,P=L===void 0?"»":L,O=e.nextAriaLabel,N=O===void 0?"":O,R=e.nextLabel,$=R===void 0?"›":R,U=e.prev2AriaLabel,J=U===void 0?"":U,ee=e.prev2Label,ae=ee===void 0?"«":ee,ye=e.prevAriaLabel,H=ye===void 0?"":ye,ue=e.prevLabel,te=ue===void 0?"‹":ue,xe=e.setActiveStartDate,Ne=e.showDoubleView,V=e.view,Y=e.views,q=Y.indexOf(V)>0,C=V!=="century",E=HA(V,r),S=C?qA(V,r):void 0,b=C0(V,r),F=C?GA(V,r):void 0,M=function(){if(E.getFullYear()<0)return!0;var Ae=YA(V,r);return y&&y>=Ae}(),ne=C&&function(){if(S.getFullYear()<0)return!0;var Ae=QA(V,r);return y&&y>=Ae}(),le=f&&f<b,Se=C&&f&&f<F;function be(){xe(E,"prev")}function Q(){xe(S,"prev2")}function _(){xe(b,"next")}function Z(){xe(F,"next2")}function oe(Ae){var st=function(){switch(V){case"century":return ZA(p,u,Ae);case"decade":return T0(p,u,Ae);case"year":return u(p,Ae);case"month":return l(p,Ae);default:throw new Error("Invalid view: ".concat(V,"."))}}();return T?T({date:Ae,label:st,locale:p||p0()||void 0,view:V}):st}function ve(){var Ae="".concat(lr,"__label");return t.jsxs("button",{"aria-label":v,"aria-live":w,className:Ae,disabled:!q,onClick:o,style:{flexGrow:1},type:"button",children:[t.jsx("span",{className:"".concat(Ae,"__labelText ").concat(Ae,"__labelText--from"),children:oe(r)}),Ne?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"".concat(Ae,"__divider"),children:" – "}),t.jsx("span",{className:"".concat(Ae,"__labelText ").concat(Ae,"__labelText--to"),children:oe(b)})]}):null]})}return t.jsxs("div",{className:lr,children:[ae!==null&&C?t.jsx("button",{"aria-label":J,className:"".concat(lr,"__arrow ").concat(lr,"__prev2-button"),disabled:ne,onClick:Q,type:"button",children:ae}):null,te!==null&&t.jsx("button",{"aria-label":H,className:"".concat(lr,"__arrow ").concat(lr,"__prev-button"),disabled:M,onClick:be,type:"button",children:te}),ve(),$!==null&&t.jsx("button",{"aria-label":N,className:"".concat(lr,"__arrow ").concat(lr,"__next-button"),disabled:le,onClick:_,type:"button",children:$}),P!==null&&C?t.jsx("button",{"aria-label":k,className:"".concat(lr,"__arrow ").concat(lr,"__next2-button"),disabled:Se,onClick:Z,type:"button",children:P}):null]})}var ko=function(){return ko=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},ko.apply(this,arguments)},eT=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o};function zy(e){return"".concat(e,"%")}function ap(e){var r=e.children,o=e.className,i=e.count,l=e.direction,d=e.offset,u=e.style,p=e.wrap,f=eT(e,["children","className","count","direction","offset","style","wrap"]);return t.jsx("div",ko({className:o,style:ko({display:"flex",flexDirection:l,flexWrap:p?"wrap":"nowrap"},u)},f,{children:x.Children.map(r,function(y,g){var v=d&&g===0?zy(100*d/i):null;return x.cloneElement(y,ko(ko({},y.props),{style:{flexBasis:zy(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:v,marginInlineStart:v,marginInlineEnd:0}}))})}))}function tT(e,r,o){return r&&r>e?r:o&&o<e?o:e}function zi(e,r){return r[0]<=e&&r[1]>=e}function nT(e,r){return e[0]<=r[0]&&e[1]>=r[1]}function L0(e,r){return zi(e[0],r)||zi(e[1],r)}function $y(e,r,o){var i=L0(r,e),l=[];if(i){l.push(o);var d=zi(e[0],r),u=zi(e[1],r);d&&l.push("".concat(o,"Start")),u&&l.push("".concat(o,"End")),d&&u&&l.push("".concat(o,"BothEnds"))}return l}function rT(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function sT(e){if(!e)throw new Error("args is required");var r=e.value,o=e.date,i=e.hover,l="react-calendar__tile",d=[l];if(!o)return d;var u=new Date,p=function(){if(Array.isArray(o))return o;var T=e.dateType;if(!T)throw new Error("dateType is required when date is not an array of two dates");return Uy(T,o)}();if(zi(u,p)&&d.push("".concat(l,"--now")),!r||!rT(r))return d;var f=function(){if(Array.isArray(r))return r;var T=e.valueType;if(!T)throw new Error("valueType is required when value is not an array of two dates");return Uy(T,r)}();nT(f,p)?d.push("".concat(l,"--active")):L0(f,p)&&d.push("".concat(l,"--hasActive"));var y=$y(f,p,"".concat(l,"--range"));d.push.apply(d,y);var g=Array.isArray(r)?r:[r];if(i&&g.length===1){var v=i>f[0]?[f[0],i]:[i,f[0]],w=$y(v,p,"".concat(l,"--hover"));d.push.apply(d,w)}return d}function Wl(e){for(var r=e.className,o=e.count,i=o===void 0?3:o,l=e.dateTransform,d=e.dateType,u=e.end,p=e.hover,f=e.offset,y=e.renderTile,g=e.start,v=e.step,w=v===void 0?1:v,T=e.value,A=e.valueType,k=[],L=g;L<=u;L+=w){var P=l(L);k.push(y({classes:sT({date:P,dateType:d,hover:p,value:T,valueType:A}),date:P}))}return t.jsx(ap,{className:r,count:i,offset:f,wrap:!0,children:k})}function Ul(e){var r=e.activeStartDate,o=e.children,i=e.classes,l=e.date,d=e.formatAbbr,u=e.locale,p=e.maxDate,f=e.maxDateTransform,y=e.minDate,g=e.minDateTransform,v=e.onClick,w=e.onMouseOver,T=e.style,A=e.tileClassName,k=e.tileContent,L=e.tileDisabled,P=e.view,O=x.useMemo(function(){var R={activeStartDate:r,date:l,view:P};return typeof A=="function"?A(R):A},[r,l,A,P]),N=x.useMemo(function(){var R={activeStartDate:r,date:l,view:P};return typeof k=="function"?k(R):k},[r,l,k,P]);return t.jsxs("button",{className:Ol(i,O),disabled:y&&g(y)>l||p&&f(p)<l||L?.({activeStartDate:r,date:l,view:P}),onClick:v?function(R){return v(l,R)}:void 0,onFocus:w?function(){return w(l)}:void 0,onMouseOver:w?function(){return w(l)}:void 0,style:T,type:"button",children:[d?t.jsx("abbr",{"aria-label":d(u,l),children:o}):o,N]})}var Qu=function(){return Qu=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Qu.apply(this,arguments)},oT=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o},Hy="react-calendar__century-view__decades__decade";function iT(e){var r=e.classes,o=r===void 0?[]:r,i=e.currentCentury,l=e.formatYear,d=l===void 0?Bl:l,u=oT(e,["classes","currentCentury","formatYear"]),p=u.date,f=u.locale,y=[];return o&&y.push.apply(y,o),y.push(Hy),Mo(p).getFullYear()!==i&&y.push("".concat(Hy,"--neighboringCentury")),t.jsx(Ul,Qu({},u,{classes:y,maxDateTransform:Vl,minDateTransform:hs,view:"century",children:T0(f,d,p)}))}var Ku=function(){return Ku=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Ku.apply(this,arguments)},qy=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o};function aT(e){var r=e.activeStartDate,o=e.hover,i=e.showNeighboringCentury,l=e.value,d=e.valueType,u=qy(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=UA(r),f=p+(i?119:99);return t.jsx(Wl,{className:"react-calendar__century-view__decades",dateTransform:hs,dateType:"decade",end:f,hover:o,renderTile:function(y){var g=y.date,v=qy(y,["date"]);return t.jsx(iT,Ku({},u,v,{activeStartDate:r,currentCentury:p,date:g}),g.getTime())},start:p,step:10,value:l,valueType:d})}var Zu=function(){return Zu=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Zu.apply(this,arguments)};function lT(e){function r(){return t.jsx(aT,Zu({},e))}return t.jsx("div",{className:"react-calendar__century-view",children:r()})}var Ju=function(){return Ju=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Ju.apply(this,arguments)},cT=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o},Gy="react-calendar__decade-view__years__year";function dT(e){var r=e.classes,o=r===void 0?[]:r,i=e.currentDecade,l=e.formatYear,d=l===void 0?Bl:l,u=cT(e,["classes","currentDecade","formatYear"]),p=u.date,f=u.locale,y=[];return o&&y.push.apply(y,o),y.push(Gy),hs(p).getFullYear()!==i&&y.push("".concat(Gy,"--neighboringDecade")),t.jsx(Ul,Ju({},u,{classes:y,maxDateTransform:_l,minDateTransform:Io,view:"decade",children:d(f,p)}))}var Xu=function(){return Xu=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Xu.apply(this,arguments)},Yy=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o};function uT(e){var r=e.activeStartDate,o=e.hover,i=e.showNeighboringDecade,l=e.value,d=e.valueType,u=Yy(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=zA(r),f=p+(i?11:9);return t.jsx(Wl,{className:"react-calendar__decade-view__years",dateTransform:Io,dateType:"year",end:f,hover:o,renderTile:function(y){var g=y.date,v=Yy(y,["date"]);return t.jsx(dT,Xu({},u,v,{activeStartDate:r,currentDecade:p,date:g}),g.getTime())},start:p,value:l,valueType:d})}var eh=function(){return eh=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},eh.apply(this,arguments)};function hT(e){function r(){return t.jsx(uT,eh({},e))}return t.jsx("div",{className:"react-calendar__decade-view",children:r()})}var th=function(){return th=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},th.apply(this,arguments)},pT=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o},Qy=function(e,r,o){if(o||arguments.length===2)for(var i=0,l=r.length,d;i<l;i++)(d||!(i in r))&&(d||(d=Array.prototype.slice.call(r,0,i)),d[i]=r[i]);return e.concat(d||Array.prototype.slice.call(r))},fT="react-calendar__year-view__months__month";function mT(e){var r=e.classes,o=r===void 0?[]:r,i=e.formatMonth,l=i===void 0?FA:i,d=e.formatMonthYear,u=d===void 0?S0:d,p=pT(e,["classes","formatMonth","formatMonthYear"]),f=p.date,y=p.locale;return t.jsx(Ul,th({},p,{classes:Qy(Qy([],o,!0),[fT],!1),formatAbbr:u,maxDateTransform:Xi,minDateTransform:Fs,view:"year",children:l(y,f)}))}var nh=function(){return nh=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},nh.apply(this,arguments)},Ky=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o};function gT(e){var r=e.activeStartDate,o=e.hover,i=e.value,l=e.valueType,d=Ky(e,["activeStartDate","hover","value","valueType"]),u=0,p=11,f=yt(r);return t.jsx(Wl,{className:"react-calendar__year-view__months",dateTransform:function(y){var g=new Date;return g.setFullYear(f,y,1),Fs(g)},dateType:"month",end:p,hover:o,renderTile:function(y){var g=y.date,v=Ky(y,["date"]);return t.jsx(mT,nh({},d,v,{activeStartDate:r,date:g}),g.getTime())},start:u,value:i,valueType:l})}var rh=function(){return rh=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},rh.apply(this,arguments)};function yT(e){function r(){return t.jsx(gT,rh({},e))}return t.jsx("div",{className:"react-calendar__year-view",children:r()})}var sh=function(){return sh=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},sh.apply(this,arguments)},vT=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o},vu="react-calendar__month-view__days__day";function xT(e){var r=e.calendarType,o=e.classes,i=o===void 0?[]:o,l=e.currentMonthIndex,d=e.formatDay,u=d===void 0?IA:d,p=e.formatLongDate,f=p===void 0?OA:p,y=vT(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),g=y.date,v=y.locale,w=[];return i&&w.push.apply(w,i),w.push(vu),E0(g,r)&&w.push("".concat(vu,"--weekend")),g.getMonth()!==l&&w.push("".concat(vu,"--neighboringMonth")),t.jsx(Ul,sh({},y,{classes:w,formatAbbr:f,maxDateTransform:op,minDateTransform:ea,view:"month",children:u(v,g)}))}var oh=function(){return oh=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},oh.apply(this,arguments)},Zy=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o};function wT(e){var r=e.activeStartDate,o=e.calendarType,i=e.hover,l=e.showFixedNumberOfWeeks,d=e.showNeighboringMonth,u=e.value,p=e.valueType,f=Zy(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=yt(r),g=us(r),v=l||d,w=Ui(r,o),T=v?0:w,A=(v?-w:0)+1,k=function(){if(l)return A+6*7-1;var L=k0(r);if(d){var P=new Date;P.setFullYear(y,g,L),P.setHours(0,0,0,0);var O=7-Ui(P,o)-1;return L+O}return L}();return t.jsx(Wl,{className:"react-calendar__month-view__days",count:7,dateTransform:function(L){var P=new Date;return P.setFullYear(y,g,L),ea(P)},dateType:"day",hover:i,end:k,renderTile:function(L){var P=L.date,O=Zy(L,["date"]);return t.jsx(xT,oh({},f,O,{activeStartDate:r,calendarType:o,currentMonthIndex:g,date:P}),P.getTime())},offset:T,start:A,value:u,valueType:p})}var D0="react-calendar__month-view__weekdays",xu="".concat(D0,"__weekday");function jT(e){for(var r=e.calendarType,o=e.formatShortWeekday,i=o===void 0?VA:o,l=e.formatWeekday,d=l===void 0?_A:l,u=e.locale,p=e.onMouseLeave,f=new Date,y=Fs(f),g=yt(y),v=us(y),w=[],T=1;T<=7;T+=1){var A=new Date(g,v,T-Ui(y,r)),k=d(u,A);w.push(t.jsx("div",{className:Ol(xu,JA(A)&&"".concat(xu,"--current"),E0(A,r)&&"".concat(xu,"--weekend")),children:t.jsx("abbr",{"aria-label":k,title:k,children:i(u,A).replace(".","")})},T))}return t.jsx(ap,{className:D0,count:7,onFocus:p,onMouseOver:p,children:w})}var Al=function(){return Al=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Al.apply(this,arguments)},Jy=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o},Xy="react-calendar__tile";function bT(e){var r=e.onClickWeekNumber,o=e.weekNumber,i=t.jsx("span",{children:o});if(r){var l=e.date,d=e.onClickWeekNumber,u=e.weekNumber,p=Jy(e,["date","onClickWeekNumber","weekNumber"]);return t.jsx("button",Al({},p,{className:Xy,onClick:function(f){return d(u,l,f)},type:"button",children:i}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var p=Jy(e,["date","onClickWeekNumber","weekNumber"]);return t.jsx("div",Al({},p,{className:Xy,children:i}))}}function kT(e){var r=e.activeStartDate,o=e.calendarType,i=e.onClickWeekNumber,l=e.onMouseLeave,d=e.showFixedNumberOfWeeks,u=function(){if(d)return 6;var y=k0(r),g=Ui(r,o),v=y-(7-g);return 1+Math.ceil(v/7)}(),p=function(){for(var y=yt(r),g=us(r),v=Fl(r),w=[],T=0;T<u;T+=1)w.push(Yu(new Date(y,g,v+T*7),o));return w}(),f=p.map(function(y){return $A(y,o)});return t.jsx(ap,{className:"react-calendar__month-view__weekNumbers",count:u,direction:"column",onFocus:l,onMouseOver:l,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:f.map(function(y,g){var v=p[g];if(!v)throw new Error("date is not defined");return t.jsx(bT,{date:v,onClickWeekNumber:i,weekNumber:y},y)})})}var ih=function(){return ih=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},ih.apply(this,arguments)},ST=function(e,r){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(o[i[l]]=e[i[l]]);return o};function CT(e){if(e)for(var r=0,o=Object.entries(CA);r<o.length;r++){var i=o[r],l=i[0],d=i[1];if(d.includes(e))return l}return qt.ISO_8601}function NT(e){var r=e.activeStartDate,o=e.locale,i=e.onMouseLeave,l=e.showFixedNumberOfWeeks,d=e.calendarType,u=d===void 0?CT(o):d,p=e.formatShortWeekday,f=e.formatWeekday,y=e.onClickWeekNumber,g=e.showWeekNumbers,v=ST(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return t.jsx(jT,{calendarType:u,formatShortWeekday:p,formatWeekday:f,locale:o,onMouseLeave:i})}function T(){return g?t.jsx(kT,{activeStartDate:r,calendarType:u,onClickWeekNumber:y,onMouseLeave:i,showFixedNumberOfWeeks:l}):null}function A(){return t.jsx(wT,ih({calendarType:u},v))}var k="react-calendar__month-view";return t.jsx("div",{className:Ol(k,g?"".concat(k,"--weekNumbers"):""),children:t.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[T(),t.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),A()]})]})})}var So=function(){return So=Object.assign||function(e){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},So.apply(this,arguments)},cl="react-calendar",yl=["century","decade","year","month"],AT=["decade","year","month","day"],lp=new Date;lp.setFullYear(1,0,1);lp.setHours(0,0,0,0);var TT=new Date(864e13);function Ni(e){return e instanceof Date?e:new Date(e)}function P0(e,r){return yl.slice(yl.indexOf(e),yl.indexOf(r)+1)}function ET(e,r,o){var i=P0(r,o);return i.indexOf(e)!==-1}function cp(e,r,o){return e&&ET(e,r,o)?e:o}function R0(e){var r=yl.indexOf(e);return AT[r]}function LT(e,r){var o=Array.isArray(e)?e[r]:e;if(!o)return null;var i=Ni(o);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(e));return i}function M0(e,r){var o=e.value,i=e.minDate,l=e.maxDate,d=e.maxDetail,u=LT(o,r);if(!u)return null;var p=R0(d),f=function(){switch(r){case 0:return Ms(p,u);case 1:return N0(p,u);default:throw new Error("Invalid index value: ".concat(r))}}();return tT(f,i,l)}var dp=function(e){return M0(e,0)},I0=function(e){return M0(e,1)},DT=function(e){return[dp,I0].map(function(r){return r(e)})};function O0(e){var r=e.maxDate,o=e.maxDetail,i=e.minDate,l=e.minDetail,d=e.value,u=e.view,p=cp(u,l,o),f=dp({value:d,minDate:i,maxDate:r,maxDetail:o})||new Date;return Ms(p,f)}function PT(e){var r=e.activeStartDate,o=e.defaultActiveStartDate,i=e.defaultValue,l=e.defaultView,d=e.maxDate,u=e.maxDetail,p=e.minDate,f=e.minDetail,y=e.value,g=e.view,v=cp(g,f,u),w=r||o;return w?Ms(v,w):O0({maxDate:d,maxDetail:u,minDate:p,minDetail:f,value:y||i,view:g||l})}function wu(e){return e&&(!Array.isArray(e)||e.length===1)}function dl(e,r){return e instanceof Date&&r instanceof Date&&e.getTime()===r.getTime()}var RT=x.forwardRef(function(r,o){var i=r.activeStartDate,l=r.allowPartialRange,d=r.calendarType,u=r.className,p=r.defaultActiveStartDate,f=r.defaultValue,y=r.defaultView,g=r.formatDay,v=r.formatLongDate,w=r.formatMonth,T=r.formatMonthYear,A=r.formatShortWeekday,k=r.formatWeekday,L=r.formatYear,P=r.goToRangeStartOnSelect,O=P===void 0?!0:P,N=r.inputRef,R=r.locale,$=r.maxDate,U=$===void 0?TT:$,J=r.maxDetail,ee=J===void 0?"month":J,ae=r.minDate,ye=ae===void 0?lp:ae,H=r.minDetail,ue=H===void 0?"century":H,te=r.navigationAriaLabel,xe=r.navigationAriaLive,Ne=r.navigationLabel,V=r.next2AriaLabel,Y=r.next2Label,q=r.nextAriaLabel,C=r.nextLabel,E=r.onActiveStartDateChange,S=r.onChange,b=r.onClickDay,F=r.onClickDecade,M=r.onClickMonth,ne=r.onClickWeekNumber,le=r.onClickYear,Se=r.onDrillDown,be=r.onDrillUp,Q=r.onViewChange,_=r.prev2AriaLabel,Z=r.prev2Label,oe=r.prevAriaLabel,ve=r.prevLabel,Ae=r.returnValue,st=Ae===void 0?"start":Ae,He=r.selectRange,Ve=r.showDoubleView,Je=r.showFixedNumberOfWeeks,Gt=r.showNavigation,an=Gt===void 0?!0:Gt,Ot=r.showNeighboringCentury,wn=r.showNeighboringDecade,pr=r.showNeighboringMonth,Xn=pr===void 0?!0:pr,ln=r.showWeekNumbers,Bn=r.tileClassName,fr=r.tileContent,Dt=r.tileDisabled,Ft=r.value,Ut=r.view,An=x.useState(p),ps=An[0],Wn=An[1],ie=x.useState(null),me=ie[0],Te=ie[1],Ie=x.useState(Array.isArray(f)?f.map(function(Ge){return Ge!==null?Ni(Ge):null}):f!=null?Ni(f):null),we=Ie[0],it=Ie[1],De=x.useState(y),Xe=De[0],Ye=De[1],et=i||ps||PT({activeStartDate:i,defaultActiveStartDate:p,defaultValue:f,defaultView:y,maxDate:U,maxDetail:ee,minDate:ye,minDetail:ue,value:Ft,view:Ut}),ze=function(){var Ge=function(){return He&&wu(we)?we:Ft!==void 0?Ft:we}();return Ge?Array.isArray(Ge)?Ge.map(function(ct){return ct!==null?Ni(ct):null}):Ge!==null?Ni(Ge):null:null}(),We=R0(ee),qe=cp(Ut||Xe,ue,ee),ut=P0(ue,ee),jn=He?me:null,er=ut.indexOf(qe)<ut.length-1,St=ut.indexOf(qe)>0,Un=x.useCallback(function(Ge){var ct=function(){switch(st){case"start":return dp;case"end":return I0;case"range":return DT;default:throw new Error("Invalid returnValue.")}}();return ct({maxDate:U,maxDetail:ee,minDate:ye,value:Ge})},[U,ee,ye,st]),zn=x.useCallback(function(Ge,ct){Wn(Ge);var ft={action:ct,activeStartDate:Ge,value:ze,view:qe};E&&!dl(et,Ge)&&E(ft)},[et,E,ze,qe]),tr=x.useCallback(function(Ge,ct){var ft=function(){switch(qe){case"century":return F;case"decade":return le;case"year":return M;case"month":return b;default:throw new Error("Invalid view: ".concat(qe,"."))}}();ft&&ft(Ge,ct)},[b,F,M,le,qe]),cn=x.useCallback(function(Ge,ct){if(er){tr(Ge,ct);var ft=ut[ut.indexOf(qe)+1];if(!ft)throw new Error("Attempted to drill down from the lowest view.");Wn(Ge),Ye(ft);var Yt={action:"drillDown",activeStartDate:Ge,value:ze,view:ft};E&&!dl(et,Ge)&&E(Yt),Q&&qe!==ft&&Q(Yt),Se&&Se(Yt)}},[et,er,E,tr,Se,Q,ze,qe,ut]),nr=x.useCallback(function(){if(St){var Ge=ut[ut.indexOf(qe)-1];if(!Ge)throw new Error("Attempted to drill up from the highest view.");var ct=Ms(Ge,et);Wn(ct),Ye(Ge);var ft={action:"drillUp",activeStartDate:ct,value:ze,view:Ge};E&&!dl(et,ct)&&E(ft),Q&&qe!==Ge&&Q(ft),be&&be(ft)}},[et,St,E,be,Q,ze,qe,ut]),mr=x.useCallback(function(Ge,ct){var ft=ze;tr(Ge,ct);var Yt=He&&!wu(ft),Qt;if(He)if(Yt)Qt=Ms(We,Ge);else{if(!ft)throw new Error("previousValue is required");if(Array.isArray(ft))throw new Error("previousValue must not be an array");Qt=KA(We,ft,Ge)}else Qt=Un(Ge);var gr=!He||Yt||O?O0({maxDate:U,maxDetail:ee,minDate:ye,minDetail:ue,value:Qt,view:qe}):null;ct.persist(),Wn(gr),it(Qt);var _s={action:"onChange",activeStartDate:gr,value:Qt,view:qe};if(E&&!dl(et,gr)&&E(_s),S)if(He){var Fo=wu(Qt);if(!Fo)S(Qt||null,ct);else if(l){if(Array.isArray(Qt))throw new Error("value must not be an array");S([Qt||null,null],ct)}}else S(Qt||null,ct)},[et,l,Un,O,U,ee,ye,ue,E,S,tr,He,ze,We,qe]);function Rr(Ge){Te(Ge)}function rr(){Te(null)}x.useImperativeHandle(o,function(){return{activeStartDate:et,drillDown:cn,drillUp:nr,onChange:mr,setActiveStartDate:zn,value:ze,view:qe}},[et,cn,nr,mr,zn,ze,qe]);function fs(Ge){var ct=Ge?C0(qe,et):Ms(qe,et),ft=er?cn:mr,Yt={activeStartDate:ct,hover:jn,locale:R,maxDate:U,minDate:ye,onClick:ft,onMouseOver:He?Rr:void 0,tileClassName:Bn,tileContent:fr,tileDisabled:Dt,value:ze,valueType:We};switch(qe){case"century":return t.jsx(lT,So({formatYear:L,showNeighboringCentury:Ot},Yt));case"decade":return t.jsx(hT,So({formatYear:L,showNeighboringDecade:wn},Yt));case"year":return t.jsx(yT,So({formatMonth:w,formatMonthYear:T},Yt));case"month":return t.jsx(NT,So({calendarType:d,formatDay:g,formatLongDate:v,formatShortWeekday:A,formatWeekday:k,onClickWeekNumber:ne,onMouseLeave:He?rr:void 0,showFixedNumberOfWeeks:typeof Je<"u"?Je:Ve,showNeighboringMonth:Xn,showWeekNumbers:ln},Yt));default:throw new Error("Invalid view: ".concat(qe,"."))}}function Oo(){return an?t.jsx(XA,{activeStartDate:et,drillUp:nr,formatMonthYear:T,formatYear:L,locale:R,maxDate:U,minDate:ye,navigationAriaLabel:te,navigationAriaLive:xe,navigationLabel:Ne,next2AriaLabel:V,next2Label:Y,nextAriaLabel:q,nextLabel:C,prev2AriaLabel:_,prev2Label:Z,prevAriaLabel:oe,prevLabel:ve,setActiveStartDate:zn,showDoubleView:Ve,view:qe,views:ut}):null}var Tn=Array.isArray(ze)?ze:[ze];return t.jsxs("div",{className:Ol(cl,He&&Tn.length===1&&"".concat(cl,"--selectRange"),Ve&&"".concat(cl,"--doubleView"),u),ref:N,children:[Oo(),t.jsxs("div",{className:"".concat(cl,"__viewContainer"),onBlur:He?rr:void 0,onMouseLeave:He?rr:void 0,children:[fs(),Ve?fs(!0):null]})]})});function MT(e){const r=[{label:"Owner Name",keys:["Owner Name","Nome"]},{label:"Owner Address",keys:["Owner Address","Mailing Address"]},{label:"Owner City",keys:["Owner Cty","Owner City"]},{label:"Owner State",keys:["Owner sate","Owner State","State"]},{label:"Owner Zip Code",keys:["OwnerZip Code","Owner Zip","Zip"]},{label:"County Name",keys:["CountyNeme","County Name"]},{label:"County FIPS",keys:["County Fips Code","County FIPS"]},{label:"Acres",keys:["Acres"]},{label:"APN",keys:["Ap","APN"]}],o={};for(const i of r)for(const l of i.keys){const d=new RegExp(`${l}s*[:=]?s*([^
]+)`,"i"),u=e.match(d);if(u){o[i.label]=u[1].trim();break}}return o}const IT=({onNavigate:e})=>{const[r,o]=x.useState(0),[i,l]=x.useState(""),[d,u]=x.useState(""),[p,f]=x.useState(""),[y,g]=x.useState({issues:"",currentSetup:"",replacementType:"",plumbingSetup:"",materialsPurchased:"",roofType:"",activeLeaks:"",roofReplaced:""}),[v,w]=x.useState({date:"",time:"",confirmed:!1}),[T,A]=x.useState(!1),[k,L]=x.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"United States",secondaryName:"",secondaryPhone:"",secondaryEmail:"",relationshipToPrimary:"",showSecondary:!1}),[P,O]=x.useState({projectChecklist:[],bathChecklist:[],roofChecklist:[],commitmentChecklist:[]}),[N,R]=x.useState({address:"",results:null,loading:!1,error:null,suggestions:[],showSuggestions:!1,selectedCoordinates:null,checklist:{addressVerified:!1,propertyTypeConfirmed:!1,characteristicsNoted:!1,accessInfoCollected:!1}}),[$,U]=x.useState(!0),[J,ee]=x.useState(!1),[ae,ye]=x.useState(!1),[H,ue]=x.useState(null),[te,xe]=x.useState(!1),[Ne,V]=x.useState(""),[Y,q]=x.useState(!1),[C,E]=x.useState({}),[S,b]=x.useState(!1),[F,M]=x.useState(!1),[ne,le]=x.useState({type:"success",title:"",message:"",details:""}),[Se,be]=x.useState(!1),[Q,_]=x.useState(""),[Z,oe]=x.useState(!1),ve=[{key:"basemapVerified",label:"Screenshot Uploaded & Owner Verified"},{key:"addressVerified",label:"Address Matches Screenshot"},{key:"propertyTypeConfirmed",label:"Property Type Matches Screenshot"},{key:"characteristicsNoted",label:"Key Characteristics Noted"},{key:"accessInfoCollected",label:"Access/Entry Info from Screenshot"}],Ae=ae&&N.checklist.addressVerified&&N.checklist.propertyTypeConfirmed&&N.checklist.characteristicsNoted&&N.checklist.accessInfoCollected;x.useEffect(()=>{r===0&&!i&&!d&&!p&&Xe()},[]),x.useEffect(()=>{if(r===0&&!i&&!d&&!p)return;const I={currentStep:r,callType:i,projectType:d,userName:p,customerInfo:k,projectDetails:y,appointment:v,appointmentConfirmed:T,checklistItems:P,propertySearch:N,propertySearchCollapsed:$,basemapVisited:J,basemapVerified:ae,basemapScreenshot:H,parsedPropertyInfo:C,timestamp:new Date().toISOString()};localStorage.setItem("scheduleScriptData",JSON.stringify(I)),console.log("💾 Auto-saved progress:",{currentStep:r,callType:i,projectType:d}),oe(!0),_("Progress saved automatically"),be(!0),setTimeout(()=>be(!1),2e3)},[r,i,d,p,k,y,v,T,P,N,$,J,ae,H,C]),x.useEffect(()=>{const I=localStorage.getItem("scheduleScriptData");if(I)try{const W=JSON.parse(I),se=new Date(W.timestamp);(new Date-se)/(1e3*60*60)<24?(console.log("🔄 Loading saved progress from localStorage"),oe(!0),W.currentStep!==void 0&&o(W.currentStep),W.callType&&l(W.callType),W.projectType&&u(W.projectType),W.userName&&f(W.userName),W.customerInfo&&L(W.customerInfo),W.projectDetails&&g(W.projectDetails),W.appointment&&w(W.appointment),W.appointmentConfirmed!==void 0&&A(W.appointmentConfirmed),W.checklistItems&&O(W.checklistItems),W.propertySearch&&R(W.propertySearch),W.propertySearchCollapsed!==void 0&&U(W.propertySearchCollapsed),W.basemapVisited!==void 0&&ee(W.basemapVisited),W.basemapVerified!==void 0&&ye(W.basemapVerified),W.basemapScreenshot&&ue(W.basemapScreenshot),W.parsedPropertyInfo&&E(W.parsedPropertyInfo),console.log("✅ Progress restored:",{currentStep:W.currentStep,callType:W.callType,projectType:W.projectType}),_(`Welcome back! Continuing from step ${W.currentStep+1}`),be(!0),setTimeout(()=>be(!1),3e3)):(console.log("⏰ Saved data is too old, starting fresh"),localStorage.removeItem("scheduleScriptData"),oe(!1))}catch(W){console.error("❌ Error loading saved progress:",W),localStorage.removeItem("scheduleScriptData"),oe(!1)}else oe(!1)},[]),x.useEffect(()=>{H?(q(!0),V(""),GN.recognize(H,"eng",{logger:I=>{}}).then(({data:{text:I}})=>{V(I),q(!1)}).catch(()=>{V("Could not extract text from image."),q(!1)})):(V(""),q(!1))},[H]),x.useEffect(()=>{if(Ne&&!Y){const I=MT(Ne);E(I)}else E({})},[Ne,Y]),x.useEffect(()=>{H&&Ne&&!Y?(ye(!0),R(I=>({...I,checklist:{addressVerified:!0,propertyTypeConfirmed:!0,characteristicsNoted:!0,accessInfoCollected:!0}}))):H||(ye(!1),R(I=>({...I,checklist:{addressVerified:!1,propertyTypeConfirmed:!1,characteristicsNoted:!1,accessInfoCollected:!1}})))},[H,Ne,Y]);const st=[{id:"greeting",title:"Call Greeting",type:"greeting"},{id:"propertySearch",title:"Property Search",type:"property"},{id:"projectType",title:"Project Type Selection",type:"selection"},{id:"projectChecklist",title:"Project Checklist",type:"checklist"},{id:"projectQuestions",title:"Project-Specific Questions",type:"questions"},{id:"valueProposition",title:"Value of the Visit",type:"presentation"},{id:"customerInfo",title:"Customer Information",type:"customer"},{id:"commitment",title:"Commitment & Scheduling",type:"scheduling"},{id:"buttonUp",title:"Button Up & Final Steps",type:"final"},{id:"confirmation",title:"Appointment Confirmation",type:"confirmation"}],He={incoming:{script:"It's a great day here at Long, my name is _______ How may I HELP you?",tone:"Friendly, consultative, not pushy. Make it feel like a conversation, not a sales pitch."},outgoing:{script:"Hello Mr. / Mrs..... My name is (agent name) with Long Home on a recorded line following up on your inquiry for your (project type). Is this the best phone number to reach you on in case we are disconnected? Perfect!",tone:"Professional, warm, and consultative approach."}},Ve=I=>{const W=I==="bath"?"bath/shower":I==="roof"?"roof":"product",se=I==="bath"?"bath/shower":I==="roof"?"roof":"product";return[`How old is your ${se}?`,`What issues are you currently having with your ${se}?`,`What would you like to have done? (Ask ${W} related questions)`]},Je=["Do you currently have a tub or shower in the space?","What are you looking to replace it with? (Tub to Tub/Shower to Shower or Conversion)","Is plumbing set up for a bath or shower to connect to? ***","Have you purchased any materials yet? (Must get a no. All purchases & installations must be from Long)?"],Gt=["Are you looking for asphalt shingles, metal, or flat roof?","Do you currently have any active leaks or missing shingles?","Have you ever replaced the roof since owning your home?"],an=["First and Last Name of all parties involved","Address","Appointment Date and Time","Verify Product"],[Ot,wn]=x.useState({weekdays:[],weekends:[]}),[pr,Xn]=x.useState(!0),ln=x.useRef(null);x.useEffect(()=>{const I=W=>{ln.current&&!ln.current.contains(W.target)&&R(se=>({...se,showSuggestions:!1}))};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const Bn=(I,W)=>{O(se=>({...se,[I]:se[I].includes(W)?se[I].filter(ge=>ge!==W):[...se[I],W]}))},fr=(I,W)=>{w(se=>({...se,[I]:W}))},Dt=(I,W)=>{L(se=>({...se,[I]:W}))},Ft=()=>{r>0&&o(r-1)},Ut=()=>{r<st.length-1&&o(r+1)},An=async()=>{if(N.address){R(I=>({...I,loading:!0,error:null}));try{let I,W;if(N.selectedCoordinates)[W,I]=N.selectedCoordinates;else{const Pt=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(N.address)}`)).json();if(!Pt.length)throw new Error("Address not found");[W,I]=Pt[0].lon,Pt[0].lat}console.log("Using coordinates:",{lat:I,lon:W});const se="eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJyZWdyaWQuY29tIiwiaWF0IjoxNzUyNjk2NzMxLCJleHAiOjE3NTUyODg3MzEsInUiOjU2MTIxMSwiZyI6MjMxNTMsImNhcCI6InBhOnRzOnBzOmJmOm1hOnR5OmVvOnpvOnNiIn0.x1b_CldtsWyGIIJ8kTAkgRidkMniV8QC23NKMtVg4dE";console.log("Regrid API key available:",!!se);let ge,re;ge=`https://app.regrid.com/api/v2/parcels/point?lat=${I}&lon=${W}&token=${se}&radius=500`,console.log("Trying Regrid v2 API with lat/lon (500m radius):",ge);let pe=await fetch(ge);if(console.log("Regrid v2 response status:",pe.status),console.log("Regrid v2 response headers:",pe.headers),pe.ok){if(re=await pe.json(),console.log("Regrid v2 API response:",re),console.log("Regrid v2 API response structure:",{hasParcels:!!re.parcels,parcelsType:typeof re.parcels,hasFeatures:re.parcels&&!!re.parcels.features,featuresLength:re.parcels&&re.parcels.features?re.parcels.features.length:0,firstFeature:re.parcels&&re.parcels.features?re.parcels.features[0]:null}),re.parcels&&re.parcels.features&&re.parcels.features.length>0)if(ge=`https://app.regrid.com/api/v2/parcels/address?query=${encodeURIComponent(N.address)}&token=${se}`,console.log("Trying Regrid v2 API with address:",ge),pe=await fetch(ge),console.log("Regrid v2 address response status:",pe.status),pe.ok)re=await pe.json(),console.log("Regrid v2 address API response:",re);else if(ge=`https://app.regrid.com/api/v2/parcels/point?lat=${I}&lon=${W}&radius=500`,console.log("Trying Regrid v2 API with Authorization header:",ge),pe=await fetch(ge,{headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"}}),console.log("Regrid v2 Auth header response status:",pe.status),pe.ok)re=await pe.json(),console.log("Regrid v2 Auth header API response:",re);else throw new Error(`All Regrid v2 API attempts failed. Last error: ${pe.status} ${pe.statusText}`);else if(console.log("No parcels found with lat/lon search, trying address search..."),ge=`https://app.regrid.com/api/v2/parcels/address?query=${encodeURIComponent(N.address)}&token=${se}`,console.log("Trying Regrid v2 API with address:",ge),pe=await fetch(ge),console.log("Regrid v2 address response status:",pe.status),pe.ok&&(re=await pe.json(),console.log("Regrid v2 address API response:",re),!(re.parcels&&re.parcels.features&&re.parcels.features.length>0))){console.log("No parcels found with address search, trying simplified address...");const dn=N.address.split(",")[0];ge=`https://app.regrid.com/api/v2/parcels/address?query=${encodeURIComponent(dn)}&token=${se}`,console.log("Trying Regrid v2 API with simplified address:",ge),pe=await fetch(ge),console.log("Regrid v2 simplified address response status:",pe.status),pe.ok&&(re=await pe.json(),console.log("Regrid v2 simplified address API response:",re))}}let Qe=null;if(re.parcels&&re.parcels.features&&re.parcels.features.length>0?(Qe=re.parcels.features[0],console.log("Found parcel in features array")):re.parcels&&Array.isArray(re.parcels)&&re.parcels.length>0?(Qe=re.parcels[0],console.log("Found parcel in parcels array")):re.features&&Array.isArray(re.features)&&re.features.length>0?(Qe=re.features[0],console.log("Found parcel in root features array")):(console.log("No parcel found in any expected structure"),console.log("Available keys in response:",Object.keys(re))),!Qe){console.log("No parcel found in API response, using mock data"),console.log("Full API response for debugging:",JSON.stringify(re,null,2));const at={address:N.address,usedesc:"Single Family Home",yearbuilt:"1985",recrdareano:"2400",deeded_acres:"0.25",numrooms:"3",numunits:"1",garage_spaces:"2",taxamt:"3200",saledate:"2018",parval:"450000",owner:"John & Jane Doe"};R(Pt=>({...Pt,results:{address:at.address,propertyType:at.usedesc,yearBuilt:at.yearbuilt,squareFootage:at.recrdareano,lotSize:`${at.deeded_acres} acres`,bedrooms:at.numrooms,bathrooms:"2.5",garageSpaces:at.garage_spaces,propertyTax:`$${at.taxamt}/year`,lastSold:at.saledate,estimatedValue:`$${at.parval}`,ownerName:at.owner},loading:!1,checklist:{...Pt.checklist,addressVerified:!0}}));return}const tn=Qe.properties||{},ot=tn.fields||{};console.log("Parcel properties:",tn),console.log("Parcel fields:",ot),R(at=>({...at,results:{address:tn.headline||N.address,propertyType:ot.usedesc||"N/A",yearBuilt:ot.yearbuilt||"N/A",squareFootage:ot.recrdareano?`${ot.recrdareano} sq ft`:"N/A",lotSize:ot.deeded_acres?`${ot.deeded_acres} acres`:"N/A",bedrooms:ot.numrooms||"N/A",bathrooms:ot.numunits||"N/A",garageSpaces:"N/A",propertyTax:ot.taxamt?`$${ot.taxamt}/year`:"N/A",lastSold:ot.saledate||"N/A",estimatedValue:ot.parval?`$${ot.parval}`:"N/A",ownerName:ot.owner||"N/A"},loading:!1,checklist:{...at.checklist,addressVerified:!0}}))}catch(I){console.error("Property search error:",I),R(W=>({...W,error:I.message||"Failed to search property. Please try again.",loading:!1}))}}},ps=()=>{R({address:"",results:null,loading:!1,error:null,suggestions:[],showSuggestions:!1,selectedCoordinates:null,checklist:{addressVerified:!1,propertyTypeConfirmed:!1,characteristicsNoted:!1,accessInfoCollected:!1}})},Wn=I=>{R(W=>({...W,checklist:{...W.checklist,[I]:!W.checklist[I]}}))},ie=async I=>{if(console.log("handleAddressInputChange called with:",I),R(W=>({...W,address:I,showSuggestions:!1})),I.length<3){console.log("Value too short, clearing suggestions"),R(W=>({...W,suggestions:[]}));return}try{const W="pk.eyJ1Ijoic3RhbmxlZWdvdG1lMTAiLCJhIjoiY21kNmd0dDMyMDAwdTJqcHk3Z3BvMWUxZiJ9.URKW_CwDuJ5FtzW_yBPuKQ";console.log("Mapbox API Key available:",!!W),console.log("Making request to Mapbox API...");const ge=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(I)}.json?access_token=${W}&country=US&types=address&limit=5`)).json();console.log("Mapbox API response:",ge);const re=ge.features.map(pe=>({id:pe.id,address:pe.place_name,coordinates:pe.center}));console.log("Processed suggestions:",re),R(pe=>({...pe,suggestions:re,showSuggestions:re.length>0})),console.log("Setting suggestions:",re.length,"showSuggestions:",re.length>0)}catch(W){console.error("Error fetching address suggestions:",W)}},me=I=>{R(W=>({...W,address:I.address,suggestions:[],showSuggestions:!1,selectedCoordinates:I.coordinates}))},Te=(I,W)=>!I||!W?"":`${new Date(I).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})} at ${W}`,Ie=I=>{if(!I)return!1;const W=new Date(I).getDay();return W===0||W===6};x.useEffect(()=>{(async()=>{try{Xn(!0);const se=await Il();if(se&&se.length>0){const ge=se.filter(pe=>pe.dayType==="weekday"),re=se.filter(pe=>pe.dayType==="weekend");wn({weekdays:ge,weekends:re})}else console.log("No time blocks found in Firestore"),wn({weekdays:[],weekends:[]});Xn(!1)}catch(se){console.error("Error loading time blocks from Firestore:",se),wn({weekdays:[],weekends:[]}),Xn(!1)}})();const W=i0(se=>{if(se&&se.length>0){const ge=se.filter(pe=>pe.dayType==="weekday"),re=se.filter(pe=>pe.dayType==="weekend");wn({weekdays:ge,weekends:re}),console.log("🕐 Current time blocks updated:",{weekdays:ge,weekends:re})}});return()=>W()},[]);const we={address:k.address||N.address||C?.["Owner Address"]||"",owner:`${k.firstName} ${k.lastName}`.trim()||C?.["Owner Name"]||"",county:C?.["County Name"]||"",countyFips:C?.["County FIPS"]||"",acres:C?.Acres||"",apn:C?.APN||"",projectType:d||"",userName:p||"",appointment:{date:v.date||"",time:v.time||""},projectDetails:y||{}},it=`🔍 Lead Notes – ${we.address||"Address not provided"}

🏠 Homeownership: Yes${we.owner?` (Owner: ${we.owner})`:""}
👤 Decision-Makers: All required parties will be present
📌 Project Interest:
• ${we.projectType==="bath"?"Bathroom remodel – replacing old tub with walk-in shower":we.projectType==="roof"?"Roof replacement":we.projectType||"N/A"}
${we.projectDetails?.issues?`• ${we.projectDetails.issues}`:""}

🗂️ Property Details:
${we.owner?`• Owner: ${we.owner}
`:""}${we.county?`• County: ${we.county}`:""}${we.countyFips?` (FIPS: ${we.countyFips})`:""}
${we.acres?`• Acres: ${we.acres}
`:""}${we.apn?`• APN: ${we.apn}
`:""}

📅 Appointment Status: ${we.appointment.date&&we.appointment.time?Te(we.appointment.date,we.appointment.time):"Not scheduled"}
${T?"✅ Appointment Confirmed (No Follow-up Needed)":"⏳ Appointment Pending (Follow-up Required)"}

✅ REP NOTES
Rep Name: ${we.userName||"N/A"}
Customer Name: ${we.owner||"N/A"}
Address: ${we.address||"N/A"}
Project Type: ${we.projectType==="bath"?"Bathroom remodel":we.projectType==="roof"?"Roof replacement":we.projectType||"N/A"}
Special Details: ${we.projectDetails?.issues||"N/A"}
Appointment Date & Time: ${we.appointment.date&&we.appointment.time?Te(we.appointment.date,we.appointment.time):"Not scheduled"}
Confirmation Status: ${T?"Confirmed":"Pending"}
`,De=`Thank you for scheduling your appointment with Long Home Products!

Here's what to expect:
• A design consultant will visit your home at ${we.address||"your address"}.
• Appointment: ${we.appointment.date&&we.appointment.time?Te(we.appointment.date,we.appointment.time):"date and time to be confirmed"}.
• We'll review your ${we.projectType==="bath"?"bathroom remodel":we.projectType==="roof"?"roof replacement":we.projectType||"project"} needs and provide a free estimate.
• Please ensure all decision-makers are present.

We look forward to meeting you!`;x.useCallback(()=>{const I=localStorage.getItem("scheduleScriptData");if(I)try{const W=JSON.parse(I),se=new Date(W.timestamp);(new Date-se)/(1e3*60*60)<24?(console.log("🔄 Resuming saved progress"),W.currentStep!==void 0&&o(W.currentStep),W.callType&&l(W.callType),W.projectType&&u(W.projectType),W.userName&&f(W.userName),W.customerInfo&&L(W.customerInfo),W.projectDetails&&g(W.projectDetails),W.appointment&&w(W.appointment),W.appointmentConfirmed!==void 0&&A(W.appointmentConfirmed),W.checklistItems&&O(W.checklistItems),W.propertySearch&&R(W.propertySearch),W.propertySearchCollapsed!==void 0&&U(W.propertySearchCollapsed),W.basemapVisited!==void 0&&ee(W.basemapVisited),W.basemapVerified!==void 0&&ye(W.basemapVerified),W.basemapScreenshot&&ue(W.basemapScreenshot),W.parsedPropertyInfo&&E(W.parsedPropertyInfo),_(`Resumed from step ${W.currentStep+1}`),be(!0),setTimeout(()=>be(!1),2e3)):(console.log("⏰ Saved data is too old"),localStorage.removeItem("scheduleScriptData"),oe(!1))}catch(W){console.error("❌ Error resuming progress:",W),localStorage.removeItem("scheduleScriptData"),oe(!1)}},[]);const Xe=x.useCallback(()=>{o(0),l(""),u(""),f(""),A(!1),L({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"United States",secondaryName:"",secondaryPhone:"",secondaryEmail:"",relationshipToPrimary:"",showSecondary:!1}),g({age:"",issues:"",currentSetup:"",replacementType:"",plumbingSetup:"",materialsPurchased:"",roofType:"",activeLeaks:"",roofReplaced:""}),w({date:"",time:"",confirmed:!1}),O({projectChecklist:[],bathChecklist:[],roofChecklist:[],commitmentChecklist:[]}),R({address:"",results:null,loading:!1,error:null,suggestions:[],showSuggestions:!1,selectedCoordinates:null,checklist:{addressVerified:!1,propertyTypeConfirmed:!1,characteristicsNoted:!1,accessInfoCollected:!1}}),U(!0),ee(!1),ye(!1),ue(null),xe(!1),V(""),q(!1),E({}),b(!1),M(!1),le({type:"success",title:"",message:"",details:""}),localStorage.removeItem("scheduleScriptData"),le({type:"success",title:"",message:"",details:""}),oe(!1),console.log("🗑️ All data cleared for new appointment")},[]),Ye=x.useCallback(()=>{navigator.clipboard.writeText(it).then(()=>{M(!0),setTimeout(()=>M(!1),2e3)})},[it]),et=x.useCallback(()=>{navigator.clipboard.writeText(De).then(()=>{alert("Customer recap copied to clipboard!")})},[De]),ze=()=>t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx("h3",{className:"step-title-dark",children:"Select Call Type"}),t.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"0.5rem 1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",color:"#f8fafc"},children:["Current selection: ",i||"None"]}),t.jsxs("div",{className:"greeting-options-dark",children:[t.jsxs(ke.div,{className:`greeting-option-dark ${i==="incoming"?"selected-dark":""}`,onClick:()=>{l("incoming"),setTimeout(()=>o(r+1),200)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(ll,{className:"greeting-icon"}),t.jsxs("div",{className:"greeting-content-dark",children:[t.jsx("h4",{children:"Incoming Call"}),t.jsxs("p",{className:"greeting-script-dark",children:['"',He.incoming.script,'"']}),t.jsx("p",{className:"greeting-tone-dark",children:He.incoming.tone})]}),i==="incoming"&&t.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#10b981",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:t.jsx(xi,{size:16})})]}),t.jsxs(ke.div,{className:`greeting-option-dark ${i==="outgoing"?"selected-dark":""}`,onClick:()=>{l("outgoing"),setTimeout(()=>o(r+1),200)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(ll,{className:"greeting-icon"}),t.jsxs("div",{className:"greeting-content-dark",children:[t.jsx("h4",{children:"Outgoing Call"}),t.jsxs("p",{className:"greeting-script-dark",children:['"',He.outgoing.script,'"']}),t.jsx("p",{className:"greeting-tone-dark",children:He.outgoing.tone})]}),i==="outgoing"&&t.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#10b981",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:t.jsx(xi,{size:16})})]})]}),t.jsx("div",{className:"step-navigation-dark",children:t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,disabled:r===0,whileHover:{scale:1.05},whileTap:{scale:.95},style:{opacity:r===0?.5:1},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]})})]}),We=()=>{const I=()=>{const se={};if(N.address&&!k.address&&(se.address=N.address),C?.["Owner Name"]&&!k.firstName&&!k.lastName){const ge=C["Owner Name"],re=ge.split(" ");re.length>=2?(se.firstName=re[0],se.lastName=re.slice(1).join(" ")):se.firstName=ge}C?.["Owner City"]&&!k.city&&(se.city=C["Owner City"]),C?.["Owner State"]&&!k.state&&(se.state=C["Owner State"]),C?.["Owner Zip Code"]&&!k.zipCode&&(se.zipCode=C["Owner Zip Code"].replace(":","").trim()),Object.keys(se).length>0&&L(ge=>({...ge,...se}))},W=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];return t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{background:"rgba(59,130,246,0.03)",borderRadius:16,padding:"2.5rem 1.5rem",boxShadow:"0 2px 16px rgba(59,130,246,0.07)",maxWidth:600,margin:"0 auto"},children:[t.jsxs("h3",{className:"step-title-dark",style:{color:"#2563eb",display:"flex",alignItems:"center",gap:10,fontSize:"2rem",marginBottom:18},children:[t.jsx(yy,{style:{color:"#2563eb",fontSize:28}}),"Quick Customer Info"]}),(N.address||C&&Object.keys(C).length>0)&&t.jsxs("div",{style:{background:"#1e293b",borderRadius:8,padding:"1rem",marginBottom:"1rem",border:"1px solid #334155"},children:[t.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"0.9rem",color:"#94a3b8"},children:"📋 Available property data:"}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[C?.["Owner Name"]&&t.jsxs("span",{style:{background:"#374151",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:["👤 ",C["Owner Name"]]}),C?.["Owner City"]&&t.jsxs("span",{style:{background:"#374151",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:["🏙️ ",C["Owner City"]]}),C?.["Owner State"]&&t.jsxs("span",{style:{background:"#374151",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:["🗺️ ",C["Owner State"]]}),N.address&&t.jsxs("span",{style:{background:"#374151",padding:"0.25rem 0.5rem",borderRadius:4,fontSize:"0.8rem"},children:["📍 ",N.address]})]}),t.jsx("button",{onClick:I,style:{background:"#3b82f6",color:"white",border:"none",borderRadius:6,padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:8},children:"🚀 Auto-fill from property data"})]}),t.jsxs("div",{className:"customer-info-container-dark",style:{background:"#1e293b",borderRadius:12,boxShadow:"0 1px 8px rgba(0,0,0,0.3)",padding:"2rem",marginBottom:24,border:"1px solid #334155"},children:[t.jsxs("div",{className:"form-row-dark",style:{display:"flex",gap:18,flexWrap:"wrap",marginBottom:16},children:[t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:140},children:[t.jsxs("label",{className:"form-label-dark",children:["Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:`${k.firstName} ${k.lastName}`.trim(),onChange:se=>{const ge=se.target.value.split(" ");L(re=>({...re,firstName:ge[0]||"",lastName:ge.slice(1).join(" ")||""}))},className:"form-input-dark",placeholder:"First Last",required:!0})]}),t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:140},children:[t.jsxs("label",{className:"form-label-dark",children:["Phone ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"tel",value:k.phone,onChange:se=>Dt("phone",se.target.value),className:"form-input-dark",placeholder:"(555) 123-4567",required:!0})]})]}),t.jsxs("div",{className:"form-group-dark",style:{marginBottom:16},children:[t.jsx("label",{className:"form-label-dark",children:"Email (Optional)"}),t.jsx("input",{type:"email",value:k.email,onChange:se=>Dt("email",se.target.value),className:"form-input-dark",placeholder:"email@example.com"})]}),t.jsxs("div",{className:"form-group-dark",style:{marginBottom:16},children:[t.jsxs("label",{className:"form-label-dark",children:["Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:k.address,onChange:se=>Dt("address",se.target.value),className:"form-input-dark",placeholder:"Street address",required:!0})]}),t.jsxs("div",{className:"form-row-dark",style:{display:"flex",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{className:"form-group-dark",style:{flex:2,minWidth:120},children:[t.jsxs("label",{className:"form-label-dark",children:["City ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:k.city,onChange:se=>Dt("city",se.target.value),className:"form-input-dark",placeholder:"City",required:!0})]}),t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:80},children:[t.jsxs("label",{className:"form-label-dark",children:["State ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:k.state,onChange:se=>Dt("state",se.target.value),className:"form-input-dark",required:!0,children:[t.jsx("option",{value:"",children:"State"}),W.map(se=>t.jsx("option",{value:se,children:se},se))]})]}),t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:80},children:[t.jsxs("label",{className:"form-label-dark",children:["ZIP ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:k.zipCode,onChange:se=>Dt("zipCode",se.target.value),className:"form-input-dark",placeholder:"ZIP",required:!0})]})]}),t.jsxs("div",{style:{marginTop:"1.5rem",borderTop:"1px solid #475569",paddingTop:"1rem"},children:[t.jsxs("button",{onClick:()=>L(se=>({...se,showSecondary:!se.showSecondary})),style:{background:"transparent",color:"#34d399",border:"none",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:8,fontWeight:600},children:[k.showSecondary?"▼":"▶"," Add Secondary Contact (Optional)"]}),k.showSecondary&&t.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#0f172a",borderRadius:8},children:[t.jsxs("div",{className:"form-row-dark",style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:140},children:[t.jsx("label",{className:"form-label-dark",children:"Secondary Name"}),t.jsx("input",{type:"text",value:k.secondaryName,onChange:se=>Dt("secondaryName",se.target.value),className:"form-input-dark",placeholder:"Spouse, partner, etc."})]}),t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:140},children:[t.jsx("label",{className:"form-label-dark",children:"Secondary Phone"}),t.jsx("input",{type:"tel",value:k.secondaryPhone,onChange:se=>Dt("secondaryPhone",se.target.value),className:"form-input-dark",placeholder:"(555) 123-4567"})]})]}),t.jsxs("div",{className:"form-row-dark",style:{display:"flex",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:140},children:[t.jsx("label",{className:"form-label-dark",children:"Secondary Email"}),t.jsx("input",{type:"email",value:k.secondaryEmail,onChange:se=>Dt("secondaryEmail",se.target.value),className:"form-input-dark",placeholder:"email@example.com"})]}),t.jsxs("div",{className:"form-group-dark",style:{flex:1,minWidth:120},children:[t.jsx("label",{className:"form-label-dark",children:"Relationship"}),t.jsxs("select",{value:k.relationshipToPrimary,onChange:se=>Dt("relationshipToPrimary",se.target.value),className:"form-input-dark",children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"Spouse",children:"Spouse"}),t.jsx("option",{value:"Partner",children:"Partner"}),t.jsx("option",{value:"Parent",children:"Parent"}),t.jsx("option",{value:"Child",children:"Child"}),t.jsx("option",{value:"Roommate",children:"Roommate"}),t.jsx("option",{value:"Other",children:"Other"})]})]})]})]})]})]}),t.jsxs("div",{className:"step-navigation-dark",style:{display:"flex",justifyContent:"space-between",marginTop:32},children:[t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),t.jsxs(ke.button,{className:"nav-button-dark next-button-dark",onClick:Ut,disabled:!k.firstName||!k.lastName||!k.phone||!k.address||!k.city||!k.state||!k.zipCode,whileHover:{scale:1.05},whileTap:{scale:.95},style:{opacity:!k.firstName||!k.lastName||!k.phone||!k.address||!k.city||!k.state||!k.zipCode?.5:1},children:["Next",t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 12H19M12 5L19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})},qe=()=>t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx("h3",{className:"step-title-dark",children:"Select Project Type"}),t.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"0.5rem 1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",color:"#f8fafc"},children:["Current selection: ",d||"None"]}),t.jsxs("div",{className:"project-options-dark",children:[t.jsxs(ke.div,{className:`project-option-dark ${d==="bath"?"selected-dark":""}`,onClick:()=>{u("bath"),setTimeout(()=>o(4),200)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(go,{className:"project-icon"}),t.jsxs("div",{className:"project-content-dark",children:[t.jsx("h4",{children:"Bath/Shower Replacement"}),t.jsx("p",{children:"Schedule bath check and consultation"})]}),d==="bath"&&t.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#10b981",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:t.jsx(xi,{size:16})})]}),t.jsxs(ke.div,{className:`project-option-dark ${d==="roof"?"selected-dark":""}`,onClick:()=>{u("roof"),setTimeout(()=>o(4),200)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(go,{className:"project-icon"}),t.jsxs("div",{className:"project-content-dark",children:[t.jsx("h4",{children:"Roof Replacement"}),t.jsx("p",{children:"Schedule roof inspection and estimate"})]}),d==="roof"&&t.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#10b981",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:t.jsx(xi,{size:16})})]})]}),t.jsx("div",{className:"step-navigation-dark",children:t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]})})]}),ut=()=>t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("h3",{className:"step-title-dark",children:[d==="bath"?"Bath/Shower":d==="roof"?"Roof":"Project"," Checklist"]}),t.jsxs("div",{className:"checklist-container-dark",children:[t.jsxs("h4",{className:"checklist-title-dark",children:[d==="bath"?"Bath/Shower":d==="roof"?"Roof":"General"," Project Questions:"]}),t.jsx("div",{className:"checklist-items-dark",children:Ve(d).map((I,W)=>t.jsxs(ke.div,{className:`checklist-item-dark ${P.projectChecklist.includes(W)?"completed-dark":""}`,onClick:()=>Bn("projectChecklist",W),whileHover:{scale:1.02},whileTap:{scale:.98},children:[P.projectChecklist.includes(W)?t.jsx(po,{className:"check-icon"}):t.jsx(wi,{className:"check-icon"}),t.jsx("span",{children:I})]},W))})]}),t.jsxs("div",{className:"step-navigation-dark",children:[t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),t.jsxs(ke.button,{className:"nav-button-dark next-button-dark",onClick:Ut,whileHover:{scale:1.05},whileTap:{scale:.95},children:["Next",t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 12H19M12 5L19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),jn=()=>t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("h3",{className:"step-title-dark",children:[d==="bath"?"Bath/Shower":"Roof"," Specific Questions"]}),t.jsx("div",{className:"questions-container-dark",children:d==="bath"?t.jsx("div",{className:"checklist-items-dark",children:Je.map((I,W)=>t.jsxs(ke.div,{className:`checklist-item-dark ${P.bathChecklist.includes(W)?"completed-dark":""}`,onClick:()=>Bn("bathChecklist",W),whileHover:{scale:1.02},whileTap:{scale:.98},children:[P.bathChecklist.includes(W)?t.jsx(po,{className:"check-icon"}):t.jsx(wi,{className:"check-icon"}),t.jsx("span",{children:I})]},W))}):t.jsx("div",{className:"checklist-items-dark",children:Gt.map((I,W)=>t.jsxs(ke.div,{className:`checklist-item-dark ${P.roofChecklist.includes(W)?"completed-dark":""}`,onClick:()=>Bn("roofChecklist",W),whileHover:{scale:1.02},whileTap:{scale:.98},children:[P.roofChecklist.includes(W)?t.jsx(po,{className:"check-icon"}):t.jsx(wi,{className:"check-icon"}),t.jsx("span",{children:I})]},W))})}),t.jsxs("div",{className:"step-navigation-dark",children:[t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),t.jsxs(ke.button,{className:"nav-button-dark next-button-dark",onClick:Ut,whileHover:{scale:1.05},whileTap:{scale:.95},children:["Next",t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 12H19M12 5L19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),er=()=>t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx("h3",{className:"step-title-dark",children:"Value of the Visit"}),t.jsx("div",{className:"value-proposition-dark",children:t.jsxs("div",{className:"proposition-card-dark",children:[t.jsx("h4",{className:"proposition-title-dark",children:"Script for Agent:"}),t.jsx("p",{className:"proposition-text-dark",children:'"Now that I have a clear understanding of what you are looking for, let me explain the next steps in our process and how we can assist you today: Long provides total replacements services only. We need you to set aside 60-90 minutes so one of our design consultants can visit your home with samples in hand to show you. The design consultant will do a wellness check and go over different colors, styles, warranty, and financing options available. After taking measurements and answering all your questions, they will provide you with an on-the-spot estimate. How does that sound?"'}),t.jsxs("div",{className:"key-points-dark",children:[t.jsx("h5",{children:"Key Points:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"60-90 minute consultation"}),t.jsx("li",{children:"Total replacement services only"}),t.jsx("li",{children:"Own the property"}),t.jsx("li",{children:"All decision makers must be present"})]})]})]})}),t.jsxs("div",{className:"step-navigation-dark",children:[t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),t.jsxs(ke.button,{className:"nav-button-dark next-button-dark",onClick:Ut,whileHover:{scale:1.05},whileTap:{scale:.95},children:["Next",t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 12H19M12 5L19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),[St,Un]=x.useState(null),[zn,tr]=x.useState(null),[cn,nr]=x.useState(null),[mr,Rr]=x.useState([]),[rr,fs]=x.useState({}),[Oo,Tn]=x.useState(!1);x.useEffect(()=>{if(k.address){const I=[k.address,k.city,k.state,k.zipCode].filter(Boolean).join(", ");console.log("🔍 Checking full address for region detection:",I);const W=nA(I);W.inServiceArea?(Un(W.region),tr(null),console.log("✅ Region detected:",W.region)):(Un(null),tr("Region could not be determined from address. Please select manually."),console.log("❌ Region not detected for address:",I))}else Un(null),tr(null)},[k.address,k.city,k.state,k.zipCode]);const Ge=["MIDA","ESDE","NOVA","NENG","NHME","CTWM","SOPA","WCFL"];x.useEffect(()=>{if(St){ct(St);const I=eA(St,W=>{console.log("🔄 Real-time availability update for region:",St,W),fs(W||{});const se=W?Object.keys(W).filter(ge=>{const re=W[ge];if(!re)return!1;let pe=!1;return Object.values(re).forEach(Qe=>{typeof Qe=="object"&&Qe.available?Qe.available>0&&(pe=!0):typeof Qe=="number"&&Qe>0&&(pe=!0)}),pe}):[];Rr(se)});return()=>I()}},[St]);const ct=async I=>{Tn(!0);try{console.log("🔄 Loading availability for region:",I);const W=await Nl(I);console.log("📅 Raw availability data:",W),fs(W);const se=W?Object.keys(W).filter(ge=>{const re=W[ge];if(console.log("📊 Checking availability for date:",ge,re),!re)return!1;let pe=!1;return typeof re=="object"&&re!==null&&Object.values(re).forEach(Qe=>{typeof Qe=="object"&&Qe.available?Qe.available>0&&(pe=!0):typeof Qe=="number"&&Qe>0&&(pe=!0)}),pe}):[];console.log("✅ Available dates:",se),Rr(se)}catch(W){console.error("❌ Error loading availability:",W)}finally{Tn(!1)}},ft=({date:I,view:W})=>{if(W!=="month")return null;const se=I.toISOString().split("T")[0],ge=rr[se];if(!ge)return null;console.log("📅 Day availability for",se,":",ge);let re=0;return typeof ge=="object"&&ge!==null&&Object.values(ge).forEach(pe=>{typeof pe=="object"&&pe.available?re+=pe.available:typeof pe=="number"&&(re+=pe)}),console.log("📊 Total slots for",se,":",re),re===0?null:t.jsx("div",{className:"calendar-slot-count",children:t.jsx("span",{className:"slot-count-badge",children:re})})},Yt=({date:I,view:W})=>{if(W!=="month")return null;const se=I.toISOString().split("T")[0],ge=rr[se];if(!ge)return"calendar-day-unavailable";let re=0;return typeof ge=="object"&&ge!==null&&Object.values(ge).forEach(pe=>{typeof pe=="object"&&pe.available?re+=pe.available:typeof pe=="number"&&(re+=pe)}),re===0?"calendar-day-unavailable":re<=2?"calendar-day-limited":re<=5?"calendar-day-moderate":"calendar-day-available"},Qt=I=>{nr(I),w(W=>({...W,date:I.toISOString().split("T")[0],time:""}))},gr=(I,W)=>{if(!I||!W)return[];const se=rr||{},ge=new Date;ge.setHours(0,0,0,0);const re=new Date(I);if(re.setHours(0,0,0,0),re.getTime()===ge.getTime())return[];const pe=I.toISOString().split("T")[0],Qe=se[pe];if(!Qe)return[];const tn=Ie(I),ot=tn?Ot.weekends:Ot.weekdays;console.log("📅 Date:",pe,"Weekend:",tn),console.log("🕐 Current time blocks:",ot),console.log("📊 Day availability:",Qe);let at=[];if(Qe.slots){for(const[Pt,dn]of Object.entries(Qe.slots))if(dn[W]&&dn[W].available>0){const $n=ot.find(Mr=>Mr.id===Pt);$n&&at.push({time:$n.time,timeId:Pt,availableSlots:dn[W].available,label:`${$n.time} (${dn[W].available} slot${dn[W].available>1?"s":""} available)`})}}else for(const[Pt,dn]of Object.entries(Qe)){const $n={morning:"weekday-morning","late-morning":"weekday-morning","early-afternoon":"weekday-afternoon","late-afternoon":"weekday-afternoon",evening:"weekday-evening"};tn&&($n.morning="weekend-morning",$n["late-morning"]="weekend-morning",$n["early-afternoon"]="weekend-afternoon",$n["late-afternoon"]="weekend-afternoon");const Mr=$n[Pt],Us=ot.find(Vo=>Vo.id===Mr);Us&&dn.available>0&&at.push({time:Us.time,timeId:Mr,availableSlots:dn.available,label:`${Us.time} (${dn.available} slot${dn.available>1?"s":""} available)`})}return console.log("✅ Available slots:",at),at},_s=()=>t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx("h3",{className:"step-title-dark",children:"Commitment & Scheduling"}),t.jsx("div",{className:"commitment-container-dark",children:t.jsxs("div",{className:"commitment-card-dark",children:[t.jsx("h4",{className:"commitment-title-dark",children:"Commitment Script:"}),t.jsx("p",{className:"commitment-text-dark",children:'"All we ask is that all parties involved are present when we come out for the free in-home estimate. I can have a design consultant make a special trip out to your home tomorrow, currently, I have a 2pm & 6 pm left, which time works best for all parties involved?"'}),t.jsxs("div",{className:"appointment-scheduling-dark",children:[t.jsxs("div",{className:"region-selection-container",children:[t.jsx("h5",{children:"Service Region:"}),St?t.jsx("div",{className:"region-info",children:t.jsxs("span",{className:"region-badge",children:["Region: ",St]})}):t.jsxs("div",{className:"region-info error",children:[t.jsx("span",{children:zn||"Region not detected."}),t.jsxs("select",{value:St||"",onChange:I=>Un(I.target.value),className:"region-select",children:[t.jsx("option",{value:"",children:"Select Region"}),Ge.map(I=>t.jsx("option",{value:I,children:I},I))]})]})]}),St&&t.jsxs("div",{className:"calendar-container",children:[t.jsx("h5",{children:"Select Appointment Date:"}),Oo?t.jsxs("div",{className:"loading-calendar",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading availability..."})]}):t.jsxs("div",{className:"modern-calendar-wrapper",children:[t.jsx(RT,{onChange:Qt,value:cn,tileContent:ft,tileClassName:Yt,minDate:new Date(new Date().setHours(0,0,0,0)),maxDate:new Date(Date.now()+30*24*60*60*1e3),className:"modern-calendar",tileDisabled:({date:I})=>{const W=new Date;W.setHours(0,0,0,0);const se=new Date(I);if(se.setHours(0,0,0,0),se<W)return!0;const ge=I.toISOString().split("T")[0],re=rr?.[ge];if(!re)return!0;let pe=!1;return typeof re=="object"&&re!==null&&Object.values(re).forEach(Qe=>{typeof Qe=="object"&&Qe.available?Qe.available>0&&(pe=!0):typeof Qe=="number"&&Qe>0&&(pe=!0)}),!pe}}),t.jsxs("div",{className:"calendar-legend",children:[t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color available"}),t.jsx("span",{children:"Available (5+ slots)"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color moderate"}),t.jsx("span",{children:"Moderate (3-5 slots)"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color limited"}),t.jsx("span",{children:"Limited (1-2 slots)"})]})]})]})]}),cn&&St&&t.jsxs("div",{className:"time-selection-container",children:[t.jsx("h5",{children:"Select Appointment Time:"}),t.jsx("div",{className:"time-slots-grid",children:gr(cn,St).map(I=>t.jsxs(ke.button,{className:`time-slot-modern ${v.time===I.time?"selected-modern":""}`,onClick:()=>fr("time",I.time),whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx(qu,{className:"time-icon"}),t.jsxs("div",{className:"time-block-info",children:[t.jsx("span",{className:"time-block-time",children:I.time}),t.jsxs("span",{className:"time-block-slots",children:[I.availableSlots," slot",I.availableSlots>1?"s":""," available"]})]})]},I.timeId))}),gr(cn,St).length===0&&t.jsx("div",{className:"no-availability-modern",children:t.jsx("p",{children:"No available time slots for this date. Please select a different date."})})]})]})]})}),t.jsxs("div",{className:"step-navigation-dark",children:[t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),t.jsxs(ke.button,{className:"nav-button-dark next-button-dark",onClick:Ut,disabled:!v.date||!v.time,whileHover:{scale:1.05},whileTap:{scale:.95},style:{opacity:!v.date||!v.time?.5:1},children:["Next",t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 12H19M12 5L19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),Fo=()=>t.jsx(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",borderRadius:24,boxShadow:"0 8px 32px rgba(16,185,129,0.15)",padding:"2.5rem 1.5rem",maxWidth:520,margin:"0 auto"},children:t.jsxs("div",{style:{background:"white",borderRadius:20,boxShadow:"0 8px 32px rgba(16,185,129,0.10)",padding:"2.5rem 2rem 2rem 2rem",width:"100%",maxWidth:480,display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",width:80,height:80,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:24,boxShadow:"0 4px 16px rgba(16,185,129,0.15)"},children:t.jsx(gl,{size:48,color:"white"})}),t.jsx("h2",{style:{color:"#059669",fontWeight:800,fontSize:"2rem",marginBottom:8,textAlign:"center"},children:"Appointment Confirmed!"}),t.jsx("p",{style:{color:"#334155",fontSize:"1.1rem",marginBottom:28,textAlign:"center"},children:"Your appointment has been successfully scheduled"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.2rem 1.5rem",width:"100%",marginBottom:24},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(Hu,{size:22,color:"#6366f1"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#64748b",fontWeight:600},children:"DATE"}),t.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:Te(v.date,"")})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(qu,{size:22,color:"#6366f1"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#64748b",fontWeight:600},children:"TIME"}),t.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:v.time})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(go,{size:22,color:"#6366f1"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#64748b",fontWeight:600},children:"PROJECT"}),t.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:d==="bath"?"Bathroom Remodel":d==="roof"?"Roof Replacement":d})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(yy,{size:22,color:"#6366f1"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#64748b",fontWeight:600},children:"CUSTOMER"}),t.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:k.firstName&&k.lastName?`${k.firstName} ${k.lastName}`:"Not provided"})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(ll,{size:22,color:"#6366f1"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#64748b",fontWeight:600},children:"PHONE"}),t.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:k.phone||"Not provided"})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx(hN,{size:22,color:"#6366f1"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,color:"#64748b",fontWeight:600},children:"EMAIL"}),t.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:k.email||"Not provided"})]})]})]}),t.jsxs("div",{style:{background:"linear-gradient(90deg, #10b981 0%, #059669 100%)",color:"white",borderRadius:16,padding:"0.75rem 1.5rem",fontWeight:700,fontSize:"1.1rem",marginBottom:18,boxShadow:"0 2px 8px rgba(16,185,129,0.10)",display:"flex",alignItems:"center",gap:10},children:[t.jsx(gl,{size:20,color:"white"}),"Appointment Fully Confirmed"]}),t.jsxs("p",{style:{color:"#334155",fontSize:"1rem",marginBottom:28,textAlign:"center"},children:["Customer has confirmed the appointment and no follow-up is needed. This will update the Salesforce status to ",t.jsx("b",{children:'"Set"'}),"."]}),t.jsxs("button",{className:"action-button",style:{background:"linear-gradient(90deg, #6366f1 0%, #3b82f6 100%)",color:"white",border:"none",borderRadius:12,padding:"1rem 2.5rem",fontWeight:700,fontSize:"1.1rem",boxShadow:"0 2px 8px rgba(59,130,246,0.10)",marginTop:8,marginBottom:0,cursor:"pointer",transition:"all 0.2s"},onClick:()=>{A(!0)},children:[t.jsx(xi,{size:20,style:{marginRight:10,verticalAlign:"middle"}}),"Confirm with Customer"]})]})}),Hl=()=>{const I=()=>{const ge={appointment:{date:v.date,time:v.time,confirmed:T},customerInfo:{name:`${k.firstName} ${k.lastName}`,phone:k.phone,email:k.email,address:`${k.address}, ${k.city}, ${k.state} ${k.zipCode}`,secondaryContact:k.showSecondary?`${k.secondaryName} (${k.relationshipToPrimary}) - ${k.secondaryPhone}`:"N/A"},projectDetails:{type:d,issues:y.issues,currentSetup:y.currentSetup,replacementType:y.replacementType,plumbingSetup:y.plumbingSetup,materialsPurchased:y.materialsPurchased,roofType:y.roofType,activeLeaks:y.activeLeaks,roofReplaced:y.roofReplaced},propertyInfo:C,callType:i,userName:p,timestamp:new Date().toLocaleString()};return JSON.stringify(ge,null,2)},W=()=>{const ge=I(),re=new Blob([ge],{type:"application/json"}),pe=URL.createObjectURL(re),Qe=document.createElement("a");Qe.href=pe,Qe.download=`appointment_${k.firstName}_${k.lastName}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),URL.revokeObjectURL(pe)},se=()=>{const ge=I(),re=JSON.parse(ge);let pe=`APPOINTMENT SUMMARY
===================

CUSTOMER INFORMATION:
Name: ${re.customerInfo.name}
Phone: ${re.customerInfo.phone}
Email: ${re.customerInfo.email}
Address: ${re.customerInfo.address}
Secondary Contact: ${re.customerInfo.secondaryContact}

APPOINTMENT DETAILS:
Date: ${re.appointment.date}
Time: ${re.appointment.time}
Confirmed: ${re.appointment.confirmed?"Yes":"No"}

PROJECT INFORMATION:
Type: ${re.projectDetails.type}
Issues: ${re.projectDetails.issues}
Current Setup: ${re.projectDetails.currentSetup}
Replacement Type: ${re.projectDetails.replacementType}
Plumbing Setup: ${re.projectDetails.plumbingSetup}
Materials Purchased: ${re.projectDetails.materialsPurchased}
Roof Type: ${re.projectDetails.roofType}
Active Leaks: ${re.projectDetails.activeLeaks}
Roof Replaced: ${re.projectDetails.roofReplaced}

PROPERTY INFORMATION:
${Object.entries(re.propertyInfo).map(([at,Pt])=>`${at}: ${Pt}`).join(`
`)}

CALL DETAILS:
Call Type: ${re.callType}
Rep: ${re.userName}
Timestamp: ${re.timestamp}

NOTES FOR SALESFORCE ENTRY:
- Lead Source: Phone Call
- Status: Appointment Scheduled
- Priority: High
- Description: ${re.projectDetails.type} appointment scheduled for ${re.appointment.date} at ${re.appointment.time}
- Next Steps: Follow up with customer before appointment`;const Qe=new Blob([pe],{type:"text/plain"}),tn=URL.createObjectURL(Qe),ot=document.createElement("a");ot.href=tn,ot.download=`appointment_summary_${k.firstName}_${k.lastName}_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(ot),ot.click(),document.body.removeChild(ot),URL.revokeObjectURL(tn)};return t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx("h3",{className:"step-title-dark",children:"Button Up & Confirmation"}),t.jsx("div",{className:"confirmation-container-dark",children:t.jsxs("div",{className:"confirmation-card-dark",children:[t.jsx("h4",{className:"confirmation-title-dark",children:"Final Confirmation Checklist:"}),t.jsx("div",{className:"checklist-items-dark",children:an.map((ge,re)=>t.jsxs(ke.div,{className:`checklist-item-dark ${P.commitmentChecklist.includes(re)?"completed-dark":""}`,onClick:()=>Bn("commitmentChecklist",re),whileHover:{scale:1.02},whileTap:{scale:.98},children:[P.commitmentChecklist.includes(re)?t.jsx(po,{className:"check-icon"}):t.jsx(wi,{className:"check-icon"}),t.jsx("span",{children:ge})]},re))}),t.jsxs("div",{className:"closing-script-dark",children:[t.jsx("h5",{children:"Closing Script:"}),t.jsxs("p",{children:['"Before I finalize everything, could you do a few things for me? Please mention the appointment to any other parties involved, and mark your calendar to avoid rescheduling. Also, do not make any decisions until Long gets a chance to show you our product and how we can offer you peace of mind at a great price. Does that make sense? OK FANTASTIC…. The next point of contact will be the rep at your home on ',v.date," at ",v.time," to do the estimate for you on a total replacement of your ",d,'. Thank you and have a wonderful day!"']})]})]})}),t.jsxs(ke.div,{className:"salesforce-section-dark",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"16px",padding:"2rem",marginTop:"2rem",textAlign:"center"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:600,marginBottom:"1rem"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Salesforce Integration"]}),t.jsx("h4",{style:{color:"#1f2937",fontSize:"1.5rem",fontWeight:700,marginBottom:"0.5rem"},children:"Coming Soon! 🚀"}),t.jsx("p",{style:{color:"#6b7280",fontSize:"1rem",lineHeight:"1.6",marginBottom:"1.5rem"},children:"Direct Salesforce integration is currently under development. In the meantime, you can download the appointment data in a formatted format to manually enter into Salesforce."})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap",marginBottom:"1.5rem"},children:[t.jsxs(ke.button,{onClick:se,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 15V3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Download Formatted Summary"]}),t.jsxs(ke.button,{onClick:W,style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M14 2V8H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 13H8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 17H8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M10 9H9H8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Download JSON Data"]})]}),t.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem",fontStyle:"italic",marginBottom:"1.5rem"},children:'💡 Tip: Use the "Formatted Summary" for easy copy-paste into Salesforce, or "JSON Data" for technical integration.'})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap",marginTop:"2rem"},children:[t.jsxs(ke.button,{className:"complete-button-dark",onClick:()=>{o(0),l(""),u(""),f(""),g({issues:"",currentSetup:"",replacementType:"",plumbingSetup:"",materialsPurchased:"",roofType:"",activeLeaks:"",roofReplaced:""}),w({date:"",time:"",confirmed:!1}),A(!1),L({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"United States",secondaryName:"",secondaryPhone:"",secondaryEmail:"",relationshipToPrimary:"",showSecondary:!1}),O({projectChecklist:[],bathChecklist:[],roofChecklist:[],commitmentChecklist:[]})},style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M3 12L5 10L9 14L21 2L23 4L9 18L3 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Finish & Restart Script"]}),t.jsxs(ke.button,{onClick:()=>Ws(),style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M22 2H2V22H22V2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Try Salesforce Integration"]})]})]})},vt=()=>t.jsxs(ke.div,{className:"script-step-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx("h3",{className:"step-title-dark",children:"Property Search & Verification"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"},children:[t.jsx("p",{style:{fontSize:"1.1rem",fontWeight:500,marginBottom:"0.5rem",color:"#fff"},children:"For best results, use the Basemap tool to visually locate the property first. Then return here to enter the address for search and verification."}),t.jsxs("a",{href:"https://app.basemap.com/?_gl=1*1s9rt3w*_gcl_au*MTg4MTc1NjgwOC4xNzUyNzU4NzU5*_ga*MTE3ODIzOTY4Ni4xNzUyNzU4NzU5*_ga_4XG891YZD4*czE3NTI3NTg3NTkkbzEkZzAkdDE3NTI3NTg3NTkkajYwJGwwJGgw*_ga_8X0CQ17R59*czE3NTI3NTg3NTkkbzEkZzAkdDE3NTI3NTg3NTkkajYwJGwwJGgw",target:"_blank",rel:"noopener noreferrer",className:"basemap-link-dark prominent",style:{display:"inline-flex",alignItems:"center",gap:"12px",background:"linear-gradient(90deg, #3b82f6 0%, #06b6d4 100%)",color:"#fff",textDecoration:"none",fontWeight:700,fontSize:"1.2rem",borderRadius:"8px",padding:"1rem 2rem",margin:"0.5rem 0 0 0",boxShadow:"0 4px 16px rgba(0,0,0,0.18)",transition:"background 0.2s"},onClick:()=>ee(!0),children:[t.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M18 13V19C18 20.1046 17.1046 21 16 21H5C3.89543 21 3 20.1046 3 19V8C3 6.89543 3.89543 6 5 6H11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M15 3H21V9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M10 14L21 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Open Basemap Tool"]}),J&&!ae&&t.jsxs("button",{style:{marginTop:"1rem",padding:"0.5rem 1.5rem",background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",fontWeight:600,fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>ye(!0),children:[t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 13l4 4L19 7",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Mark as Verified from Basemap"]}),J&&t.jsxs("div",{style:{marginTop:"1.5rem",marginBottom:"1rem",textAlign:"center",border:te?"2.5px solid #3b82f6":"1.5px solid #e5e7eb",borderRadius:12,background:"rgba(59,130,246,0.06)",padding:"1.5rem 1rem",maxWidth:400,marginLeft:"auto",marginRight:"auto",boxShadow:"0 2px 12px rgba(59,130,246,0.07)",transition:"border 0.2s"},tabIndex:0,onPaste:I=>{if(I.clipboardData&&I.clipboardData.items)for(let W=0;W<I.clipboardData.items.length;W++){const se=I.clipboardData.items[W];if(se.type.indexOf("image")!==-1){const ge=se.getAsFile(),re=new FileReader;re.onload=pe=>ue(pe.target.result),re.readAsDataURL(ge),I.preventDefault();break}}},onFocus:()=>xe(!0),onBlur:()=>xe(!1),children:[t.jsxs("div",{style:{fontSize:13,color:"#2563eb",marginBottom:6,fontWeight:500},children:["You can ",t.jsx("b",{children:"paste"})," (Ctrl+V) a copied screenshot here!"]}),t.jsx("label",{style:{fontWeight:700,color:"#2563eb",display:"block",marginBottom:14,fontSize:"1.1rem",letterSpacing:.2},children:"Upload Basemap Screenshot (property info)"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,marginBottom:10},children:[t.jsx("input",{id:"basemap-screenshot-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:I=>{const W=I.target.files[0];if(W){const se=new FileReader;se.onload=ge=>ue(ge.target.result),se.readAsDataURL(W)}}}),t.jsx("label",{htmlFor:"basemap-screenshot-upload",style:{background:"linear-gradient(90deg, #3b82f6 0%, #06b6d4 100%)",color:"#fff",padding:"0.5rem 1.2rem",borderRadius:8,fontWeight:600,fontSize:"1rem",cursor:"pointer",boxShadow:"0 1px 4px rgba(59,130,246,0.08)",border:"none",display:"inline-block",transition:"background 0.2s",marginRight:4},children:"Choose Screenshot"}),t.jsx("span",{style:{color:"#555",fontSize:"0.98rem",fontWeight:500,minWidth:120,textAlign:"left",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline-block"},children:H?"Screenshot selected":"No file chosen"}),H&&t.jsx("button",{onClick:()=>ue(null),style:{background:"none",border:"none",color:"#ef4444",fontSize:18,marginLeft:4,cursor:"pointer",padding:0,lineHeight:1},title:"Remove screenshot",children:"×"})]}),H&&t.jsxs("div",{style:{marginTop:16},children:[t.jsx("img",{src:H,alt:"Basemap Screenshot Preview",style:{maxWidth:"100%",maxHeight:320,borderRadius:10,boxShadow:"0 4px 24px rgba(59,130,246,0.13)"}}),t.jsx("div",{style:{fontSize:13,color:"#2563eb",marginTop:6,fontWeight:500},children:"Screenshot attached"}),t.jsx("div",{style:{marginTop:18,background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:8,padding:"1rem",color:"#222",fontSize:"1rem",minHeight:48,maxWidth:420,marginLeft:"auto",marginRight:"auto",boxShadow:"0 1px 4px rgba(59,130,246,0.06)"},children:Y?t.jsx("span",{style:{color:"#3b82f6",fontWeight:500},children:"Extracting text from screenshot..."}):C&&Object.keys(C).length>0?t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem 1.5rem"},children:Object.entries(C).map(([I,W])=>t.jsxs(ts.Fragment,{children:[t.jsxs("div",{style:{fontWeight:600,color:"#2563eb"},children:[I,":"]}),t.jsx("div",{style:{color:"#222",wordBreak:"break-word"},children:W})]},I))}):t.jsx("span",{style:{color:"#888"},children:Ne||"No text extracted yet."})})]})]}),ae&&t.jsxs("div",{style:{marginTop:"1rem",color:"#10b981",fontWeight:600,display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 13l4 4L19 7",stroke:"#10b981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Verified from Basemap"]})]}),t.jsxs("div",{className:"search-form-container-dark",children:[t.jsxs("div",{className:"search-header-dark",style:{cursor:"pointer",userSelect:"none"},onClick:()=>U(I=>!I),children:[t.jsx("div",{className:"search-icon-container-dark",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsxs("div",{className:"search-title-dark",children:[t.jsxs("h4",{style:{display:"inline-block",marginRight:8},children:["Property Address Search",t.jsx("span",{style:{background:"#f59e42",color:"#fff",fontWeight:700,fontSize:"0.75rem",borderRadius:"6px",padding:"2px 8px",marginLeft:8,verticalAlign:"middle",letterSpacing:.5},children:"Beta"})]}),t.jsx("span",{style:{fontSize:18,verticalAlign:"middle",transition:"transform 0.2s",display:"inline-block",transform:$?"rotate(-90deg)":"rotate(0deg)"},children:"▶"}),t.jsx("p",{style:{fontSize:"0.92rem",color:"#aaa",margin:0},children:"Enter the property address to search for detailed information"})]})]}),!$&&t.jsxs("div",{style:{background:"rgba(59,130,246,0.04)",border:"1px solid #e5e7eb",borderRadius:8,padding:"1rem",marginTop:8,marginBottom:8,maxWidth:420,marginLeft:"auto",marginRight:"auto",boxShadow:"0 1px 4px rgba(59,130,246,0.04)"},children:[t.jsxs("div",{className:"search-input-section-dark",children:[t.jsx("label",{className:"input-label-dark",style:{fontWeight:700,fontSize:"1.1rem",marginBottom:8,display:"block",color:"#3b82f6"},children:"Regrid Property Search"}),t.jsx("input",{type:"text",placeholder:"Enter full property address...",className:"modern-input-dark",value:N.address||"",onChange:I=>ie(I.target.value),onFocus:()=>N.suggestions.length>0&&R(I=>({...I,showSuggestions:!0}))}),N.showSuggestions&&N.suggestions.length>0&&t.jsx("div",{className:"suggestions-dropdown-dark",children:N.suggestions.map(I=>t.jsxs("div",{className:"suggestion-item-dark",onClick:()=>me(I),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M17.657 16.657L13.414 20.9C13.039 21.275 12.525 21.485 12 21.485C11.475 21.485 10.961 21.275 10.586 20.9L6.343 16.657C5.22422 15.5381 4.46234 14.1127 4.15369 12.5608C3.84504 11.009 4.00349 9.40047 4.60901 7.93853C5.21452 6.4766 6.2399 5.22425 7.55548 4.34668C8.87107 3.46911 10.4178 3.00024 12 3.00024C13.5822 3.00024 15.1289 3.46911 16.4445 4.34668C17.7601 5.22425 18.7855 6.4766 19.391 7.93853C19.9965 9.40047 20.155 11.009 19.8463 12.5608C19.5377 14.1127 18.7758 15.5381 17.657 16.657Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M15 11C15 12.6569 13.6569 14 12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),I.address]},I.id))}),t.jsxs("div",{className:"search-actions-dark",style:{marginTop:12},children:[t.jsxs(ke.button,{className:"search-button-dark primary",onClick:An,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!N.address,children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Search Property"]}),t.jsxs(ke.button,{className:"search-button-dark secondary",onClick:ps,whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 7L18.132 19.142C18.0579 20.1891 17.187 21.0273 16.148 21.0273H7.852C6.813 21.0273 5.94214 20.1891 5.868 19.142L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Clear"]})]})]}),N.results&&t.jsx("div",{className:"search-results-container-dark"})]})]}),t.jsxs("div",{className:"property-checklist-section-dark",children:[t.jsx("h4",{children:"Property Verification Checklist"}),t.jsx("div",{className:"property-checklist-grid-dark",children:ve.map(I=>t.jsxs(ke.div,{className:`checklist-item-dark ${(I.key==="basemapVerified"?ae:N.checklist[I.key])?"completed-dark":""}`,onClick:()=>{I.key==="basemapVerified"?ye(W=>!W):Wn(I.key)},whileHover:{scale:1.02},whileTap:{scale:.98},style:{cursor:"pointer"},children:[(I.key==="basemapVerified"?ae:N.checklist[I.key])?t.jsx(po,{className:"check-icon"}):t.jsx(wi,{className:"check-icon"}),t.jsx("span",{children:I.label})]},I.key))})]}),t.jsxs("div",{className:"step-navigation-dark",children:[t.jsxs(ke.button,{className:"nav-button-dark back-button-dark",onClick:Ft,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]}),t.jsxs(ke.button,{className:"nav-button-dark next-button-dark",onClick:Ut,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:!Ae,style:{opacity:Ae?1:.5},children:["Next",t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 12H19M12 5L19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),ql=()=>{switch(st[r].id){case"greeting":return ze();case"customerInfo":return We();case"projectType":return qe();case"propertySearch":return vt();case"projectChecklist":return ut();case"projectQuestions":return jn();case"valueProposition":return er();case"commitment":return _s();case"confirmation":return Fo();case"buttonUp":return Hl();default:return ze()}},[yr,Bs]=x.useState({open:!1,duplicates:[],allowSave:!1}),[ms,Gl]=x.useState(!1),Ws=async(I=!1)=>{try{console.log("Sending data to Salesforce...",{forceCreate:I});const W={appointment:v,propertyInfo:C,customerInfo:k,projectType:d,callType:i,userName:p,appointmentConfirmed:T,allowSave:I};console.log("Data being sent:",W);const se="/.netlify/functions/sendToSalesforce";console.log("Using API URL:",se);const ge=await fetch(se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});console.log("Response status:",ge.status),console.log("Response headers:",ge.headers);const re=await ge.text();console.log("Raw response text:",re);const pe=re?JSON.parse(re):{};if(console.log("Parsed result:",pe),ge.ok)console.log("Data sent successfully:",pe),le({type:"success",title:"Success",message:"Data sent to Salesforce successfully."});else if(ge.status===409&&pe.error==="DUPLICATE"){if(console.log("Duplicate detected:",pe),!pe.duplicates||pe.duplicates.length===0)if(console.log("No actual duplicates found, proceeding with creation"),I){console.log("Already forcing creation, proceeding anyway"),le({type:"success",title:"Success",message:"Data sent to Salesforce successfully."});return}else return Ws(!0);if(I){console.log("Force create is true, proceeding with success"),le({type:"success",title:"Success",message:"Data sent to Salesforce successfully."});return}console.log("Checking duplicates array:",pe.duplicates),console.log("Duplicates length:",pe.duplicates?pe.duplicates.length:"undefined"),pe.duplicates&&pe.duplicates.length>0?(console.log("Setting duplicate modal with:",{open:!0,duplicates:pe.duplicates||[],allowSave:pe.allowSave||!1}),Bs({open:!0,duplicates:pe.duplicates||[],allowSave:pe.allowSave||!1})):(console.log("No duplicates to show, proceeding with success message"),le({type:"success",title:"Success",message:"Data sent to Salesforce successfully."}))}else console.error("Error sending data:",pe),le({type:"error",title:"Error",message:"Failed to send data to Salesforce.",details:pe.error||"No error details provided."})}catch(W){console.error("Unexpected error:",W),le({type:"error",title:"Error",message:"An unexpected error occurred.",details:W.message})}};return t.jsxs("div",{className:"schedule-script-container-dark",children:[t.jsxs(ke.div,{className:"schedule-script-header-dark",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:[t.jsxs("div",{className:"header-content",children:[t.jsxs(ke.h1,{className:"schedule-script-title-dark",initial:{scale:.8},animate:{scale:1},transition:{duration:.6,delay:.2},children:[t.jsx(qd,{className:"title-icon"}),"Interactive Scheduling Script"]}),t.jsx(ke.p,{className:"schedule-script-subtitle-dark",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:"Follow the step-by-step script to schedule appointments effectively"})]}),t.jsx(ke.div,{className:"header-navigation-dark",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:t.jsxs("div",{className:"quick-nav-dark",children:[t.jsxs(ke.button,{onClick:()=>e("home"),className:"nav-button-dark home-button-dark",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Home"]}),t.jsxs(ke.button,{onClick:()=>e("rebuttals"),className:"nav-button-dark",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7 9H17M7 13H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Rebuttals"]}),t.jsxs(ke.button,{onClick:()=>e("disposition"),className:"nav-button-dark",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 12H15M12 16H15M9 12H9.01M9 16H9.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M9 3H15V5H9V3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Lead Disposition"]}),t.jsxs(ke.button,{onClick:()=>e("customerService"),className:"nav-button-dark",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 14H8.01M12 14H12.01M16 14H16.01M8 18H8.01M12 18H12.01M16 18H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Customer Service"]}),t.jsxs(ke.button,{onClick:()=>e("faq"),className:"nav-button-dark",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9.09 9C9.3251 8.33167 9.78915 7.76811 10.4 7.40913C11.0108 7.05016 11.7289 6.91894 12.4272 7.03871C13.1255 7.15849 13.7588 7.52152 14.2151 8.06353C14.6713 8.60553 14.9211 9.30197 14.92 10.02C14.92 12 11.92 13 11.92 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 17H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"FAQ"]}),t.jsxs(ke.button,{onClick:Xe,className:"nav-button-dark",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",fontWeight:600},whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Start New Appointment"]})]})})]}),t.jsxs(ke.div,{className:"schedule-script-content-dark",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},children:[t.jsx("div",{className:"script-progress-dark",children:t.jsx("div",{className:"progress-bar-prominent",children:st.map((I,W)=>{let se=qd;return I.type==="greeting"&&(se=ll),I.type==="selection"&&(se=go),I.type==="property"&&(se=go),I.type==="checklist"&&(se=po),I.type==="questions"&&(se=n0),I.type==="presentation"&&(se=qd),I.type==="scheduling"&&(se=Hu),I.type==="confirmation"&&(se=gl),t.jsxs(ke.div,{className:`progress-step-prominent ${W<r?"completed":""} ${W===r?"current":""}`,"aria-label":`Go to step: ${I.title}`,children:[t.jsx("div",{className:"step-icon-wrapper",children:t.jsx(se,{className:"step-icon"})}),t.jsx("span",{className:"step-label-prominent",children:I.title}),W<st.length-1&&t.jsx("span",{className:"step-connector"})]},I.id)})})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:`${ms?"56px":"300px"} 1fr`,gap:"2rem",alignItems:"flex-start"},children:[t.jsx(jv,{collapsed:ms,onCollapseChange:Gl}),t.jsx("div",{className:"script-main-content-dark",children:ql()})]})]}),S&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(8px)",padding:"2rem"},children:t.jsxs(ke.div,{style:{background:"#fff",borderRadius:20,padding:"2rem",maxWidth:1200,width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",position:"relative"},initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,type:"spring"},children:[t.jsx("button",{onClick:()=>b(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"#f1f5f9",border:"none",borderRadius:"50%",width:"2.5rem",height:"2.5rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"1.2rem",color:"#64748b",transition:"all 0.2s"},onMouseEnter:I=>{I.target.style.background="#e2e8f0",I.target.style.color="#475569"},onMouseLeave:I=>{I.target.style.background="#f1f5f9",I.target.style.color="#64748b"},children:"✕"}),t.jsx("h1",{style:{color:"#1e293b",marginBottom:"2rem",textAlign:"center",fontSize:"2rem",fontWeight:700},children:"📋 Appointment Recaps"}),t.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[t.jsxs("div",{style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",borderRadius:16,padding:"2rem",maxWidth:500,minWidth:350,color:"#fff",position:"relative",boxShadow:"0 8px 32px rgba(59,130,246,0.3)"},children:[t.jsx("h2",{style:{color:"#fff",marginBottom:16,fontSize:"1.5rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:"👨‍💼 Rep Recap"}),t.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"1rem",marginBottom:20,lineHeight:"1.5",color:"#e2e8f0"},children:it}),t.jsx("button",{onClick:Ye,style:{background:F?"#10b981":"rgba(255, 255, 255, 0.2)",color:"#fff",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:8,padding:"0.75rem 1.5rem",fontWeight:600,fontSize:"1rem",cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onMouseEnter:I=>{F||(I.target.style.background="rgba(255, 255, 255, 0.3)",I.target.style.transform="scale(1.05)")},onMouseLeave:I=>{F||(I.target.style.background="rgba(255, 255, 255, 0.2)",I.target.style.transform="scale(1)")},children:F?"✅ Copied!":"📋 Copy Rep Recap"})]}),t.jsxs("div",{style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:16,padding:"2rem",maxWidth:450,minWidth:320,color:"#fff",boxShadow:"0 8px 32px rgba(16,185,129,0.3)"},children:[t.jsx("h2",{style:{color:"#fff",marginBottom:16,fontSize:"1.5rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:"👤 Customer Recap"}),t.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"1rem",lineHeight:"1.5",color:"#d1fae5"},children:De}),t.jsx("button",{onClick:et,style:{background:"rgba(255, 255, 255, 0.2)",color:"#fff",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:8,padding:"0.75rem 1.5rem",fontWeight:600,fontSize:"1rem",cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)",marginTop:"1rem"},onMouseEnter:I=>{I.target.style.background="rgba(255, 255, 255, 0.3)",I.target.style.transform="scale(1.05)"},onMouseLeave:I=>{I.target.style.background="rgba(255, 255, 255, 0.2)",I.target.style.transform="scale(1)"},children:"📋 Copy Customer Recap"})]})]})]})}),ne.title&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(8px)"},children:t.jsxs(ke.div,{style:{background:ne.type==="success"?"linear-gradient(135deg, #059669 0%, #10b981 100%)":"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",borderRadius:20,padding:"2rem",maxWidth:500,width:"90%",color:"white",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",textAlign:"center"},initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,type:"spring"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:ne.type==="success"?"✅":"❌"}),t.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:700,marginBottom:"1rem"},children:ne.title}),t.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"1rem",opacity:.9},children:ne.message}),ne.details&&t.jsx("p",{style:{fontSize:"0.9rem",opacity:.8,marginBottom:"1.5rem"},children:ne.details}),t.jsx("button",{onClick:()=>{le({type:"success",title:"",message:"",details:""}),ne.type==="success"&&v.date&&v.time&&(k.firstName||k.lastName)&&b(!0)},style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:12,padding:"0.75rem 2rem",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onMouseEnter:I=>{I.target.style.background="rgba(255, 255, 255, 0.3)",I.target.style.transform="scale(1.05)"},onMouseLeave:I=>{I.target.style.background="rgba(255, 255, 255, 0.2)",I.target.style.transform="scale(1)"},children:ne.type==="success"?"Continue":"Close"})]})}),Se&&t.jsx(ke.div,{style:{position:"fixed",top:"20px",right:"20px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",padding:"1rem 1.5rem",borderRadius:"12px",boxShadow:"0 8px 32px rgba(16,185,129,0.3)",zIndex:1e4,maxWidth:"300px",fontSize:"0.9rem",fontWeight:500},initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.8},transition:{duration:.3,type:"spring"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{children:"💾"}),Q]})}),yr.open&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:t.jsxs(ke.div,{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:24,padding:"2rem",minWidth:480,maxWidth:600,boxShadow:"0 20px 60px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.2)",position:"relative",overflow:"hidden"},initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},transition:{duration:.4,type:"spring"},children:[t.jsx("div",{style:{position:"absolute",top:-20,right:-20,width:100,height:100,background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"50%",opacity:.3}}),t.jsx("div",{style:{position:"absolute",bottom:-30,left:-30,width:80,height:80,background:"linear-gradient(135deg, #dbeafe 0%, #93c5fd 100%)",borderRadius:"50%",opacity:.3}}),t.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",position:"relative",zIndex:1},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.1))"},children:"⚠️"}),t.jsx("h2",{style:{color:"#dc2626",marginBottom:"0.5rem",fontSize:"1.8rem",fontWeight:700,background:"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Duplicate Lead Detected"}),t.jsx("p",{style:{color:"#64748b",fontSize:"1.1rem",fontWeight:500},children:"A similar lead already exists in Salesforce"})]}),yr.duplicates.map((I,W)=>t.jsxs(ke.div,{style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",border:"2px solid #e2e8f0",borderRadius:16,padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",position:"relative",overflow:"hidden"},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:W*.1},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:4,background:"linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%)"}}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.25rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Name"}),t.jsx("div",{style:{color:"#1f2937",fontSize:"1rem",fontWeight:600},children:I.name})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.25rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Phone"}),t.jsx("div",{style:{color:"#1f2937",fontSize:"1rem",fontWeight:500},children:I.phone})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.25rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Email"}),t.jsx("div",{style:{color:"#1f2937",fontSize:"1rem",fontWeight:500},children:I.email})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.25rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Company"}),t.jsx("div",{style:{color:"#1f2937",fontSize:"1rem",fontWeight:500},children:I.company})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.25rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),t.jsx("div",{style:{color:"#1f2937",fontSize:"1rem",fontWeight:500},children:I.status})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.25rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Lead Source"}),t.jsx("div",{style:{color:"#1f2937",fontSize:"1rem",fontWeight:500},children:I.leadSource})]})]}),t.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(59, 130, 246, 0.05)",borderRadius:8,border:"1px solid rgba(59, 130, 246, 0.1)"},children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"📍 Address Information"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Address:"}),t.jsx("div",{style:{color:"#1f2937",fontWeight:500},children:I.address})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"City:"}),t.jsx("div",{style:{color:"#1f2937",fontWeight:500},children:I.city})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"State:"}),t.jsx("div",{style:{color:"#1f2937",fontWeight:500},children:I.state})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"ZIP:"}),t.jsx("div",{style:{color:"#1f2937",fontWeight:500},children:I.zipCode})]})]})]}),t.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(16, 185, 129, 0.05)",borderRadius:8,border:"1px solid rgba(16, 185, 129, 0.1)"},children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"📅 Activity Information"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Last Activity:"}),t.jsx("div",{style:{color:"#1f2937",fontWeight:500},children:I.lastActivity})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Created:"}),t.jsx("div",{style:{color:"#1f2937",fontWeight:500},children:I.createdDate})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Last Modified:"}),t.jsx("div",{style:{color:"#1f2937",fontWeight:500},children:I.lastModifiedDate})]})]})]}),I.description&&I.description!=="N/A"&&t.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(245, 158, 11, 0.05)",borderRadius:8,border:"1px solid rgba(245, 158, 11, 0.1)"},children:[t.jsx("div",{style:{color:"#374151",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"📝 Description"}),t.jsx("div",{style:{color:"#1f2937",fontSize:"0.9rem",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:I.description})]}),t.jsx("div",{style:{marginTop:"1rem",textAlign:"center"},children:t.jsx("a",{href:I.salesforceUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",padding:"0.5rem 1rem",borderRadius:8,background:"rgba(59, 130, 246, 0.1)",transition:"all 0.2s ease",display:"inline-block"},onMouseEnter:se=>{se.target.style.background="rgba(59, 130, 246, 0.2)",se.target.style.transform="scale(1.05)"},onMouseLeave:se=>{se.target.style.background="rgba(59, 130, 246, 0.1)",se.target.style.transform="scale(1)"},children:"🔗 View in Salesforce"})})]},I.id)),t.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[t.jsx(ke.button,{onClick:()=>{const I=yr.duplicates[0]?.salesforceUrl;I&&I!=="https://login.salesforce.com"&&I.startsWith("http")?window.open(I,"_blank"):alert("Unable to open Salesforce record. Please log into Salesforce and search for the lead manually.")},style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:12,padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease"},whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:I=>{I.target.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.4)"},onMouseLeave:I=>{I.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"},children:"👁️ View Existing Lead"}),yr.allowSave&&t.jsx(ke.button,{onClick:()=>{Bs({...yr,open:!1}),Ws(!0)},style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:12,padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transition:"all 0.2s ease"},whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:I=>{I.target.style.boxShadow="0 6px 20px rgba(16, 185, 129, 0.4)"},onMouseLeave:I=>{I.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},children:"➕ Create New Anyway"}),t.jsx(ke.button,{onClick:()=>Bs({open:!1,duplicates:[],allowSave:!1}),style:{background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",color:"#374151",border:"none",borderRadius:12,padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.2s ease"},whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:I=>{I.target.style.background="linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)"},onMouseLeave:I=>{I.target.style.background="linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)"},children:"❌ Cancel"})]})]})})]})},OT="modulepreload",FT=function(e){return"/"+e},ev={},tv=function(r,o,i){let l=Promise.resolve();if(o&&o.length>0){let u=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),f=p?.nonce||p?.getAttribute("nonce");l=u(o.map(y=>{if(y=FT(y),y in ev)return;ev[y]=!0;const g=y.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":OT,g||(w.as="script"),w.crossOrigin="",w.href=y,f&&w.setAttribute("nonce",f),document.head.appendChild(w),g)return new Promise((T,A)=>{w.addEventListener("load",T),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return l.then(u=>{for(const p of u||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})};let To,ah;try{({db:To,auth:ah}=await tv(()=>import("./nodeConfig-CsZWQOIK.js"),__vite__mapDeps([0,1])))}catch{({db:To,auth:ah}=await tv(()=>import("./config-CAOtLZBn.js"),__vite__mapDeps([2,1])))}const zl="rebuttals",$l=()=>{if(typeof window>"u")return{uid:"script-admin"};const e=ah.currentUser;if(!e)throw new Error("User must be authenticated to perform this action");return e},VT=async e=>{try{const r=$l();return(await yn(Me(To,zl),{...e,createdBy:r.uid,createdAt:Ar(),updatedAt:Ar()})).id}catch(r){throw console.error("Error adding rebuttal:",r),r.code==="permission-denied"?new Error("You do not have permission to add rebuttals. Please make sure you are logged in as an admin."):r}},yo=async(e,r)=>{try{const o=$l(),i=Fe(To,zl,e);await sn(i,{...r,updatedBy:o.uid,updatedAt:Ar()})}catch(o){throw console.error("Error updating rebuttal:",o),o.code==="permission-denied"?new Error("You do not have permission to update rebuttals. Please make sure you are logged in as an admin."):o}},nv=async e=>{try{$l();const r=Fe(To,zl,e);await vn(r)}catch(r){throw console.error("Error deleting rebuttal:",r),r.code==="permission-denied"?new Error("You do not have permission to delete rebuttals. Please make sure you are logged in as an admin."):r}},rv=async()=>{try{$l();const e=Ze(Me(To,zl),It("createdAt","desc"));return(await Oe(e)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error("Error getting rebuttals:",e),e.code==="permission-denied"?new Error("You do not have permission to view rebuttals. Please make sure you are logged in."):e}},sv=["Price Concern","Time Constraint","Spouse Decision","Budget Issues","Not Ready","Competitor Comparison","Quality Concerns","Installation Time","Warranty Questions","Financing Options","Custom Design","Material Selection","Maintenance","Rescheduling","Emergency Service"],lh=({rebuttal:e,onSave:r})=>{const[o,i]=x.useState({title:"",summary:"",content:{pt1:"",pt2:""},tags:[],category:"",situationOverview:"",rebuttalStrategy:"",tips:[]}),[l,d]=x.useState(!1),[u,p]=x.useState(""),[f,y]=x.useState(""),[g,v]=x.useState(""),[w,T]=x.useState(!1),[A,k]=x.useState([]),[L,P]=x.useState([]),[O,N]=x.useState(!0),R=hr(),{id:$}=aj(),U=!!$||!!e;x.useEffect(()=>{J()},[]),x.useEffect(()=>{if(e&&U){console.log("Populating form with rebuttal data:",e);const V={title:e.title||"",summary:e.summary||"",content:{pt1:typeof e.content=="object"?e.content.pt1||"":e.content||"",pt2:typeof e.content=="object"&&e.content.pt2||""},tags:e.tags||[],category:e.category||"",situationOverview:e.situationOverview||"",rebuttalStrategy:e.rebuttalStrategy||"",tips:e.tips||[]};console.log("Setting form data to:",V),i(V)}},[e,U]);const J=async()=>{try{N(!0);const V=await rs.getAllCategories();P(V)}catch(V){console.error("Error loading categories:",V)}finally{N(!1)}},ee=V=>{const{name:Y,value:q}=V.target;i(C=>({...C,[Y]:q}))},ae=(V,Y)=>{i(q=>({...q,content:{...q.content,[V]:Y}}))},ye=V=>{const Y=V.target.value;if(y(Y),Y.trim()){const q=sv.filter(C=>C.toLowerCase().includes(Y.toLowerCase())&&!o.tags.includes(C));k(q),T(!0)}else k([]),T(!1)},H=V=>{const Y=V||f.trim();Y&&!o.tags.includes(Y)&&(i(q=>({...q,tags:[...q.tags,Y]})),y(""),T(!1),k([]))},ue=V=>{i(Y=>({...Y,tags:Y.tags.filter(q=>q!==V)}))},te=()=>{g.trim()&&!o.tips.includes(g.trim())&&(i(V=>({...V,tips:[...V.tips,g.trim()]})),v(""))},xe=V=>{i(Y=>({...Y,tips:Y.tips.filter(q=>q!==V)}))},Ne=async V=>{V.preventDefault(),p(""),d(!0);try{const Y={...o,updatedAt:new Date().toISOString()};if(U){const q=e?.id||$;await yo(q,Y)}else Y.createdAt=new Date().toISOString(),await VT(Y);r?r():R("/admin/dashboard")}catch(Y){console.error("Error saving rebuttal:",Y),p("Error saving rebuttal")}finally{d(!1)}};return t.jsxs("div",{className:"rebuttal-form-modal",children:[u&&t.jsx("div",{className:"error-message",children:u}),t.jsxs("form",{onSubmit:Ne,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"title",children:"Title"}),t.jsx("input",{type:"text",id:"title",name:"title",value:o.title,onChange:ee,required:!0,placeholder:"Enter rebuttal title"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"category",children:"Category"}),t.jsxs("select",{id:"category",name:"category",value:o.category,onChange:ee,required:!0,disabled:O,className:"category-select",children:[t.jsx("option",{value:"",children:"Select a category"}),L.map(V=>t.jsxs("option",{value:V.name,children:[V.icon," ",V.name]},V.id))]}),O&&t.jsx("div",{className:"loading-indicator",children:"Loading categories..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"summary",children:"Summary"}),t.jsx("textarea",{id:"summary",name:"summary",value:o.summary,onChange:ee,required:!0,rows:"3",placeholder:"Enter a brief summary of the rebuttal"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"situationOverview",children:"Situation Overview"}),t.jsx("textarea",{id:"situationOverview",name:"situationOverview",value:o.situationOverview,onChange:ee,required:!0,rows:"4",placeholder:"Describe the situation or objection being addressed"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"rebuttalStrategy",children:"Rebuttal Strategy"}),t.jsx("textarea",{id:"rebuttalStrategy",name:"rebuttalStrategy",value:o.rebuttalStrategy,onChange:ee,required:!0,rows:"4",placeholder:"Describe the overall strategy for this rebuttal"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"content-pt1",children:"Initial Response (Part 1)"}),t.jsx("textarea",{id:"content-pt1",value:o.content.pt1,onChange:V=>ae("pt1",V.target.value),required:!0,rows:"6",placeholder:"Enter the initial response to the objection..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"content-pt2",children:"Follow-up Response (Part 2)"}),t.jsx("textarea",{id:"content-pt2",value:o.content.pt2,onChange:V=>ae("pt2",V.target.value),rows:"6",placeholder:"Enter the follow-up response if the initial response doesn't work..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tips"}),t.jsxs("div",{className:"tags-input-container",children:[t.jsx("input",{type:"text",value:g,onChange:V=>v(V.target.value),placeholder:"Add a tip (e.g., 'Stay calm and professional')",onKeyPress:V=>{V.key==="Enter"&&(V.preventDefault(),te())}}),t.jsx("button",{type:"button",onClick:te,className:"add-tag-btn",children:"Add Tip"})]}),t.jsx("div",{className:"tags-container",children:o.tips.map((V,Y)=>t.jsxs("span",{className:"tag",children:["💡 ",V,t.jsx("button",{type:"button",onClick:()=>xe(V),className:"remove-tag-btn",children:"×"})]},Y))})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tags"}),t.jsxs("div",{className:"tags-input-container",children:[t.jsxs("div",{className:"tags-input-wrapper",children:[t.jsx("input",{type:"text",value:f,onChange:ye,placeholder:"Add a tag or select from suggestions",className:"tags-input"}),w&&A.length>0&&t.jsx("div",{className:"tags-dropdown",children:A.map((V,Y)=>t.jsx("div",{className:"tag-suggestion",onClick:()=>H(V),children:V},Y))})]}),t.jsx("button",{type:"button",onClick:()=>H(),className:"add-tag-btn",disabled:!f.trim(),children:"Add Tag"})]}),t.jsx("div",{className:"tags-container",children:o.tags.map((V,Y)=>t.jsxs("span",{className:"tag",children:["#",V,t.jsx("button",{type:"button",onClick:()=>ue(V),className:"remove-tag-btn",children:"×"})]},Y))}),t.jsxs("div",{className:"premade-tags",children:[t.jsx("h4",{children:"Common Tags:"}),t.jsx("div",{className:"premade-tags-list",children:sv.map((V,Y)=>t.jsx("button",{type:"button",onClick:()=>H(V),className:"premade-tag",disabled:o.tags.includes(V),children:V},Y))})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:r,className:"cancel-btn",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:l,className:"submit-btn",children:l?"Saving...":U?"Update":"Save"})]})]})]})},_T=()=>{const[e,r]=x.useState([]),[o,i]=x.useState(!0),[l,d]=x.useState(""),[u,p]=x.useState(""),[f,y]=x.useState(""),[g,v]=x.useState("all"),[w,T]=x.useState(!1),[A,k]=x.useState(null),[L,P]=x.useState([]),[O,N]=x.useState(""),[R,$]=x.useState(!1),[U,J]=x.useState([]);hr();const ee=x.useRef(null);x.useEffect(()=>{ae()},[]),x.useEffect(()=>{w&&ee.current&&(ee.current.scrollTop=0)},[w]);const ae=async()=>{try{i(!0);const b=await rv(),F=await ye(b);r(F)}catch(b){console.error("Error loading rebuttals:",b),d("Failed to load rebuttals")}finally{i(!1)}},ye=async(b,F=!0)=>{try{$(!0),J([]);const M=await rs.getAllCategories(),ne={};M.forEach(Q=>{ne[Q.id]=Q.name});let le=!1;const Se=[],be=[];for(const Q of b){const _=Q.category;let Z={...Q};if(_&&_.length===20&&!_.includes(" ")){const oe=ne[_];oe?(await yo(Q.id,{...Q,category:oe}),Z.category=oe,le=!0):be.push(`Could not find category name for UID: ${_} (Rebuttal: ${Q.title})`)}Se.push(Z)}return F&&be.length>0&&(J(be),setTimeout(()=>J([]),1e4)),$(!1),Se}catch(M){return $(!1),console.error("Error checking/fixing category names:",M),b}},H=async()=>{$(!0);const b=await rv(),F=await ye(b,!0);r(F),$(!1)},ue=async b=>{if(window.confirm("Are you sure you want to delete this rebuttal? This action cannot be undone."))try{await nv(b),r(e.filter(F=>F.id!==b))}catch(F){console.error("Error deleting rebuttal:",F),d("Failed to delete rebuttal")}},te=async b=>{try{await yo(b,{archived:!0,archivedAt:new Date().toISOString()}),r(e.map(F=>F.id===b?{...F,archived:!0,archivedAt:new Date().toISOString()}:F))}catch(F){console.error("Error archiving rebuttal:",F),d("Failed to archive rebuttal")}},xe=async b=>{try{await yo(b,{archived:!1,archivedAt:null}),r(e.map(F=>F.id===b?{...F,archived:!1,archivedAt:null}:F))}catch(F){console.error("Error unarchiving rebuttal:",F),d("Failed to unarchive rebuttal")}},Ne=b=>{const F={...b,summary:b.summary||b.objection||"",situationOverview:b.situationOverview||b.summary||b.objection||"",rebuttalStrategy:b.rebuttalStrategy||"",content:b.content?typeof b.content=="object"?b.content:{pt1:b.content,pt2:""}:b.response?typeof b.response=="object"?b.response:{pt1:b.response,pt2:""}:{pt1:"",pt2:""},tips:b.tips||[]};k(F),T(!0)},V=()=>{console.log("handleFormClose called");const b=document.querySelector(".modal-content");b?(b.style.animation="modalSlideOut 0.2s ease-in forwards",setTimeout(()=>{T(!1),k(null),ae()},200)):(T(!1),k(null),ae())},Y=async()=>{if(!(!O||L.length===0))try{O==="delete"?window.confirm(`Are you sure you want to delete ${L.length} rebuttals?`)&&(await Promise.all(L.map(b=>nv(b))),r(e.filter(b=>!L.includes(b.id)))):O==="archive"?(await Promise.all(L.map(b=>yo(b,{archived:!0,archivedAt:new Date().toISOString()}))),r(e.map(b=>L.includes(b.id)?{...b,archived:!0,archivedAt:new Date().toISOString()}:b))):O==="unarchive"&&(await Promise.all(L.map(b=>yo(b,{archived:!1,archivedAt:null}))),r(e.map(b=>L.includes(b.id)?{...b,archived:!1,archivedAt:null}:b))),P([]),N("")}catch(b){console.error("Error performing bulk action:",b),d("Failed to perform bulk action")}},q=()=>{L.length===E.length?P([]):P(E.map(b=>b.id))},C=b=>{P(F=>F.includes(b)?F.filter(M=>M!==b):[...F,b])},E=e.filter(b=>{const F=b.title?.toLowerCase().includes(u.toLowerCase())||b.summary?.toLowerCase().includes(u.toLowerCase())||b.category?.toLowerCase().includes(u.toLowerCase())||b.tags?.some(le=>le.toLowerCase().includes(u.toLowerCase())),M=!f||b.category===f,ne=g==="all"||g==="archived"&&b.archived||g==="active"&&!b.archived;return F&&M&&ne}),S=[...new Set(e.map(b=>b.category).filter(Boolean))];return t.jsxs(t.Fragment,{children:[w&&t.jsx("div",{className:"modal-overlay",onClick:V,children:t.jsxs("div",{className:"modal-content modern-modal",ref:ee,onClick:b=>b.stopPropagation(),children:[t.jsxs("div",{className:"modal-header modern-modal-header",children:[t.jsx("h2",{children:A?"Edit Rebuttal":"Add New Rebuttal"}),t.jsx("button",{onClick:V,className:"modal-close-btn modern-modal-close",children:"×"})]}),t.jsx("div",{className:"modal-body modern-modal-body",children:t.jsx(lh,{rebuttal:A,onSave:V})})]})}),t.jsxs("div",{className:"rebuttal-management",children:[t.jsxs("div",{className:"management-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{children:"Rebuttal Management"}),t.jsx("p",{children:"Manage all rebuttals in the system. Create, edit, archive, and delete rebuttals."})]}),t.jsxs("div",{className:"header-actions",children:[t.jsx("button",{className:"add-rebuttal-btn",onClick:()=>{k(null),T(!0)},children:"➕ Add New Rebuttal"}),t.jsx("button",{className:"fix-categories-btn",onClick:H,disabled:R,style:{marginLeft:"1rem",background:"#f39c12",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1.5rem",fontWeight:600,cursor:R?"not-allowed":"pointer"},children:R?"Fixing...":"Fix Category Names"})]})]}),U.length>0&&t.jsxs("div",{className:"fix-warning-toast",children:[t.jsx("strong",{children:"Warning:"}),t.jsx("ul",{children:U.map((b,F)=>t.jsx("li",{children:b},F))})]}),l&&t.jsxs("div",{className:"error-message",children:[l,t.jsx("button",{onClick:()=>d(""),children:"×"})]}),t.jsxs("div",{className:"filters-section",children:[t.jsx(Os,{value:u,onChange:b=>p(b.target.value),onClear:()=>p(""),placeholder:"Search rebuttals..."}),t.jsxs("div",{className:"filter-controls",children:[t.jsxs("select",{value:f,onChange:b=>y(b.target.value),className:"filter-select",children:[t.jsx("option",{value:"",children:"All Categories"}),S.map(b=>t.jsx("option",{value:b,children:b},b))]}),t.jsxs("select",{value:g,onChange:b=>v(b.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"archived",children:"Archived"})]})]})]}),L.length>0&&t.jsxs("div",{className:"bulk-actions",children:[t.jsxs("div",{className:"bulk-info",children:[L.length," rebuttal(s) selected"]}),t.jsxs("div",{className:"bulk-controls",children:[t.jsxs("select",{value:O,onChange:b=>N(b.target.value),className:"bulk-select",children:[t.jsx("option",{value:"",children:"Select Action"}),t.jsx("option",{value:"archive",children:"Archive Selected"}),t.jsx("option",{value:"unarchive",children:"Unarchive Selected"}),t.jsx("option",{value:"delete",children:"Delete Selected"})]}),t.jsx("button",{onClick:Y,disabled:!O,className:"bulk-action-btn",children:"Apply"})]})]}),t.jsxs("div",{className:"rebuttals-table-container",children:[t.jsx("div",{className:"mobile-rebuttal-cards",children:E.map(b=>t.jsxs("div",{className:`rebuttal-card${b.archived?" archived":""}`,children:[t.jsxs("div",{className:"rebuttal-card-header",children:[t.jsx("div",{className:"rebuttal-card-title",children:b.title}),t.jsx("span",{className:"category-badge",children:b.category})]}),t.jsx("div",{className:"rebuttal-card-summary",children:b.summary}),t.jsxs("div",{className:"rebuttal-card-tags",children:[b.tags?.slice(0,3).map((F,M)=>t.jsxs("span",{className:"tag-badge",children:["#",F]},M)),b.tags?.length>3&&t.jsxs("span",{className:"more-tags",children:["+",b.tags.length-3]})]}),t.jsxs("div",{className:"rebuttal-card-status",children:[t.jsx("span",{className:`status-badge ${b.archived?"archived":"active"}`,children:b.archived?"Archived":"Active"}),t.jsx("span",{className:"date-info",children:new Date(b.createdAt?.toDate?.()||b.createdAt).toLocaleDateString()})]}),t.jsxs("div",{className:"rebuttal-card-actions",children:[t.jsx("button",{onClick:()=>Ne(b),className:"action-btn edit",title:"Edit",children:"✏️"}),b.archived?t.jsx("button",{onClick:()=>xe(b.id),className:"action-btn unarchive",title:"Unarchive",children:"📦"}):t.jsx("button",{onClick:()=>te(b.id),className:"action-btn archive",title:"Archive",children:"📦"}),t.jsx("button",{onClick:()=>ue(b.id),className:"action-btn delete",title:"Delete",children:"🗑️"})]})]},b.id))}),t.jsxs("table",{className:"rebuttals-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:t.jsx("input",{type:"checkbox",checked:L.length===E.length,onChange:q,className:"select-all-checkbox"})}),t.jsx("th",{children:"Title"}),t.jsx("th",{children:"Category"}),t.jsx("th",{children:"Tags"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Created"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:E.map(b=>t.jsxs("tr",{className:b.archived?"archived":"",children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:L.includes(b.id),onChange:()=>C(b.id),className:"rebuttal-checkbox"})}),t.jsx("td",{children:t.jsxs("div",{className:"rebuttal-title",children:[t.jsx("strong",{children:b.title}),t.jsx("p",{className:"rebuttal-summary",children:b.summary})]})}),t.jsx("td",{children:t.jsx("span",{className:"category-badge",children:b.category})}),t.jsx("td",{children:t.jsxs("div",{className:"tags-container",children:[b.tags?.slice(0,3).map((F,M)=>t.jsxs("span",{className:"tag-badge",children:["#",F]},M)),b.tags?.length>3&&t.jsxs("span",{className:"more-tags",children:["+",b.tags.length-3]})]})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${b.archived?"archived":"active"}`,children:b.archived?"Archived":"Active"})}),t.jsx("td",{children:t.jsx("div",{className:"date-info",children:new Date(b.createdAt?.toDate?.()||b.createdAt).toLocaleDateString()})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{onClick:()=>Ne(b),className:"action-btn edit",title:"Edit",children:"✏️"}),b.archived?t.jsx("button",{onClick:()=>xe(b.id),className:"action-btn unarchive",title:"Unarchive",children:"📦"}):t.jsx("button",{onClick:()=>te(b.id),className:"action-btn archive",title:"Archive",children:"📦"}),t.jsx("button",{onClick:()=>ue(b.id),className:"action-btn delete",title:"Delete",children:"🗑️"})]})})]},b.id))})]})]}),t.jsxs("div",{className:"stats-footer",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Total:"}),t.jsx("span",{className:"stat-value",children:e.length})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Active:"}),t.jsx("span",{className:"stat-value",children:e.filter(b=>!b.archived).length})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Archived:"}),t.jsx("span",{className:"stat-value",children:e.filter(b=>b.archived).length})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Categories:"}),t.jsx("span",{className:"stat-value",children:S.length})]})]})]})]})},BT=()=>{const[e,r]=x.useState([]),[o,i]=x.useState(!0),[l,d]=x.useState(null),[u,p]=x.useState(null),[f,y]=x.useState(!1),[g,v]=x.useState(!1),[w,T]=x.useState(!1),[A,k]=x.useState(!1),[L,P]=x.useState(null),[O,N]=x.useState({name:"",icon:"",color:"",isActive:!0,description:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),R=["📊","📈","📉","📋","📝","📌","📍","🔍","🔎","🔐","🔑","🔒","🔓","💼","📁","📂","🗂️","📅","📆","🗓️","⏰","⏱️","⏲️","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🎯","🎨","🎭","🎪","🎟️","🎫","🎬","🎥","📺","📷","📹","🎞️","📽️","🎮","🎲","🧩","🎨","🎭","🎪","🎟️","🎫","🎬","🎥","📺","📷","📹","🎞️","📽️","🎮","🎲","🧩","🎯","🎨","🎪"];x.useEffect(()=>{$()},[]);const $=async()=>{try{i(!0);const ue=(await rs.getAllCategories()).map(te=>({...te,isActive:te.isActive??!0}));r(ue),d(null)}catch(H){console.error("Error loading categories:",H),d("Failed to load categories. Please try again.")}finally{i(!1)}},U=H=>{if(!H)return"N/A";try{if(H.toDate)return H.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});const ue=new Date(H);return isNaN(ue.getTime())?"N/A":ue.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(ue){return console.error("Error formatting date:",ue),"N/A"}},J=async H=>{H.preventDefault();try{const ue={...O,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await rs.addCategory(ue),y(!1),N({name:"",icon:"",color:"",isActive:!0,description:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),$()}catch(ue){console.error("Error adding category:",ue),d("Failed to add category. Please try again.")}},ee=async H=>{H.preventDefault();try{const ue={...u,isActive:u.isActive??!0,updatedAt:new Date().toISOString()};await rs.updateCategory(u.id,ue),v(!1),p(null),$()}catch(ue){console.error("Error updating category:",ue),d("Failed to update category. Please try again.")}},ae=async()=>{try{await rs.deleteCategory(L.id),T(!1),P(null),$()}catch(H){console.error("Error deleting category:",H),d("Failed to delete category. Please try again.")}},ye=H=>{f?N({...O,icon:H}):g&&u&&p({...u,icon:H}),k(!1)};return o?t.jsx("div",{className:"loading",children:"Loading categories..."}):l?t.jsx("div",{className:"error",children:l}):t.jsxs("div",{className:"category-management",children:[t.jsxs("div",{className:"category-header",children:[t.jsx("h2",{children:"Manage Categories"}),t.jsx("button",{className:"add-button",onClick:()=>y(!0),children:"Add New Category"})]}),t.jsx("div",{className:"categories-list redesigned",children:e.map(H=>t.jsxs("div",{className:"category-card redesigned",children:[t.jsxs("div",{className:"category-card-main",children:[t.jsx("div",{className:"category-card-icon",style:{background:H.color?`linear-gradient(135deg, ${H.color}33 0%, #fff 100%)`:"#f3f4f6"},children:t.jsx("span",{className:"icon-emoji",children:H.icon})}),t.jsxs("div",{className:"category-card-info",children:[t.jsx("div",{className:"category-card-title",children:H.name}),H.description&&t.jsx("div",{className:"category-card-desc",children:H.description}),t.jsx("div",{className:"category-card-badges",children:t.jsx("span",{className:`status-badge ${H.isActive?"active":"inactive"}`,children:H.isActive?"Active":"Inactive"})})]})]}),t.jsxs("div",{className:"category-card-meta",children:[t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",role:"img","aria-label":"Created",children:"📅"})," ",t.jsx("span",{className:"meta-label",children:"Created:"})," ",t.jsx("span",{className:"meta-value",children:U(H.createdAt)})]}),H.updatedAt&&t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",role:"img","aria-label":"Updated",children:"🕒"})," ",t.jsx("span",{className:"meta-label",children:"Updated:"})," ",t.jsx("span",{className:"meta-value",children:U(H.updatedAt)})]})]}),t.jsxs("div",{className:"category-card-actions",children:[t.jsxs("button",{className:"action-button edit-button",onClick:()=>{p(H),v(!0)},children:[t.jsx("span",{role:"img","aria-label":"Edit",children:"✏️"})," Edit"]}),t.jsxs("button",{className:"action-button delete-button",onClick:()=>{P(H),T(!0)},children:[t.jsx("span",{role:"img","aria-label":"Delete",children:"🗑️"})," Delete"]})]})]},H.id))}),f&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h2",{children:"Add New Category"}),t.jsxs("form",{onSubmit:J,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Name"}),t.jsx("input",{type:"text",value:O.name,onChange:H=>N({...O,name:H.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:O.description,onChange:H=>N({...O,description:H.target.value}),placeholder:"Enter a description for this category",rows:"3"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Icon"}),t.jsxs("div",{className:"emoji-input-container",children:[t.jsx("input",{type:"text",value:O.icon,onChange:H=>N({...O,icon:H.target.value}),placeholder:"Click to select an emoji",required:!0,readOnly:!0,onClick:()=>k(!0)}),t.jsx("span",{className:"emoji-preview",children:O.icon})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Color"}),t.jsxs("select",{value:O.color,onChange:H=>N({...O,color:H.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select a color"}),t.jsx("option",{value:"red",children:"Red"}),t.jsx("option",{value:"blue",children:"Blue"}),t.jsx("option",{value:"green",children:"Green"}),t.jsx("option",{value:"yellow",children:"Yellow"}),t.jsx("option",{value:"purple",children:"Purple"}),t.jsx("option",{value:"pink",children:"Pink"}),t.jsx("option",{value:"orange",children:"Orange"}),t.jsx("option",{value:"teal",children:"Teal"}),t.jsx("option",{value:"indigo",children:"Indigo"}),t.jsx("option",{value:"cyan",children:"Cyan"}),t.jsx("option",{value:"lime",children:"Lime"}),t.jsx("option",{value:"amber",children:"Amber"}),t.jsx("option",{value:"rose",children:"Rose"})]})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:O.isActive,onChange:H=>N({...O,isActive:H.target.checked})}),"Active Category"]})}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"submit",className:"submit-button",children:"Add Category"}),t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{y(!1),N({name:"",icon:"",color:"",isActive:!0,description:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})},children:"Cancel"})]})]})]})}),g&&u&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h2",{children:"Edit Category"}),t.jsxs("form",{onSubmit:ee,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Name"}),t.jsx("input",{type:"text",value:u.name,onChange:H=>p({...u,name:H.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:u.description,onChange:H=>p({...u,description:H.target.value}),placeholder:"Enter a description for this category",rows:"3"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Icon"}),t.jsxs("div",{className:"emoji-input-container",children:[t.jsx("input",{type:"text",value:u.icon,onChange:H=>p({...u,icon:H.target.value}),placeholder:"Click to select an emoji",required:!0,readOnly:!0,onClick:()=>k(!0)}),t.jsx("span",{className:"emoji-preview",children:u.icon})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Color"}),t.jsxs("select",{value:u.color,onChange:H=>p({...u,color:H.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select a color"}),t.jsx("option",{value:"red",children:"Red"}),t.jsx("option",{value:"blue",children:"Blue"}),t.jsx("option",{value:"green",children:"Green"}),t.jsx("option",{value:"yellow",children:"Yellow"}),t.jsx("option",{value:"purple",children:"Purple"}),t.jsx("option",{value:"pink",children:"Pink"}),t.jsx("option",{value:"orange",children:"Orange"}),t.jsx("option",{value:"teal",children:"Teal"}),t.jsx("option",{value:"indigo",children:"Indigo"}),t.jsx("option",{value:"cyan",children:"Cyan"}),t.jsx("option",{value:"lime",children:"Lime"}),t.jsx("option",{value:"amber",children:"Amber"}),t.jsx("option",{value:"rose",children:"Rose"})]})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:u.isActive,onChange:H=>p({...u,isActive:H.target.checked})}),"Active Category"]})}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"submit",className:"submit-button",children:"Save Changes"}),t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{v(!1),p(null)},children:"Cancel"})]})]})]})}),w&&L&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h2",{children:"Delete Category"}),t.jsxs("p",{children:['Are you sure you want to delete the category "',L.name,'"?']}),t.jsx("p",{className:"warning",children:"This action cannot be undone."}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{className:"delete-button",onClick:ae,children:"Delete"}),t.jsx("button",{className:"cancel-button",onClick:()=>{T(!1),P(null)},children:"Cancel"})]})]})}),A&&t.jsx("div",{className:"modal-overlay emoji-picker-overlay",children:t.jsxs("div",{className:"modal-content emoji-picker-content",children:[t.jsxs("div",{className:"emoji-picker-header",children:[t.jsx("h3",{children:"Select an Emoji"}),t.jsx("button",{className:"close-button",onClick:()=>k(!1),children:"×"})]}),t.jsx("div",{className:"emoji-grid",children:R.map((H,ue)=>t.jsx("button",{className:"emoji-button",onClick:()=>ye(H),children:H},ue))})]})})]})},WT=()=>{const[e,r]=x.useState([]),[o,i]=x.useState(!0),[l,d]=x.useState(null),[u,p]=x.useState(!1),[f,y]=x.useState(null),[g,v]=x.useState(""),[w,T]=x.useState("all"),[A,k]=x.useState([]),[L,P]=x.useState(!1),O=Tl(),[N,R]=x.useState({name:"",description:"",category:"",icon:"📋",nextSteps:"",situations:[""],tips:[""],examples:[""],subcategories:[""],isActive:!0});x.useEffect(()=>{$()},[]);const $=async()=>{try{i(!0);const V=Me(O,"dispositions"),Y=Ze(V,It("name")),C=(await Oe(Y)).docs.map(E=>({id:E.id,...E.data()}));r(C)}catch(V){console.error("Error fetching dispositions:",V),d("Failed to load dispositions")}finally{i(!1)}},U=async V=>{V.preventDefault();try{const Y=Me(O,"dispositions"),q={...N,situations:N.situations.filter(C=>C.trim()),tips:N.tips.filter(C=>C.trim()),examples:N.examples.filter(C=>C.trim()),subcategories:N.subcategories.filter(C=>C.trim())};f?await sn(Fe(O,"dispositions",f.id),q):await yn(Y,q),p(!1),y(null),ye(),$()}catch(Y){console.error("Error saving disposition:",Y),d("Failed to save disposition")}},J=V=>{y(V),R({name:V.name||"",description:V.description||"",category:V.category||"",icon:V.icon||"📋",nextSteps:V.nextSteps||"",situations:V.situations||[""],tips:V.tips||[""],examples:V.examples||[""],subcategories:V.subcategories||[""],isActive:V.isActive===void 0?!0:V.isActive}),p(!0)},ee=async V=>{if(window.confirm("Are you sure you want to delete this disposition?"))try{await vn(Fe(O,"dispositions",V)),$()}catch(Y){console.error("Error deleting disposition:",Y),d("Failed to delete disposition")}},ae=async()=>{if(window.confirm(`Are you sure you want to delete ${A.length} dispositions?`))try{const V=A.map(Y=>vn(Fe(O,"dispositions",Y)));await Promise.all(V),k([]),P(!1),$()}catch(V){console.error("Error bulk deleting dispositions:",V),d("Failed to delete dispositions")}},ye=()=>{R({name:"",description:"",category:"",icon:"📋",nextSteps:"",situations:[""],tips:[""],examples:[""],subcategories:[""],isActive:!0})},H=V=>{R(Y=>({...Y,[V]:[...Y[V],""]}))},ue=(V,Y)=>{R(q=>({...q,[V]:q[V].filter((C,E)=>E!==Y)}))},te=(V,Y,q)=>{R(C=>({...C,[V]:C[V].map((E,S)=>S===Y?q:E)}))},xe=e.filter(V=>{const Y=V.name.toLowerCase().includes(g.toLowerCase())||V.description.toLowerCase().includes(g.toLowerCase()),q=w==="all"||V.category===w;return Y&&q}),Ne=[...new Set(e.map(V=>V.category).filter(Boolean))];return o?t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading dispositions..."})]}):t.jsxs("div",{className:"lead-disposition-management",children:[t.jsxs("div",{className:"management-header",children:[t.jsx("h2",{children:"Lead Disposition Management"}),t.jsxs("div",{className:"header-actions",children:[t.jsx("button",{className:"fix-button",onClick:async()=>{try{const V=Me(O,"dispositions"),q=(await Oe(V)).docs.map(C=>C.data().isActive===void 0?sn(C.ref,{isActive:!0}):Promise.resolve());await Promise.all(q),$(),d("Fixed existing dispositions!"),setTimeout(()=>d(null),3e3)}catch(V){console.error("Error fixing dispositions:",V),d("Failed to fix dispositions")}},children:"🔧 Fix Existing Dispositions"}),t.jsx("button",{className:"add-button",onClick:()=>{y(null),ye(),p(!0)},children:"➕ Add New Disposition"})]})]}),l&&t.jsxs("div",{className:"error-message",children:[l,t.jsx("button",{onClick:()=>d(null),children:"×"})]}),t.jsxs("div",{className:"management-controls",children:[t.jsxs("div",{className:"search-filter",children:[t.jsx("input",{type:"text",placeholder:"Search dispositions...",value:g,onChange:V=>v(V.target.value),className:"search-input"}),t.jsxs("select",{value:w,onChange:V=>T(V.target.value),className:"category-filter",children:[t.jsx("option",{value:"all",children:"All Categories"}),Ne.map(V=>t.jsx("option",{value:V,children:V},V))]})]}),t.jsxs("div",{className:"bulk-actions",children:[t.jsxs("label",{className:"select-all",children:[t.jsx("input",{type:"checkbox",checked:A.length===xe.length&&xe.length>0,onChange:V=>{V.target.checked?k(xe.map(Y=>Y.id)):k([])}}),"Select All"]}),A.length>0&&t.jsx("div",{className:"bulk-action-buttons",children:t.jsxs("button",{className:"bulk-delete-button",onClick:ae,children:["🗑️ Delete Selected (",A.length,")"]})})]})]}),t.jsx("div",{className:"dispositions-grid",children:xe.map(V=>t.jsxs("div",{className:"disposition-card",children:[t.jsxs("div",{className:"card-header",style:{backgroundColor:"#ffffff"},children:[t.jsx("input",{type:"checkbox",checked:A.includes(V.id),onChange:Y=>{Y.target.checked?k(q=>[...q,V.id]):k(q=>q.filter(C=>C!==V.id))},className:"select-checkbox"}),t.jsx("span",{className:"disposition-icon",children:V.icon}),t.jsx("h3",{className:"disposition-name",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"bold"},children:V.name}),t.jsx("span",{className:`status-badge ${V.isActive===void 0||V.isActive?"active":"inactive"}`,children:V.isActive===void 0||V.isActive?"Active":"Inactive"})]}),t.jsxs("div",{className:"card-content",style:{backgroundColor:"#ffffff"},children:[t.jsx("p",{className:"disposition-description",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"500"},children:V.description}),V.category&&t.jsx("span",{className:"disposition-category",children:V.category}),V.nextSteps&&t.jsxs("div",{className:"disposition-details",style:{backgroundColor:"#ffffff",border:"2px solid #000000",color:"#000000 !important",padding:"10px"},children:[t.jsx("h4",{className:"detail-title",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"bold",fontSize:"16px"},children:"Next Steps:"}),t.jsx("p",{className:"detail-text",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"500"},children:V.nextSteps})]}),V.tips&&V.tips.length>0&&t.jsxs("div",{className:"disposition-details",style:{backgroundColor:"#ffffff",border:"3px solid #000000",color:"#000000 !important",padding:"15px",margin:"10px 0"},children:[t.jsx("h4",{className:"detail-title",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"bold",fontSize:"18px",textTransform:"uppercase",marginBottom:"10px",padding:"5px"},children:"Tips & Best Practices:"}),t.jsx("ul",{className:"detail-list",style:{backgroundColor:"#ffffff",margin:"0",padding:"0"},children:V.tips.map((Y,q)=>t.jsx("li",{className:"detail-item",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"600",marginBottom:"8px",fontSize:"14px",listStyle:"disc",paddingLeft:"10px",padding:"3px"},children:Y},q))})]}),V.examples&&V.examples.length>0&&t.jsxs("div",{className:"disposition-details",style:{backgroundColor:"#ffffff",border:"2px solid #000000",color:"#000000 !important",padding:"10px"},children:[t.jsx("h4",{className:"detail-title",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"bold",fontSize:"16px"},children:"Common Examples:"}),t.jsx("ul",{className:"detail-list",style:{backgroundColor:"#ffffff"},children:V.examples.map((Y,q)=>t.jsx("li",{className:"detail-item",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"500",marginBottom:"5px"},children:Y},q))})]}),V.subcategories&&V.subcategories.length>0&&t.jsxs("div",{className:"disposition-details",style:{backgroundColor:"#ffffff",border:"2px solid #000000",color:"#000000 !important",padding:"10px"},children:[t.jsx("h4",{className:"detail-title",style:{color:"#000000 !important",backgroundColor:"#ffffff",fontWeight:"bold",fontSize:"16px"},children:"Subcategories:"}),t.jsx("div",{className:"subcategories-container",style:{backgroundColor:"#ffffff"},children:V.subcategories.map((Y,q)=>t.jsx("span",{className:"subcategory-tag",style:{color:"#000000 !important",backgroundColor:"#f1f5f9",border:"1px solid #000000",fontWeight:"bold"},children:Y},q))})]})]}),t.jsxs("div",{className:"card-actions",children:[t.jsx("button",{className:"edit-button",onClick:()=>J(V),children:"✏️ Edit"}),t.jsx("button",{className:"delete-button",onClick:()=>ee(V.id),children:"🗑️ Delete"})]})]},V.id))}),xe.length===0&&t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No dispositions found. Create your first disposition to get started!"})}),u&&t.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:t.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:f?"Edit Disposition":"Add New Disposition"}),t.jsx("button",{className:"modal-close",onClick:()=>p(!1),children:"×"})]}),t.jsxs("form",{onSubmit:U,className:"disposition-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Name *"}),t.jsx("input",{type:"text",value:N.name,onChange:V=>R(Y=>({...Y,name:V.target.value})),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Icon"}),t.jsx("input",{type:"text",value:N.icon,onChange:V=>R(Y=>({...Y,icon:V.target.value})),placeholder:"📋"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description *"}),t.jsx("textarea",{value:N.description,onChange:V=>R(Y=>({...Y,description:V.target.value})),required:!0,rows:3})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category"}),t.jsx("input",{type:"text",value:N.category,onChange:V=>R(Y=>({...Y,category:V.target.value}))})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:N.isActive?"active":"inactive",onChange:V=>R(Y=>({...Y,isActive:V.target.value==="active"})),children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Next Steps"}),t.jsx("textarea",{value:N.nextSteps,onChange:V=>R(Y=>({...Y,nextSteps:V.target.value})),rows:2})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Situations"}),N.situations.map((V,Y)=>t.jsxs("div",{className:"array-input",children:[t.jsx("input",{type:"text",value:V,onChange:q=>te("situations",Y,q.target.value),placeholder:"When to use this disposition..."}),t.jsx("button",{type:"button",onClick:()=>ue("situations",Y),className:"remove-button",children:"×"})]},Y)),t.jsx("button",{type:"button",onClick:()=>H("situations"),className:"add-array-button",children:"+ Add Situation"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tips & Best Practices"}),N.tips.map((V,Y)=>t.jsxs("div",{className:"array-input",children:[t.jsx("input",{type:"text",value:V,onChange:q=>te("tips",Y,q.target.value),placeholder:"Tip or best practice..."}),t.jsx("button",{type:"button",onClick:()=>ue("tips",Y),className:"remove-button",children:"×"})]},Y)),t.jsx("button",{type:"button",onClick:()=>H("tips"),className:"add-array-button",children:"+ Add Tip"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Examples"}),N.examples.map((V,Y)=>t.jsxs("div",{className:"array-input",children:[t.jsx("input",{type:"text",value:V,onChange:q=>te("examples",Y,q.target.value),placeholder:"Common example..."}),t.jsx("button",{type:"button",onClick:()=>ue("examples",Y),className:"remove-button",children:"×"})]},Y)),t.jsx("button",{type:"button",onClick:()=>H("examples"),className:"add-array-button",children:"+ Add Example"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Subcategories"}),N.subcategories.map((V,Y)=>t.jsxs("div",{className:"array-input",children:[t.jsx("input",{type:"text",value:V,onChange:q=>te("subcategories",Y,q.target.value),placeholder:"Subcategory name..."}),t.jsx("button",{type:"button",onClick:()=>ue("subcategories",Y),className:"remove-button",children:"×"})]},Y)),t.jsx("button",{type:"button",onClick:()=>H("subcategories"),className:"add-array-button",children:"+ Add Subcategory"})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>p(!1),className:"cancel-button",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"save-button",children:[f?"Update":"Create"," Disposition"]})]})]})]})})]})},ul={"Appointment Management":"📅",Scheduling:"⏰",Cancellation:"❌",Confirmation:"✅","Follow-up":"📞",Rescheduling:"🔄",Urgent:"⚠️",General:"💬"},UT=["appointments","scheduling","confirmation","cancellation","followup"],zT=()=>{const[e,r]=x.useState([]),[o,i]=x.useState(!0),[l,d]=x.useState(null),[u,p]=x.useState(!1),[f,y]=x.useState(!1),[g,v]=x.useState(!1),[w,T]=x.useState(null),[A,k]=x.useState(""),[L,P]=x.useState("title"),[O,N]=x.useState(!1),[R,$]=x.useState("all"),[U,J]=x.useState({total:0,urgent:0,categories:{}}),[ee,ae]=x.useState({title:"",description:"",topic:"",category:"",icon:"",steps:[""],tips:[""],keywords:[""],isUrgent:!1});x.useEffect(()=>{ye()},[]),x.useEffect(()=>{const M=e.filter(le=>le.isUrgent).length,ne={};e.forEach(le=>{ne[le.category]=(ne[le.category]||0)+1}),J({total:e.length,urgent:M,categories:ne})},[e]);const ye=async()=>{try{i(!0);const M=await kv();r(M),d(null)}catch(M){d("Failed to load service topics. Please try again."),console.error("Error loading topics:",M)}finally{i(!1)}},H=async()=>{if(window.confirm("Are you sure you want to reset all service topics? This action cannot be undone."))try{i(!0),await cb(),await ye(),d("Service topics have been reset successfully!"),setTimeout(()=>d(null),3e3)}catch(M){d("Failed to reset service topics. Please try again."),console.error("Error resetting topics:",M)}finally{i(!1)}},ue=()=>{ae({title:"",description:"",topic:"",category:"",icon:"",steps:[""],tips:[""],keywords:[""],isUrgent:!1}),p(!0)},te=M=>{T(M),ae({title:M.title,description:M.description,topic:M.topic,category:M.category,icon:M.icon,steps:M.steps||[""],tips:M.tips||[""],keywords:M.keywords||[""],isUrgent:M.isUrgent||!1}),y(!0)},xe=M=>{T(M),v(!0)},Ne=async M=>{M.preventDefault();try{u?await ob(ee):await ib(w.id,ee),await ye(),p(!1),y(!1),d(null)}catch(ne){d("Failed to save service topic. Please try again."),console.error("Error saving topic:",ne)}},V=async()=>{try{await ab(w.id),await ye(),v(!1),d(null)}catch(M){d("Failed to delete service topic. Please try again."),console.error("Error deleting topic:",M)}},Y=M=>{const{name:ne,value:le,type:Se,checked:be}=M.target;ae(Q=>({...Q,[ne]:Se==="checkbox"?be:le}))},q=(M,ne,le)=>{ae(Se=>({...Se,[le]:Se[le].map((be,Q)=>Q===M?ne:be)}))},C=M=>{ae(ne=>({...ne,[M]:[...ne[M],""]}))},E=(M,ne)=>{ae(le=>({...le,[ne]:le[ne].filter((Se,be)=>be!==M)}))},S=M=>{ae(ne=>({...ne,icon:M})),N(!1)},b=e.filter(M=>{const ne=M.title.toLowerCase().includes(A.toLowerCase())||M.description.toLowerCase().includes(A.toLowerCase())||M.category.toLowerCase().includes(A.toLowerCase()),le=R==="all"||M.category===R;return ne&&le}).sort((M,ne)=>{switch(L){case"title":return M.title.localeCompare(ne.title);case"category":return M.category.localeCompare(ne.category);case"urgent":return(ne.isUrgent?1:0)-(M.isUrgent?1:0);default:return 0}}),F=[...new Set(e.map(M=>M.category).filter(Boolean))];return o?t.jsx("div",{className:"customer-service-management",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading customer service topics..."})]})}):t.jsxs("div",{className:"customer-service-management",children:[t.jsxs("div",{className:"management-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h2",{children:"Customer Service Management"}),t.jsx("p",{className:"header-subtitle",children:"Manage support topics, procedures, and customer service guidelines"})]}),t.jsxs("div",{className:"header-actions",children:[t.jsxs("button",{className:"reset-button",onClick:H,children:[t.jsx("span",{className:"button-icon",children:"🔄"}),"Reset Topics"]}),t.jsxs("button",{className:"add-button",onClick:ue,children:[t.jsx("span",{className:"button-icon",children:"➕"}),"Add New Topic"]})]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:"📋"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Total Topics"}),t.jsx("div",{className:"stat-number",children:U.total})]})]}),t.jsxs("div",{className:"stat-card urgent",children:[t.jsx("div",{className:"stat-icon",children:"⚠️"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Urgent Topics"}),t.jsx("div",{className:"stat-number",children:U.urgent})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:"🏷️"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Categories"}),t.jsx("div",{className:"stat-number",children:F.length})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:"📈"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Active"}),t.jsx("div",{className:"stat-number",children:U.total-U.urgent})]})]})]}),l&&t.jsxs("div",{className:"error-message",children:[t.jsx("span",{children:l}),t.jsx("button",{onClick:()=>d(null),children:"×"})]}),t.jsx("div",{className:"management-controls",children:t.jsxs("div",{className:"search-filter",children:[t.jsx(Os,{value:A,onChange:M=>k(M.target.value),onClear:()=>k(""),placeholder:"Search topics..."}),t.jsxs("select",{className:"category-filter",value:R,onChange:M=>$(M.target.value),children:[t.jsx("option",{value:"all",children:"All Categories"}),F.map(M=>t.jsx("option",{value:M,children:M},M))]}),t.jsxs("select",{className:"sort-select",value:L,onChange:M=>P(M.target.value),children:[t.jsx("option",{value:"title",children:"Sort by Title"}),t.jsx("option",{value:"category",children:"Sort by Category"}),t.jsx("option",{value:"urgent",children:"Sort by Urgency"})]})]})}),t.jsx("div",{className:"topics-grid",children:b.map(M=>t.jsxs("div",{className:`topic-card ${M.isUrgent?"urgent":""}`,children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"topic-icon",children:t.jsx("span",{className:"icon",children:M.icon||ul[M.category]||"💬"})}),t.jsxs("div",{className:"card-actions",children:[t.jsx("button",{className:"edit-button",onClick:()=>te(M),title:"Edit topic",children:"✏️"}),t.jsx("button",{className:"delete-button",onClick:()=>xe(M),title:"Delete topic",children:"🗑️"})]})]}),t.jsxs("div",{className:"card-content",children:[t.jsx("h3",{className:"topic-title",children:M.title}),t.jsx("p",{className:"topic-description",children:M.description}),t.jsxs("div",{className:"topic-meta",children:[t.jsxs("span",{className:"category-badge",children:[t.jsx("span",{className:"category-icon",children:ul[M.category]||"💬"}),M.category]}),M.isUrgent&&t.jsx("span",{className:"urgent-badge",children:"Urgent"})]}),t.jsxs("div",{className:"topic-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Steps"}),t.jsx("span",{className:"stat-value",children:M.steps?.length||0})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Tips"}),t.jsx("span",{className:"stat-value",children:M.tips?.length||0})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Keywords"}),t.jsx("span",{className:"stat-value",children:M.keywords?.length||0})]})]})]})]},M.id))}),b.length===0&&t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:"📋"}),t.jsx("h3",{children:"No topics found"}),t.jsx("p",{children:"Create your first customer service topic to get started!"}),t.jsxs("button",{className:"add-button",onClick:ue,children:[t.jsx("span",{className:"button-icon",children:"➕"}),"Add New Topic"]})]}),(u||f)&&t.jsx("div",{className:"modal-overlay",onClick:()=>{p(!1),y(!1)},children:t.jsxs("div",{className:"topic-modal",onClick:M=>M.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:u?"Add New Topic":"Edit Topic"}),t.jsx("button",{className:"close-modal",onClick:()=>{p(!1),y(!1)},children:"×"})]}),t.jsxs("form",{onSubmit:Ne,className:"topic-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Title *"}),t.jsx("input",{type:"text",name:"title",value:ee.title,onChange:Y,required:!0,placeholder:"Enter topic title"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category *"}),t.jsxs("select",{name:"category",value:ee.category,onChange:Y,required:!0,children:[t.jsx("option",{value:"",children:"Select category"}),UT.map(M=>t.jsx("option",{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description *"}),t.jsx("textarea",{name:"description",value:ee.description,onChange:Y,required:!0,rows:3,placeholder:"Describe the topic..."})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Topic"}),t.jsx("input",{type:"text",name:"topic",value:ee.topic,onChange:Y,placeholder:"Enter topic keyword"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Icon"}),t.jsxs("div",{className:"icon-input-container",children:[t.jsx("input",{type:"text",className:"icon-input",value:ee.icon,onChange:Y,name:"icon",onClick:()=>N(!0),placeholder:"Click to select icon",readOnly:!0}),t.jsx("div",{className:"icon-preview",children:ee.icon||ul[ee.category]||"💬"})]}),O&&t.jsx("div",{className:"icon-picker",children:t.jsx("div",{className:"icon-picker-grid",children:Object.values(ul).map((M,ne)=>t.jsx("button",{className:"icon-picker-item",onClick:()=>S(M),children:M},ne))})})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Steps"}),ee.steps.map((M,ne)=>t.jsxs("div",{className:"array-input",children:[t.jsx("input",{type:"text",value:M,onChange:le=>q(ne,le.target.value,"steps"),placeholder:`Step ${ne+1}`}),t.jsx("button",{type:"button",className:"remove-button",onClick:()=>E(ne,"steps"),children:"×"})]},ne)),t.jsx("button",{type:"button",className:"add-array-button",onClick:()=>C("steps"),children:"+ Add Step"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tips & Best Practices"}),ee.tips.map((M,ne)=>t.jsxs("div",{className:"array-input",children:[t.jsx("input",{type:"text",value:M,onChange:le=>q(ne,le.target.value,"tips"),placeholder:`Tip ${ne+1}`}),t.jsx("button",{type:"button",className:"remove-button",onClick:()=>E(ne,"tips"),children:"×"})]},ne)),t.jsx("button",{type:"button",className:"add-array-button",onClick:()=>C("tips"),children:"+ Add Tip"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Keywords"}),ee.keywords.map((M,ne)=>t.jsxs("div",{className:"array-input",children:[t.jsx("input",{type:"text",value:M,onChange:le=>q(ne,le.target.value,"keywords"),placeholder:`Keyword ${ne+1}`}),t.jsx("button",{type:"button",className:"remove-button",onClick:()=>E(ne,"keywords"),children:"×"})]},ne)),t.jsx("button",{type:"button",className:"add-array-button",onClick:()=>C("keywords"),children:"+ Add Keyword"})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"isUrgent",checked:ee.isUrgent,onChange:Y}),t.jsx("span",{className:"checkmark"}),"Mark as Urgent"]})}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{p(!1),y(!1)},children:"Cancel"}),t.jsx("button",{type:"submit",className:"save-button",children:u?"Create Topic":"Save Changes"})]})]})]})}),g&&t.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:t.jsxs("div",{className:"delete-modal",onClick:M=>M.stopPropagation(),children:[t.jsxs("div",{className:"delete-header",children:[t.jsx("div",{className:"warning-icon",children:"⚠️"}),t.jsx("h2",{children:"Delete Topic"})]}),t.jsxs("div",{className:"delete-content",children:[t.jsxs("p",{children:["Are you sure you want to delete ",t.jsxs("strong",{children:['"',w?.title,'"']}),"?"]}),t.jsx("p",{className:"delete-warning",children:"This action cannot be undone."})]}),t.jsxs("div",{className:"delete-actions",children:[t.jsx("button",{className:"cancel-button",onClick:()=>v(!1),children:"Cancel"}),t.jsx("button",{className:"delete-button",onClick:V,children:"Delete Topic"})]})]})})]})},$T=()=>{const[e,r]=x.useState([]),[o,i]=x.useState(!0),[l,d]=x.useState(null),[u,p]=x.useState(!1),[f,y]=x.useState(!1),[g,v]=x.useState(null),[w,T]=x.useState(""),[A,k]=x.useState({question:"",answer:""});x.useEffect(()=>{L()},[]);const L=async()=>{try{i(!0),d(null);const U=await Ci.getAllFAQs();r(U)}catch(U){console.error("Error loading FAQs:",U),d("Failed to load FAQs. Please try again.")}finally{i(!1)}},P=async U=>{U.preventDefault();try{if(!A.question.trim()||!A.answer.trim()){d("Please fill in both question and answer fields.");return}await Ci.addFAQ(A),k({question:"",answer:""}),p(!1),d(null),L()}catch(J){console.error("Error adding FAQ:",J),d("Failed to add FAQ. Please try again.")}},O=async U=>{U.preventDefault();try{if(!g.question.trim()||!g.answer.trim()){d("Please fill in both question and answer fields.");return}await Ci.updateFAQ(g.id,{question:g.question,answer:g.answer}),v(null),y(!1),d(null),L()}catch(J){console.error("Error updating FAQ:",J),d("Failed to update FAQ. Please try again.")}},N=async U=>{if(window.confirm("Are you sure you want to delete this FAQ?"))try{await Ci.deleteFAQ(U),L(),d(null)}catch(J){console.error("Error deleting FAQ:",J),d("Failed to delete FAQ. Please try again.")}},R=U=>{v({...U}),y(!0)},$=e.filter(U=>U.question.toLowerCase().includes(w.toLowerCase())||U.answer.toLowerCase().includes(w.toLowerCase()));return o?t.jsxs("div",{className:"faq-management-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading FAQs..."})]}):t.jsxs("div",{className:"faq-management",children:[t.jsxs("div",{className:"faq-management-header",children:[t.jsx("h2",{children:"FAQ Management"}),t.jsx("div",{className:"faq-actions",children:t.jsxs("button",{className:"add-faq-button",onClick:()=>p(!0),children:[t.jsx("span",{children:"➕"})," Add New FAQ"]})})]}),l&&t.jsxs("div",{className:"error-message",children:[t.jsx("span",{className:"error-icon",children:"⚠️"}),l]}),t.jsxs("div",{className:"faq-search-section",children:[t.jsx(Os,{value:w,onChange:U=>T(U.target.value),onClear:()=>T(""),placeholder:"Search FAQs..."}),t.jsx("div",{className:"search-results",children:w&&t.jsxs("span",{className:"results-count",children:[$.length," result",$.length!==1?"s":""," found"]})})]}),t.jsx("div",{className:"faq-list",children:$.length===0?t.jsx("div",{className:"no-faqs",children:t.jsxs("div",{className:"no-faqs-content",children:[t.jsx("span",{className:"no-faqs-icon",children:"❓"}),t.jsx("h3",{children:"No FAQs found"}),t.jsx("p",{children:w?"No FAQs match your search criteria.":'No FAQs have been added yet. Click "Add New FAQ" to get started.'})]})}):$.map(U=>t.jsxs("div",{className:"faq-item-admin",children:[t.jsxs("div",{className:"faq-content",children:[t.jsx("div",{className:"faq-question-admin",children:t.jsx("h3",{children:U.question})}),t.jsx("div",{className:"faq-answer-admin",children:t.jsx("p",{children:U.answer})}),t.jsxs("div",{className:"faq-meta",children:[t.jsxs("span",{className:"faq-date",children:["Created: ",U.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"]}),U.updatedAt&&U.updatedAt!==U.createdAt&&t.jsxs("span",{className:"faq-updated",children:["Updated: ",U.updatedAt?.toDate?.()?.toLocaleDateString()||"Unknown"]})]})]}),t.jsxs("div",{className:"faq-actions-admin",children:[t.jsx("button",{className:"edit-faq-button",onClick:()=>R(U),title:"Edit FAQ",children:"✏️"}),t.jsx("button",{className:"delete-faq-button",onClick:()=>N(U.id),title:"Delete FAQ",children:"🗑️"})]})]},U.id))}),u&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("button",{className:"modal-close",onClick:()=>{p(!1),k({question:"",answer:""}),d(null)},"aria-label":"Close",children:"×"}),t.jsx("h2",{children:"Add New FAQ"}),t.jsxs("form",{onSubmit:P,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"required",children:"Question"}),t.jsx("input",{type:"text",value:A.question,onChange:U=>k({...A,question:U.target.value}),placeholder:"Enter the question...",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"required",children:"Answer"}),t.jsx("textarea",{value:A.answer,onChange:U=>k({...A,answer:U.target.value}),rows:6,placeholder:"Enter the answer...",required:!0}),t.jsxs("div",{className:"char-count",children:[A.answer.length," characters"]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"submit",className:"submit-button",children:"Add FAQ"}),t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{p(!1),k({question:"",answer:""}),d(null)},children:"Cancel"})]})]})]})}),f&&g&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h2",{children:"Edit FAQ"}),t.jsxs("form",{onSubmit:O,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"required",children:"Question"}),t.jsx("input",{type:"text",value:g.question,onChange:U=>v({...g,question:U.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"required",children:"Answer"}),t.jsx("textarea",{value:g.answer,onChange:U=>v({...g,answer:U.target.value}),rows:6,required:!0}),t.jsxs("div",{className:"char-count",children:[g.answer.length," characters"]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"submit",className:"submit-button",children:"Update FAQ"}),t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>{y(!1),v(null),d(null)},children:"Cancel"})]})]})]})})]})};ch().catch(e=>{console.error("Failed to initialize Firebase:",e)});const Co={async restoreAuthSession(){try{const e=localStorage.getItem("adminUser");if(!e)throw new Error("No stored admin user found");const r=JSON.parse(e);return console.log("🔍 userService: Attempting to restore auth session for:",r.email),r}catch(e){throw console.error("🔍 userService: Error restoring auth session:",e),e}},async createUser(e,r,o="user"){try{if(console.log("createUser called with:",{email:e,role:o}),!tt.currentUser)throw console.log("No current user in auth"),new Error("You must be logged in to create users");console.log("Current user exists:",tt.currentUser.email);const i=tt.currentUser.email,l=r;console.log("Creating user in Firebase Auth...");const u=(await av(tt,e,r)).user;console.log("User created in Firebase Auth:",u.uid),console.log("Creating user document in Firestore...");const p={uid:u.uid,email:u.email,role:o,createdAt:new Date().toISOString(),createdBy:tt.currentUser.uid,lastSignIn:null,isActive:!0,emailVerified:u.emailVerified||!1,displayName:u.displayName||"",updatedAt:new Date().toISOString()};return console.log("User data to be saved:",p),await Tr(Fe(je(),"users",u.uid),p),console.log("User document created in Firestore"),console.log("Signing out newly created user..."),await Mm(tt),console.log("Signing back in as admin..."),await Im(tt,i,l),console.log("Successfully signed back in as admin"),u}catch(i){throw console.error("Error creating user:",i),console.error("Error details:",{code:i.code,message:i.message,stack:i.stack}),i.code==="auth/email-already-in-use"?new Error("This email is already registered"):i.code==="auth/invalid-email"?new Error("Invalid email address"):i.code==="auth/weak-password"?new Error("Password should be at least 6 characters"):i}},async syncUsers(){try{if(!tt.currentUser)throw new Error("You must be logged in to sync users");const e=await Oe(Me(je(),"users")),r=new Set(e.docs.map(i=>i.data().uid)),o=await Oe(Me(je(),"users"));for(const i of o.docs){const l=i.data();r.has(l.uid)||await Tr(i(je(),"users",l.uid),{uid:l.uid,email:l.email,role:"user",createdAt:new Date().toISOString(),lastSignIn:null,isActive:!0,emailVerified:!1})}return!0}catch(e){throw console.error("Error syncing users:",e),e}},async getAllUsers(){try{if(console.log("getAllUsers called, checking current user..."),!tt.currentUser)throw console.log("No current user in auth"),new Error("You must be logged in to view users");console.log("Current user exists:",tt.currentUser.email),console.log("Fetching users from Firestore...");const e=Me(je(),"users");console.log("Created users collection reference");const r=await Oe(e);console.log("Firestore query completed, snapshot size:",r.size);const o=r.docs.map(i=>{const l=i.data();return console.log("Processing user document:",{id:i.id,...l}),{id:i.id,...l,role:l.role||"user",isActive:l.isActive!==void 0?l.isActive:!0,emailVerified:l.emailVerified||!1,lastSignIn:l.lastSignIn||null,createdAt:l.createdAt||new Date().toISOString()}});if(console.log("Processed users:",o),o.length===0){console.log("No users found in Firestore, attempting to sync..."),await this.syncUsers();const l=(await Oe(e)).docs.map(d=>({id:d.id,...d.data(),role:d.data().role||"user",isActive:d.data().isActive!==void 0?d.data().isActive:!0,emailVerified:d.data().emailVerified||!1,lastSignIn:d.data().lastSignIn||null,createdAt:d.data().createdAt||new Date().toISOString()}));return console.log("Users after sync:",l),l}return o}catch(e){throw console.error("Error in getAllUsers:",e),console.error("Error details:",{code:e.code,message:e.message,stack:e.stack}),e.code==="permission-denied"?new Error("You do not have permission to view users"):e.code==="unauthenticated"?new Error("You must be logged in to view users"):e}},async updateUserLastSignIn(e){try{const r=Fe(je(),"users",e);await sn(r,{lastSignIn:new Date().toISOString()})}catch(r){console.error("Error updating last sign-in:",r)}},async updateUserRole(e,r){try{if(console.log("🔍 userService: updateUserRole called with:",{userId:e,newRole:r}),console.log("🔍 userService: auth.currentUser:",tt.currentUser),!tt.currentUser){console.log("🔍 userService: No Firebase Auth user, attempting to restore session...");try{const l=await this.restoreAuthSession();throw console.log("🔍 userService: Restored stored user:",l.email),new Error("Firebase Auth session required. Please log in again.")}catch(l){throw console.log("🔍 userService: Could not restore session:",l.message),new Error("You must be logged in to update user roles")}}console.log("🔍 userService: Current user authenticated, updating role...");const i=Fe(je(),"users",e);await sn(i,{role:r,updatedAt:new Date().toISOString(),updatedBy:tt.currentUser.uid}),console.log("🔍 userService: Role updated successfully")}catch(o){throw console.error("🔍 userService: Error updating user role:",o),console.error("🔍 userService: Error details:",{code:o.code,message:o.message,stack:o.stack}),o.code==="permission-denied"?new Error("You do not have permission to update user roles"):o.code==="not-found"?new Error("User not found"):o.code==="unavailable"?new Error("Service temporarily unavailable. Please try again."):o}},async deleteUser(e){try{if(console.log("🔍 userService: deleteUser called with:",{userId:e}),console.log("🔍 userService: auth.currentUser:",tt.currentUser),!tt.currentUser){console.log("🔍 userService: No Firebase Auth user, attempting to restore session...");try{const o=await this.restoreAuthSession();throw console.log("🔍 userService: Restored stored user:",o.email),new Error("Firebase Auth session required. Please log in again.")}catch(o){throw console.log("🔍 userService: Could not restore session:",o.message),new Error("You must be logged in to delete users")}}console.log("🔍 userService: Current user authenticated, deleting user..."),await vn(Fe(je(),"users",e)),console.log("🔍 userService: User deleted from Firestore successfully"),console.log("User deleted from Firestore. Note: User may still exist in Firebase Auth.")}catch(r){throw console.error("🔍 userService: Error deleting user:",r),console.error("🔍 userService: Error details:",{code:r.code,message:r.message,stack:r.stack}),r.code==="permission-denied"?new Error("You do not have permission to delete users"):r.code==="not-found"?new Error("User not found"):r}},async loginUser(e,r){try{const i=(await Im(tt,e,r)).user,l=Fe(je(),"users",i.uid),d=await Jn(l);let u=!1;if(d.exists()){const p=d.data();u=!p.displayName||p.displayName.trim()==="",await sn(l,{lastSignIn:new Date().toISOString(),emailVerified:i.emailVerified,needsDisplayName:u,updatedAt:new Date().toISOString()})}else{const p={uid:i.uid,email:i.email,role:"user",createdAt:new Date().toISOString(),lastSignIn:new Date().toISOString(),isActive:!0,emailVerified:i.emailVerified,displayName:"",updatedAt:new Date().toISOString(),needsDisplayName:!0};await Tr(l,p),u=!0}return{user:i,needsDisplayName:u}}catch(o){throw console.error("Error logging in:",o),o}},async logoutUser(){try{await Mm(tt)}catch(e){throw console.error("Error logging out:",e),e}},getCurrentUser(){return tt.currentUser},async isCurrentUserAdmin(){try{if(!tt.currentUser)return!1;const e=await Oe(Ze(Me(je(),"users"),Fn("uid","==",tt.currentUser.uid)));return e.empty?!1:e.docs[0].data().role==="admin"}catch(e){return console.error("Error checking admin status:",e),!1}},async updateDisplayName(e,r){try{if(!tt.currentUser)throw new Error("You must be logged in to update display name");const o=Fe(je(),"users",e);await sn(o,{displayName:r,needsDisplayName:!1,updatedAt:new Date().toISOString()}),await x1(tt.currentUser,{displayName:r})}catch(o){throw console.error("Error updating display name:",o),o}}},HT=()=>{const{currentUser:e}=Ll(),[r,o]=x.useState([]),[i,l]=x.useState(!0),[d,u]=x.useState(null),[p,f]=x.useState(!1),[y,g]=x.useState(""),[v,w]=x.useState("all"),[T,A]=x.useState("all"),[k,L]=x.useState({email:"",password:"",confirmPassword:"",role:"user"}),[P,O]=x.useState("");x.useEffect(()=>{console.log("UserManagement mounted, currentUser:",e),e?(console.log("Current user exists, fetching users..."),N()):(console.log("No current user found"),u("You must be logged in to view users"),l(!1))},[e]);const N=async()=>{try{if(console.log("Starting fetchUsers..."),l(!0),u(null),!e){console.log("No current user in fetchUsers"),u("You must be logged in to view users"),l(!1);return}console.log("Calling userService.getAllUsers()...");const te=await Co.getAllUsers();console.log("Fetched users:",te),!te||te.length===0?(console.log("No users found in response"),u("No users found. Try creating a new user.")):(console.log(`Found ${te.length} users`),o(te))}catch(te){console.error("Error in fetchUsers:",te),console.error("Error details:",{code:te.code,message:te.message,stack:te.stack}),te.message.includes("must be logged in")?u("You must be logged in to view users"):te.message.includes("permission-denied")?u("You do not have permission to view users. Please contact your administrator."):u(`Failed to fetch users: ${te.message}`)}finally{l(!1)}},R=async te=>{if(te.preventDefault(),O(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)){O("Please enter a valid email address");return}if(k.password!==k.confirmPassword){O("Passwords do not match");return}if(k.password.length<6){O("Password must be at least 6 characters long");return}try{l(!0),await Co.createUser(k.email,k.password,k.role),f(!1),L({email:"",password:"",confirmPassword:"",role:"user"}),await N(),alert("User created successfully! They can now log in with their email and password.")}catch(Ne){console.error("Error adding user:",Ne),Ne.message.includes("must be logged in")?O("You must be logged in to create users"):Ne.message.includes("already registered")?O("This email is already registered"):Ne.message.includes("Invalid email")?O("Please enter a valid email address"):Ne.message.includes("Password should be")?O("Password must be at least 6 characters long"):Ne.message.includes("permission-denied")?O("You do not have permission to create users"):O(Ne.message||"Failed to create user")}finally{l(!1)}},$=async te=>{if(window.confirm("Are you sure you want to delete this user?"))try{console.log("🔍 UserManagement: Attempting to delete user:",te),console.log("🔍 UserManagement: Current user:",tt.currentUser),console.log("🔍 UserManagement: Stored admin user:",localStorage.getItem("adminUser")),await Co.deleteUser(te),console.log("🔍 UserManagement: User deleted successfully"),N()}catch(xe){console.error("🔍 UserManagement: Error deleting user:",xe),console.error("🔍 UserManagement: Error details:",{code:xe.code,message:xe.message,stack:xe.stack}),xe.message.includes("must be logged in")?alert("You must be logged in to delete users"):xe.message.includes("Firebase Auth session required")?alert("Your session has expired. Please log in again to continue."):xe.message.includes("permission-denied")?alert("You do not have permission to delete users"):xe.message.includes("not found")?alert("User not found. They may have already been deleted."):alert(`Failed to delete user: ${xe.message}`)}},U=async(te,xe)=>{try{console.log("🔍 UserManagement: Attempting to update user role:",{userId:te,newRole:xe}),console.log("🔍 UserManagement: Current user:",tt.currentUser),console.log("🔍 UserManagement: Stored admin user:",localStorage.getItem("adminUser")),await Co.updateUserRole(te,xe),console.log("🔍 UserManagement: User role updated successfully"),N()}catch(Ne){console.error("🔍 UserManagement: Error updating user role:",Ne),console.error("🔍 UserManagement: Error details:",{code:Ne.code,message:Ne.message,stack:Ne.stack}),Ne.message.includes("must be logged in")?alert("You must be logged in to update user roles"):Ne.message.includes("Firebase Auth session required")?alert("Your session has expired. Please log in again to continue."):Ne.message.includes("permission-denied")?alert("You do not have permission to update user roles"):Ne.message.includes("not found")?alert("User not found. They may have been deleted."):Ne.message.includes("unavailable")?alert("Service temporarily unavailable. Please try again."):alert(`Failed to update user role: ${Ne.message}`)}},J=te=>te?new Date(te).toLocaleString():"Never",ee=te=>te.isActive!==!1?t.jsx("span",{className:"status-badge active",children:"Active"}):t.jsx("span",{className:"status-badge inactive",children:"Inactive"}),ae=te=>t.jsx("span",{className:`role-badge ${te.toLowerCase()}`,children:te.charAt(0).toUpperCase()+te.slice(1)}),H=r.filter(te=>{const xe=te.email.toLowerCase().includes(y.toLowerCase()),Ne=v==="all"||te.role===v,V=T==="all"||T==="active"&&te.isActive||T==="inactive"&&!te.isActive;return xe&&Ne&&V}),ue={currentUser:tt.currentUser,storedAdminUser:localStorage.getItem("adminUser"),usersCount:r.length,filteredUsersCount:H.length};return i?t.jsxs("div",{className:"user-management-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading users..."})]}):d?t.jsx("div",{className:"user-management",children:t.jsxs("div",{className:"error-message",children:[t.jsx("div",{className:"error-icon",children:"⚠️"}),t.jsxs("div",{className:"error-content",children:[t.jsx("h3",{children:"Error Loading Users"}),t.jsx("p",{children:d}),t.jsxs("button",{onClick:N,className:"retry-button",children:[t.jsx("span",{children:"🔄"})," Retry"]})]})]})}):t.jsxs("div",{className:"user-management",children:[t.jsxs("div",{style:{backgroundColor:"#f0f8ff",border:"1px solid #007acc",borderRadius:"8px",padding:"15px",marginBottom:"20px",fontSize:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",color:"#007acc"},children:"🔍 Debug Info"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Current User:"})," ",ue.currentUser?`${ue.currentUser.email} (${ue.currentUser.uid})`:"None"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Stored Admin:"})," ",ue.storedAdminUser?"Yes":"No"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Users Count:"})," ",ue.usersCount]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Filtered Users:"})," ",ue.filteredUsersCount]})]}),!ue.currentUser&&ue.storedAdminUser&&t.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px"},children:[t.jsx("strong",{children:"⚠️ Session Issue:"})," You have stored admin data but no active Firebase Auth session.",t.jsx("button",{onClick:()=>window.location.href="/admin/login",style:{marginLeft:"10px",padding:"4px 8px",backgroundColor:"#007acc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Log In Again"})]})]}),t.jsxs("div",{className:"user-management-header",children:[t.jsxs("div",{className:"header-left",children:[t.jsx("h2",{children:"👥 User Management"}),t.jsx("p",{className:"header-subtitle",children:"Manage user accounts and permissions"})]}),t.jsx("div",{className:"header-right",children:t.jsxs("button",{className:"add-button",onClick:()=>f(!0),children:[t.jsx("span",{children:"➕"})," Add New User"]})})]}),t.jsxs("div",{className:"filters-section",children:[t.jsx(Os,{value:y,onChange:te=>g(te.target.value),onClear:()=>g(""),placeholder:"Search users by email..."}),t.jsxs("div",{className:"filter-controls",children:[t.jsxs("select",{value:v,onChange:te=>w(te.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"user",children:"User"})]}),t.jsxs("select",{value:T,onChange:te=>A(te.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsxs("div",{className:"users-stats",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-number",children:r.length}),t.jsx("span",{className:"stat-label",children:"Total Users"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-number",children:r.filter(te=>te.role==="admin").length}),t.jsx("span",{className:"stat-label",children:"Admins"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-number",children:r.filter(te=>te.isActive!==!1).length}),t.jsx("span",{className:"stat-label",children:"Active Users"})]})]}),t.jsx("div",{className:"users-list",children:H.length===0?t.jsx("div",{className:"no-users",children:t.jsxs("div",{className:"no-users-content",children:[t.jsx("div",{className:"no-users-icon",children:"👤"}),t.jsx("h3",{children:"No Users Found"}),t.jsx("p",{children:y||v!=="all"||T!=="all"?"Try adjusting your search or filters.":"Get started by creating your first user account."}),!y&&v==="all"&&T==="all"&&t.jsxs("button",{className:"add-button",onClick:()=>f(!0),children:[t.jsx("span",{children:"➕"})," Create First User"]})]})}):t.jsx("div",{className:"users-grid",children:H.map(te=>t.jsxs("div",{className:"user-card redesigned",children:[t.jsxs("div",{className:"user-card-main",children:[t.jsx("div",{className:"user-avatar big",children:te.email.charAt(0).toUpperCase()}),t.jsxs("div",{className:"user-main-info",children:[t.jsx("div",{className:"user-email redesigned",children:te.email}),t.jsxs("div",{className:"user-badges redesigned",children:[ee(te),ae(te.role||"user")]})]}),t.jsxs("div",{className:"user-actions redesigned",children:[t.jsxs("button",{className:"action-button edit",onClick:()=>U(te.id||te.uid,te.role==="admin"?"user":"admin"),title:te.role==="admin"?"Remove Admin":"Make Admin",children:[te.role==="admin"?t.jsx("span",{role:"img","aria-label":"Remove Admin",children:"👑"}):t.jsx("span",{role:"img","aria-label":"Make Admin",children:"👤"}),te.role==="admin"?"Remove Admin":"Make Admin"]}),te.email!=="longhome@"&&t.jsxs("button",{className:"action-button delete",onClick:()=>$(te.id||te.uid),title:"Delete User",children:[t.jsx("span",{role:"img","aria-label":"Delete",children:"🗑️"})," Delete"]})]})]}),t.jsx("div",{className:"user-card-divider"}),t.jsxs("div",{className:"user-card-meta",children:[t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",role:"img","aria-label":"Created",children:"📅"}),t.jsx("span",{className:"meta-label",children:"Created:"}),t.jsx("span",{className:"meta-value",children:J(te.createdAt)})]}),t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",role:"img","aria-label":"Last Sign In",children:"🕒"}),t.jsx("span",{className:"meta-label",children:"Last Sign In:"}),t.jsx("span",{className:"meta-value",children:J(te.lastSignIn)})]})]})]},te.id||te.uid))})}),p&&t.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:t.jsxs("div",{className:"modal-content",onClick:te=>te.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"➕ Add New User"}),t.jsx("button",{className:"modal-close",onClick:()=>f(!1),children:"✕"})]}),P&&t.jsxs("div",{className:"error-message",children:[t.jsx("span",{children:"⚠️"})," ",P]}),t.jsxs("form",{onSubmit:R,className:"add-user-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"📧 Email Address"}),t.jsx("input",{type:"email",id:"email",value:k.email,onChange:te=>L({...k,email:te.target.value}),placeholder:"Enter user's email address",required:!0})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:"🔒 Password"}),t.jsx("input",{type:"password",id:"password",value:k.password,onChange:te=>L({...k,password:te.target.value}),placeholder:"Enter password",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"🔒 Confirm Password"}),t.jsx("input",{type:"password",id:"confirmPassword",value:k.confirmPassword,onChange:te=>L({...k,confirmPassword:te.target.value}),placeholder:"Confirm password",required:!0})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"role",children:"👤 Role"}),t.jsxs("select",{id:"role",value:k.role,onChange:te=>L({...k,role:te.target.value}),children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>f(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"create-button",disabled:i,children:i?"🔄 Creating...":"✅ Create User"})]})]})]})})]})},qT=()=>{const[e,r]=x.useState({totalRebuttals:0,totalCategories:0,totalDispositions:0,totalUsers:0,recentActivity:[],topCategories:[],systemHealth:"Good"}),[o,i]=x.useState(!0);x.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const u=Tl(),p=await Oe(Me(u,"rebuttals")),f=await Oe(Me(u,"categories")),y=await Oe(Me(u,"dispositions")),g=await Oe(Me(u,"users")),v=Ze(Me(u,"rebuttals"),It("createdAt","desc"),w1(5)),T=(await Oe(v)).docs.map(L=>({id:L.id,...L.data(),type:"rebuttal"})),A={};p.docs.forEach(L=>{const P=L.data().category;P&&(A[P]=(A[P]||0)+1)});const k=Object.entries(A).map(([L,P])=>({name:L,count:P})).sort((L,P)=>P.count-L.count).slice(0,5);r({totalRebuttals:p.size,totalCategories:f.size,totalDispositions:y.size,totalUsers:g.size,recentActivity:T,topCategories:k,systemHealth:"Good"})}catch(u){console.error("Error fetching dashboard data:",u),r(p=>({...p,systemHealth:"Error"}))}finally{i(!1)}},d=u=>u?(u.toDate?u.toDate():new Date(u)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return o?t.jsxs("div",{className:"dashboard-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading dashboard data..."})]}):t.jsxs("div",{className:"dashboard-view",children:[t.jsxs("div",{className:"dashboard-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{children:"Dashboard Overview"}),t.jsx("p",{children:"Welcome to your admin dashboard. Here's what's happening with your system."})]}),t.jsx("div",{className:"header-actions",children:t.jsxs("button",{className:"refresh-btn",onClick:l,children:[t.jsx("span",{children:"🔄"}),"Refresh"]})})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:"📚"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Total Rebuttals"}),t.jsx("div",{className:"stat-number",children:e.totalRebuttals}),t.jsx("div",{className:"stat-label",children:"Active responses"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:"🏷️"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Categories"}),t.jsx("div",{className:"stat-number",children:e.totalCategories}),t.jsx("div",{className:"stat-label",children:"Organized groups"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:"📋"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Dispositions"}),t.jsx("div",{className:"stat-number",children:e.totalDispositions}),t.jsx("div",{className:"stat-label",children:"Lead outcomes"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:"👥"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Users"}),t.jsx("div",{className:"stat-number",children:e.totalUsers}),t.jsx("div",{className:"stat-label",children:"Registered users"})]})]})]}),t.jsxs("div",{className:"dashboard-grid",children:[t.jsxs("div",{className:"dashboard-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{children:"📈 Recent Activity"}),t.jsx("span",{className:"card-subtitle",children:"Latest rebuttals added"})]}),t.jsx("div",{className:"activity-list",children:e.recentActivity.length>0?e.recentActivity.map((u,p)=>t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:"📝"}),t.jsxs("div",{className:"activity-content",children:[t.jsx("div",{className:"activity-title",children:u.summary||u.objection||"Untitled Rebuttal"}),t.jsxs("div",{className:"activity-meta",children:[t.jsx("span",{className:"activity-category",children:u.category||"Uncategorized"}),t.jsx("span",{className:"activity-date",children:d(u.createdAt)})]})]})]},u.id)):t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:"📝"}),t.jsx("p",{children:"No recent activity"}),t.jsx("span",{children:"New rebuttals will appear here"})]})})]}),t.jsxs("div",{className:"dashboard-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{children:"🏆 Top Categories"}),t.jsx("span",{className:"card-subtitle",children:"Most used categories"})]}),t.jsx("div",{className:"categories-list",children:e.topCategories.length>0?e.topCategories.map((u,p)=>t.jsxs("div",{className:"category-item",children:[t.jsxs("div",{className:"category-rank",children:["#",p+1]}),t.jsxs("div",{className:"category-content",children:[t.jsx("div",{className:"category-name",children:u.name}),t.jsxs("div",{className:"category-count",children:[u.count," rebuttals"]})]}),t.jsx("div",{className:"category-bar",children:t.jsx("div",{className:"category-progress",style:{width:`${u.count/Math.max(...e.topCategories.map(f=>f.count))*100}%`}})})]},u.name)):t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:"🏷️"}),t.jsx("p",{children:"No categories yet"}),t.jsx("span",{children:"Categories will appear here"})]})})]}),t.jsxs("div",{className:"dashboard-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{children:"⚡ System Status"}),t.jsx("span",{className:"card-subtitle",children:"Current system health"})]}),t.jsxs("div",{className:"system-status",children:[t.jsxs("div",{className:`status-indicator ${e.systemHealth.toLowerCase()}`,children:[t.jsx("div",{className:"status-dot"}),t.jsx("span",{className:"status-text",children:e.systemHealth})]}),t.jsxs("div",{className:"status-details",children:[t.jsxs("div",{className:"status-item",children:[t.jsx("span",{className:"status-label",children:"Database"}),t.jsx("span",{className:"status-value",children:"Connected"})]}),t.jsxs("div",{className:"status-item",children:[t.jsx("span",{className:"status-label",children:"Authentication"}),t.jsx("span",{className:"status-value",children:"Active"})]}),t.jsxs("div",{className:"status-item",children:[t.jsx("span",{className:"status-label",children:"Storage"}),t.jsx("span",{className:"status-value",children:"Healthy"})]})]})]})]}),t.jsxs("div",{className:"dashboard-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{children:"🚀 Quick Actions"}),t.jsx("span",{className:"card-subtitle",children:"Common admin tasks"})]}),t.jsxs("div",{className:"quick-actions",children:[t.jsxs("button",{className:"action-btn primary",children:[t.jsx("span",{className:"action-icon",children:"➕"}),t.jsxs("div",{className:"action-content",children:[t.jsx("strong",{children:"Add Rebuttal"}),t.jsx("span",{children:"Create new response"})]})]}),t.jsxs("button",{className:"action-btn secondary",children:[t.jsx("span",{className:"action-icon",children:"🏷️"}),t.jsxs("div",{className:"action-content",children:[t.jsx("strong",{children:"Manage Categories"}),t.jsx("span",{children:"Organize content"})]})]}),t.jsxs("button",{className:"action-btn tertiary",children:[t.jsx("span",{className:"action-icon",children:"📊"}),t.jsxs("div",{className:"action-content",children:[t.jsx("strong",{children:"View Analytics"}),t.jsx("span",{children:"Performance data"})]})]}),t.jsxs("button",{className:"action-btn quaternary",children:[t.jsx("span",{className:"action-icon",children:"⚙️"}),t.jsxs("div",{className:"action-content",children:[t.jsx("strong",{children:"Settings"}),t.jsx("span",{children:"Configure system"})]})]})]})]})]})]})},ov=[{id:"weekday-morning",time:"10:00 AM",label:"Morning",available:!0,dayType:"weekday"},{id:"weekday-afternoon",time:"2:00 PM",label:"Afternoon",available:!0,dayType:"weekday"},{id:"weekday-evening",time:"6:00 PM",label:"Evening",available:!0,dayType:"weekday"},{id:"weekend-morning",time:"10:00 AM",label:"Morning",available:!0,dayType:"weekend"},{id:"weekend-afternoon",time:"2:00 PM",label:"Afternoon",available:!0,dayType:"weekend"}],iv=[{id:"mida",name:"MIDA",reps:["John Smith","Sarah Johnson"],color:"#3b82f6"},{id:"esde",name:"ESDE",reps:["Mike Davis","Lisa Wilson"],color:"#10b981"},{id:"nova",name:"NOVA",reps:["David Brown","Emma Taylor"],color:"#f59e0b"},{id:"neng",name:"NENG",reps:["Alex Rodriguez","Maria Garcia"],color:"#ef4444"},{id:"nhme",name:"NHME",reps:["Jennifer Lee","Robert Wilson"],color:"#8b5cf6"},{id:"ctwm",name:"CTWM",reps:["Michael Chen","Amanda Johnson"],color:"#06b6d4"},{id:"sopa",name:"SOPA",reps:["Christopher Davis","Rachel Green"],color:"#f97316"},{id:"wcfl",name:"WCFL",reps:["Daniel Martinez","Jessica Taylor"],color:"#ec4899"}],GT=async()=>{try{console.log("Initializing scheduling data...");const e=await Il(),r=await Xh();if(e.length===0){console.log("Adding default time blocks...");for(const i of ov)await a0(i)}if(r.length===0){console.log("Adding default regions...");for(const i of iv)await l0(i)}const o=new Date;for(let i=0;i<21;i++){const l=new Date(o);l.setDate(o.getDate()+i);const d=l.toISOString().split("T")[0],p=l.getDay()===0||l.getDay()===6?"weekend":"weekday",f={date:d,dayType:p,slots:{}},y=ov.filter(g=>g.dayType===p);for(const g of y){f.slots[g.id]={};for(const v of iv)f.slots[g.id][v.id]={available:!0,booked:0,capacity:3}}await c0(d,f)}console.log("Scheduling data initialized successfully!")}catch(e){console.error("Error initializing scheduling data:",e)}},YT=async()=>{try{console.log("🔧 Fixing availability data to match current time blocks...");const e=await Il(),r=await Xh();console.log("📅 Current time blocks:",e),console.log("🏢 Current regions:",r);const o={morning:"weekend-morning","late-morning":"weekend-morning","early-afternoon":"weekend-afternoon","late-afternoon":"weekend-afternoon",evening:"weekday-evening"},i=new Date;for(let l=0;l<30;l++){const d=new Date(i);d.setDate(i.getDate()+l);const u=d.toISOString().split("T")[0],f=d.getDay()===0||d.getDay()===6?"weekend":"weekday",y=await Nl(u);if(y&&y.slots){console.log(`🔄 Fixing availability for ${u} (${f})`);const g={date:u,dayType:f,slots:{}},v=e.filter(w=>w.dayType===f);for(const w of v){g.slots[w.id]={};for(const T of r){let A=null;Object.keys(y.slots).forEach(k=>{o[k]===w.id&&y.slots[k]?.[T.id]&&(A=y.slots[k][T.id])}),g.slots[w.id][T.id]=A||{available:!0,booked:0,capacity:3}}}await c0(u,g),console.log(`✅ Fixed availability for ${u}`)}}console.log("🎉 Availability data fix completed!")}catch(e){console.error("❌ Error fixing availability data:",e)}},QT=()=>{const[e,r]=x.useState({weekdays:[],weekends:[]}),[o,i]=x.useState([]),[l,d]=x.useState({}),[u,p]=x.useState(!0),[f,y]=x.useState(null),[g,v]=x.useState(null),[w,T]=x.useState(null),[A,k]=x.useState(!1),[L,P]=x.useState(!1),[O,N]=x.useState(!1),[R,$]=x.useState(!1),J=(()=>{const C=[],E=new Date;for(let S=0;S<21;S++){const b=new Date(E);b.setDate(E.getDate()+S),C.push(b)}return C})();x.useEffect(()=>{(async()=>{try{p(!0),await GT();const E=await Il(),S=E.filter(M=>M.dayType==="weekday"),b=E.filter(M=>M.dayType==="weekend");r({weekdays:S,weekends:b});const F=await Xh();i(F),p(!1)}catch(E){console.error("Error loading data:",E),p(!1)}})()},[]),x.useEffect(()=>{const C=i0(b=>{const F=b.filter(ne=>ne.dayType==="weekday"),M=b.filter(ne=>ne.dayType==="weekend");r({weekdays:F,weekends:M})}),E=ZN(b=>{i(b)});return(async()=>{const b={};for(const F of J){const M=F.toISOString().split("T")[0],ne=await Nl(M);ne&&(b[M]=ne)}d(b)})(),()=>{C(),E()}},[]);const ee=async(C,E,S,b)=>{try{const F=e[C].find(M=>M.id===E);F&&await QN(E,{...F,[S]:b})}catch(F){console.error("Error updating time block:",F)}},ae=async C=>{try{const E={id:Date.now().toString(),time:"",label:"",available:!0,dayType:C};await a0(E),v(E.id)}catch(E){console.error("Error adding time block:",E)}},ye=async(C,E)=>{try{await KN(E)}catch(S){console.error("Error deleting time block:",S)}},H=async(C,E,S)=>{try{const b=o.find(F=>F.id===C);b&&await JN(C,{...b,[E]:S})}catch(b){console.error("Error updating region:",b)}},ue=async()=>{try{const C={id:Date.now().toString(),name:"New Region",reps:[],color:"#3b82f6"};await l0(C),T(C.id)}catch(C){console.error("Error adding region:",C)}},te=async C=>{try{await XN(C)}catch(E){console.error("Error deleting region:",E)}},xe=async()=>{try{N(!0),await YT(),alert("Availability data has been fixed to match current time blocks!")}catch(C){console.error("Error fixing availability data:",C),alert("Error fixing availability data. Check console for details.")}finally{N(!1)}},Ne=async(C,E,S,b)=>{try{const F=C.toISOString().split("T")[0],M=await Nl(F)||{},ne={...M,slots:{...M.slots,[E]:{...M.slots?.[E],[S]:{available:b,booked:M.slots?.[E]?.[S]?.booked||0,capacity:M.slots?.[E]?.[S]?.capacity||3}}}};await d(F,ne)}catch(F){console.error("Error updating availability:",F)}},V=C=>C.getDay()===0||C.getDay()===6,Y=C=>V(C)?e.weekends:e.weekdays;if(u)return t.jsx("div",{className:"time-block-management",children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"50vh",gap:"1rem"},children:[t.jsx("div",{style:{fontSize:"1.2rem",fontWeight:600},children:"Loading Time Block Management..."}),t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}})]})});const q=C=>C.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return t.jsxs("div",{className:"time-block-management",children:[t.jsxs(ke.div,{className:"tbm-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[t.jsx("h1",{children:"⏰ Time Block Management"}),t.jsx("p",{children:"Configure appointment time blocks, regional assignments, and availability"}),t.jsx("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"white",fontSize:"0.9rem",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:R,onChange:C=>$(C.target.checked),style:{width:"16px",height:"16px"}}),"🛠️ Development Mode"]})})]}),t.jsxs("div",{className:"tbm-content",children:[!R&&t.jsxs(ke.div,{className:"tbm-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%)",border:"1px solid rgba(59, 130, 246, 0.2)",textAlign:"center",padding:"3rem 2rem"},children:[t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:600,marginBottom:"1rem"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Time Block Management"]}),t.jsx("h2",{style:{color:"#1f2937",fontSize:"2rem",fontWeight:700,marginBottom:"0.5rem"},children:"Coming Soon! 🚀"}),t.jsx("p",{style:{color:"#6b7280",fontSize:"1.1rem",lineHeight:"1.6",marginBottom:"2rem",maxWidth:"600px",margin:"0 auto 2rem auto"},children:"Advanced time block management features are currently under development. Enable Development Mode to access the current functionality and help us test new features."}),t.jsxs("button",{onClick:()=>$(!0),style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontWeight:600,cursor:"pointer",fontSize:"1rem",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Enable Development Mode"]})]}),t.jsxs(ke.div,{className:"tbm-section",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},style:{display:R?"block":"none"},children:[t.jsxs("div",{className:"section-header",children:[t.jsx(qu,{className:"section-icon"}),t.jsx("h2",{children:"Time Blocks Configuration"}),t.jsx("button",{onClick:xe,disabled:O,style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",borderRadius:8,padding:"0.5rem 1rem",fontSize:"0.875rem",cursor:O?"not-allowed":"pointer",opacity:O?.6:1},children:O?"Fixing...":"🔧 Fix Availability Data"})]}),t.jsxs("div",{className:"time-blocks-grid",children:[t.jsxs("div",{className:"day-type-section",children:[t.jsx("h3",{children:"Weekday Blocks"}),t.jsxs("div",{className:"blocks-list",children:[e.weekdays.map(C=>t.jsx("div",{className:"time-block-item",children:g===C.id?t.jsxs("div",{className:"edit-block-form",children:[t.jsx("input",{type:"time",value:C.time,onChange:E=>ee("weekdays",C.id,"time",E.target.value),className:"time-input"}),t.jsx("input",{type:"text",placeholder:"Label (e.g., Morning)",value:C.label,onChange:E=>ee("weekdays",C.id,"label",E.target.value),className:"label-input"}),t.jsxs("div",{className:"edit-actions",children:[t.jsx("button",{onClick:()=>v(null),className:"save-btn",children:t.jsx(Yd,{size:16})}),t.jsx("button",{onClick:()=>ye("weekdays",C.id),className:"delete-btn",children:t.jsx(Kd,{size:16})})]})]}):t.jsxs("div",{className:"block-display",children:[t.jsx("span",{className:"block-time",children:C.time}),t.jsx("span",{className:"block-label",children:C.label}),t.jsx("button",{onClick:()=>v(C.id),className:"edit-btn",children:t.jsx(Qd,{size:16})})]})},C.id)),t.jsxs("button",{onClick:()=>ae("weekdays"),className:"add-block-btn",children:[t.jsx(Gd,{size:16}),"Add Block"]})]})]}),t.jsxs("div",{className:"day-type-section",children:[t.jsx("h3",{children:"Weekend Blocks"}),t.jsxs("div",{className:"blocks-list",children:[e.weekends.map(C=>t.jsx("div",{className:"time-block-item",children:g===C.id?t.jsxs("div",{className:"edit-block-form",children:[t.jsx("input",{type:"time",value:C.time,onChange:E=>ee("weekends",C.id,"time",E.target.value),className:"time-input"}),t.jsx("input",{type:"text",placeholder:"Label (e.g., Morning)",value:C.label,onChange:E=>ee("weekends",C.id,"label",E.target.value),className:"label-input"}),t.jsxs("div",{className:"edit-actions",children:[t.jsx("button",{onClick:()=>v(null),className:"save-btn",children:t.jsx(Yd,{size:16})}),t.jsx("button",{onClick:()=>ye("weekends",C.id),className:"delete-btn",children:t.jsx(Kd,{size:16})})]})]}):t.jsxs("div",{className:"block-display",children:[t.jsx("span",{className:"block-time",children:C.time}),t.jsx("span",{className:"block-label",children:C.label}),t.jsx("button",{onClick:()=>v(C.id),className:"edit-btn",children:t.jsx(Qd,{size:16})})]})},C.id)),t.jsxs("button",{onClick:()=>ae("weekends"),className:"add-block-btn",children:[t.jsx(Gd,{size:16}),"Add Block"]})]})]})]})]}),t.jsxs(ke.div,{className:"tbm-section",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},style:{display:R?"block":"none"},children:[t.jsxs("div",{className:"section-header",children:[t.jsx(fN,{className:"section-icon"}),t.jsx("h2",{children:"Regional Management"})]}),t.jsxs("div",{className:"regions-grid",children:[(o||[]).filter(C=>C).map(C=>t.jsx("div",{className:"region-card",children:w===C.id?t.jsxs("div",{className:"edit-region-form",children:[t.jsx("input",{type:"text",placeholder:"Region Name",value:C.name,onChange:E=>H(C.id,"name",E.target.value),className:"region-name-input"}),t.jsx("div",{className:"reps-input",children:t.jsx("input",{type:"text",placeholder:"Rep names (comma separated)",value:(C.reps||[]).join(", "),onChange:E=>H(C.id,"reps",E.target.value.split(",").map(S=>S.trim()).filter(S=>S.length>0)),className:"reps-input-field"})}),t.jsxs("div",{className:"edit-actions",children:[t.jsx("button",{onClick:()=>T(null),className:"save-btn",children:t.jsx(Yd,{size:16})}),t.jsx("button",{onClick:()=>te(C.id),className:"delete-btn",children:t.jsx(Kd,{size:16})})]})]}):t.jsxs("div",{className:"region-display",children:[t.jsxs("div",{className:"region-header",children:[t.jsx("div",{className:"region-color",style:{backgroundColor:C.color}}),t.jsx("h3",{children:C.name}),t.jsx("button",{onClick:()=>T(C.id),className:"edit-btn",children:t.jsx(Qd,{size:16})})]}),t.jsxs("div",{className:"region-reps",children:[t.jsx(n0,{size:16}),t.jsxs("span",{children:[(C.reps||[]).length," Reps"]})]}),t.jsx("div",{className:"reps-list",children:(C.reps||[]).map((E,S)=>t.jsx("span",{className:"rep-name",children:E},S))})]})},C.id)),t.jsxs("button",{onClick:ue,className:"add-region-btn",children:[t.jsx(Gd,{size:16}),"Add Region"]})]})]}),t.jsxs(ke.div,{className:"tbm-section",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},style:{display:R?"block":"none"},children:[t.jsxs("div",{className:"section-header",children:[t.jsx(Hu,{className:"section-icon"}),t.jsx("h2",{children:"Availability Calendar (Next 3 Weeks)"})]}),t.jsx("div",{className:"availability-calendar",children:J.map(C=>{const E=C.toISOString().split("T")[0],S=Y(C),b=C<new Date;return t.jsxs("div",{className:`calendar-day ${b?"past":""}`,children:[t.jsxs("div",{className:"day-header",children:[t.jsx("span",{className:"day-date",children:q(C)}),V(C)&&t.jsx("span",{className:"weekend-badge",children:"Weekend"})]}),t.jsx("div",{className:"day-blocks",children:S.map(F=>t.jsxs("div",{className:"availability-block",children:[t.jsxs("div",{className:"block-info",children:[t.jsx("span",{className:"block-time",children:F.time}),t.jsx("span",{className:"block-label",children:F.label})]}),t.jsx("div",{className:"region-availability",children:o.map(M=>{const ne=l[E]?.slots?.[F.id]?.[M.id],le=ne?.available!==!1,Se=ne?.booked||0,be=ne?.capacity||3;return t.jsxs("button",{className:`region-availability-btn ${le?"available":"unavailable"}`,onClick:()=>!b&&Ne(E,F.id,M.id,!le),disabled:b,style:{backgroundColor:le?M.color:"#e5e7eb",opacity:b?.5:1},title:`${M.name}: ${le?"Available":"Unavailable"} (${Se}/${be} booked)`,children:[M.name," (",Se,"/",be,")"]},M.id)})})]},F.id))})]},E)})})]})]})]})},KT=()=>{const{currentUser:e,authLoading:r}=Ll(),o=hr(),[i,l]=x.useState(!0),[d,u]=x.useState(null),[p,f]=x.useState(null),[y,g]=x.useState("dashboard");x.useEffect(()=>{(async()=>{try{if(console.log("🔍 AdminDashboard: Starting auth check..."),console.log("🔍 AdminDashboard: Current user:",e),console.log("🔍 AdminDashboard: Auth loading:",r),r){console.log("🔍 AdminDashboard: Auth is still loading...");return}if(!e){console.log("🔍 AdminDashboard: No current user, redirecting to login"),o("/admin/login");return}const A=localStorage.getItem("adminUser");if(A){const k=JSON.parse(A);console.log("🔍 AdminDashboard: Found admin user in localStorage:",k),f(k),l(!1)}else{console.log("🔍 AdminDashboard: No admin user in localStorage, checking Firestore...");const k=Fe(Tl(),"admins",e.uid),L=await Jn(k);if(L.exists()){const P=L.data();console.log("🔍 AdminDashboard: Found admin in Firestore:",P),f({...e,...P}),localStorage.setItem("adminUser",JSON.stringify({...e,...P})),l(!1)}else{console.log("🔍 AdminDashboard: User is not admin, redirecting to login"),o("/admin/login");return}}console.log("🔍 AdminDashboard: Auth check completed successfully")}catch(A){console.error("🔍 AdminDashboard: Auth check error:",A),u("Authentication error: "+A.message),l(!1)}})()},[e,r,o]);const v=()=>{localStorage.removeItem("adminUser"),o("/admin/login")},w=()=>{switch(y){case"dashboard":return t.jsx(qT,{});case"rebuttals":return t.jsx(_T,{});case"categories":return t.jsx(BT,{});case"dispositions":return t.jsx(WT,{});case"customer-service":return t.jsx(zT,{});case"faq":return t.jsx($T,{});case"users":return t.jsx(HT,{});case"time-blocks":return t.jsx(QT,{});default:return null}};return i?t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[t.jsx("div",{style:{fontSize:"1.2rem",fontWeight:600},children:"Loading Admin Dashboard..."}),t.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Please wait while we initialize your admin panel"}),t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}})]}):d?t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[t.jsx("h2",{children:"Error"}),t.jsx("p",{children:d}),t.jsx("button",{onClick:()=>window.location.reload(),children:"Retry"})]}):p?t.jsxs("div",{className:"admin-dashboard",children:[t.jsxs("header",{className:"admin-header",children:[t.jsx("h1",{children:"Admin Dashboard"}),t.jsxs("div",{className:"admin-actions",children:[t.jsxs("span",{children:["Welcome, ",p.email]}),t.jsx("button",{className:"admin-header-button",onClick:()=>o("/"),children:"Main Page"}),t.jsx("button",{className:"admin-header-button",onClick:v,children:"Logout"})]})]}),t.jsxs("nav",{className:"admin-nav",children:[t.jsxs("button",{className:`nav-tab${y==="dashboard"?" active":""}`,onClick:()=>g("dashboard"),children:[t.jsx("span",{role:"img","aria-label":"Dashboard",children:"🏠"})," Dashboard"]}),t.jsxs("button",{className:`nav-tab${y==="rebuttals"?" active":""}`,onClick:()=>g("rebuttals"),children:[t.jsx("span",{role:"img","aria-label":"Rebuttals",children:"📝"})," Rebuttals"]}),t.jsxs("button",{className:`nav-tab${y==="categories"?" active":""}`,onClick:()=>g("categories"),children:[t.jsx("span",{role:"img","aria-label":"Categories",children:"🏷️"})," Categories"]}),t.jsxs("button",{className:`nav-tab${y==="dispositions"?" active":""}`,onClick:()=>g("dispositions"),children:[t.jsx("span",{role:"img","aria-label":"Dispositions",children:"📋"})," Dispositions"]}),t.jsxs("button",{className:`nav-tab${y==="customer-service"?" active":""}`,onClick:()=>g("customer-service"),children:[t.jsx("span",{role:"img","aria-label":"Customer Service",children:"👥"})," Customer Service"]}),t.jsxs("button",{className:`nav-tab${y==="faq"?" active":""}`,onClick:()=>g("faq"),children:[t.jsx("span",{role:"img","aria-label":"FAQ",children:"❓"})," FAQ"]}),t.jsxs("button",{className:`nav-tab${y==="users"?" active":""}`,onClick:()=>g("users"),children:[t.jsx("span",{role:"img","aria-label":"Users",children:"👤"})," Users"]}),t.jsxs("button",{className:`nav-tab${y==="time-blocks"?" active":""}`,onClick:()=>g("time-blocks"),children:[t.jsx("span",{role:"img","aria-label":"Time Blocks",children:"⏰"})," Time Blocks"]})]}),t.jsx("main",{className:"admin-content",children:w()})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[t.jsx("h2",{children:"Access Denied"}),t.jsx("p",{children:"You don't have permission to access the admin dashboard."}),t.jsx("button",{onClick:()=>o("/admin/login"),children:"Go to Login"})]})},ZT=()=>{const e=hr(),{currentUser:r,loading:o}=Ll(),[i,l]=x.useState("initializing");x.useEffect(()=>{if(console.log("🔍 AdminDashboardTest: Component mounted"),console.log("🔍 AdminDashboardTest: currentUser:",r),console.log("🔍 AdminDashboardTest: authLoading:",o),o){l("auth-loading");return}if(!r){l("no-user");return}localStorage.getItem("adminUser")?(console.log("🔍 AdminDashboardTest: Found admin user in localStorage"),l("admin-found")):(console.log("🔍 AdminDashboardTest: No admin user found"),l("not-admin"))},[r,o]);const d=()=>{e("/admin/login")},u=()=>{window.location.reload()},p=()=>{switch(i){case"initializing":return t.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[t.jsx("h2",{children:"Initializing..."}),t.jsx("p",{children:"Setting up test environment"})]});case"auth-loading":return t.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[t.jsx("h2",{children:"Authentication Loading"}),t.jsx("p",{children:"Please wait while we check your authentication status..."}),t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"20px auto"}})]});case"no-user":return t.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[t.jsx("h2",{children:"No User Found"}),t.jsx("p",{children:"You need to be logged in to access the admin dashboard."}),t.jsx("button",{onClick:d,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},children:"Go to Login"})]});case"admin-found":return t.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[t.jsx("h2",{children:"Admin Access Confirmed"}),t.jsx("p",{children:"You are logged in as an admin. The dashboard should work properly."}),t.jsxs("div",{style:{backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px",padding:"15px",margin:"20px 0",color:"#155724"},children:[t.jsx("strong",{children:"Status:"})," Ready to load full dashboard"]}),t.jsx("button",{onClick:u,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Full Dashboard"})]});case"not-admin":return t.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[t.jsx("h2",{children:"Access Denied"}),t.jsx("p",{children:"You are logged in but do not have admin privileges."}),t.jsx("button",{onClick:d,style:{padding:"10px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},children:"Go to Login"})]});default:return t.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[t.jsx("h2",{children:"Unknown State"}),t.jsxs("p",{children:["Current state: ",i]}),t.jsx("button",{onClick:u,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]})}};return t.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Arial, sans-serif"},children:[t.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden"},children:[t.jsxs("div",{style:{backgroundColor:"#007bff",color:"white",padding:"20px",textAlign:"center"},children:[t.jsx("h1",{style:{margin:0},children:"Admin Dashboard Test"}),t.jsx("p",{style:{margin:"10px 0 0 0",opacity:.9},children:"Debugging the white screen issue"})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{style:{backgroundColor:"#e9ecef",padding:"15px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:[t.jsx("strong",{children:"Debug Info:"}),t.jsx("br",{}),"Auth Loading: ",o?"Yes":"No",t.jsx("br",{}),"Current User: ",r?"Yes":"No",t.jsx("br",{}),"Test State: ",i,t.jsx("br",{}),"Timestamp: ",new Date().toLocaleString()]}),p()]})]})}),t.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},JT=()=>{const[e,r]=x.useState({firebaseInit:"pending",auth:"pending",firestore:"pending",collections:"pending"}),[o,i]=x.useState(null);x.useEffect(()=>{(async()=>{try{console.log("🔍 FirebaseTest: Starting Firebase tests...");try{console.log("🔍 FirebaseTest: Testing Firebase initialization..."),await ch(),r(p=>({...p,firebaseInit:"success"})),console.log("✅ FirebaseTest: Firebase initialized successfully")}catch(p){console.error("❌ FirebaseTest: Firebase initialization failed:",p),r(f=>({...f,firebaseInit:"error"})),i(`Firebase initialization failed: ${p.message}`);return}try{if(console.log("🔍 FirebaseTest: Testing Auth..."),tt)console.log("✅ FirebaseTest: Auth is available"),r(p=>({...p,auth:"success"}));else throw new Error("Auth is not available")}catch(p){console.error("❌ FirebaseTest: Auth test failed:",p),r(f=>({...f,auth:"error"}))}try{if(console.log("🔍 FirebaseTest: Testing Firestore..."),je())console.log("✅ FirebaseTest: Firestore is available"),r(p=>({...p,firestore:"success"}));else throw new Error("Firestore is not available")}catch(p){console.error("❌ FirebaseTest: Firestore test failed:",p),r(f=>({...f,firestore:"error"}))}try{console.log("🔍 FirebaseTest: Testing Firestore collections...");const p=["rebuttals","categories","admins","users"];let f=[];for(const y of p)try{const g=await Oe(Me(je(),y));console.log(`✅ FirebaseTest: Collection '${y}' is accessible (${g.size} documents)`),f.push(y)}catch(g){console.log(`⚠️ FirebaseTest: Collection '${y}' is not accessible:`,g.message)}f.length>0?r(y=>({...y,collections:"success",accessibleCollections:f})):r(y=>({...y,collections:"error"}))}catch(p){console.error("❌ FirebaseTest: Collections test failed:",p),r(f=>({...f,collections:"error"}))}console.log("🔍 FirebaseTest: All tests completed")}catch(p){console.error("❌ FirebaseTest: Test suite failed:",p),i(`Test suite failed: ${p.message}`)}})()},[]);const l=u=>{switch(u){case"success":return"#28a745";case"error":return"#dc3545";case"pending":return"#ffc107";default:return"#6c757d"}},d=u=>{switch(u){case"success":return"✅ Success";case"error":return"❌ Error";case"pending":return"⏳ Pending";default:return"❓ Unknown"}};return t.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Arial, sans-serif",padding:"20px"},children:t.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden"},children:[t.jsxs("div",{style:{backgroundColor:"#007bff",color:"white",padding:"20px",textAlign:"center"},children:[t.jsx("h1",{style:{margin:0},children:"Firebase Connection Test"}),t.jsx("p",{style:{margin:"10px 0 0 0",opacity:.9},children:"Testing Firebase configuration and connectivity"})]}),t.jsxs("div",{style:{padding:"20px"},children:[o&&t.jsxs("div",{style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",padding:"15px",marginBottom:"20px",color:"#721c24"},children:[t.jsx("strong",{children:"Error:"})," ",o]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{children:"Test Results"}),Object.entries(e).map(([u,p])=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderBottom:"1px solid #e9ecef",backgroundColor:p==="pending"?"#f8f9fa":"white"},children:[t.jsx("span",{style:{fontWeight:"bold",textTransform:"capitalize"},children:u.replace(/([A-Z])/g," $1").trim()}),t.jsx("span",{style:{color:l(p),fontWeight:"bold"},children:d(p)})]},u))]}),e.collections==="success"&&e.accessibleCollections&&t.jsxs("div",{style:{backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px",padding:"15px",marginBottom:"20px"},children:[t.jsx("strong",{children:"Accessible Collections:"}),t.jsx("ul",{style:{margin:"10px 0 0 0"},children:e.accessibleCollections.map(u=>t.jsx("li",{children:u},u))})]}),t.jsxs("div",{style:{backgroundColor:"#e9ecef",padding:"15px",borderRadius:"4px",fontSize:"14px"},children:[t.jsx("strong",{children:"Environment Info:"}),t.jsx("br",{}),"Environment: ","production",t.jsx("br",{}),"Firebase API Key: ","Set",t.jsx("br",{}),"Firebase Project ID: ","Set",t.jsx("br",{}),"Timestamp: ",new Date().toLocaleString()]}),t.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[t.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Run Tests Again"}),t.jsx("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Go Back"})]})]})]})})})},XT=()=>{throw new Error("This is a test error")};class eE extends ts.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,o){console.error("Test ErrorBoundary caught error:",r,o)}render(){return this.state.hasError?t.jsxs("div",{style:{padding:"20px",color:"red",textAlign:"center",maxWidth:"600px",margin:"40px auto",border:"1px solid red",borderRadius:"4px"},children:[t.jsx("h2",{children:"Error Boundary Test - Working!"}),t.jsxs("p",{children:["Error: ",this.state.error?.message]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const tE=()=>t.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Arial, sans-serif",padding:"20px"},children:t.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden"},children:[t.jsxs("div",{style:{backgroundColor:"#007bff",color:"white",padding:"20px",textAlign:"center"},children:[t.jsx("h1",{style:{margin:0},children:"Error Boundary Test"}),t.jsx("p",{style:{margin:"10px 0 0 0",opacity:.9},children:"Testing if error boundaries work correctly"})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{style:{backgroundColor:"#e9ecef",padding:"15px",borderRadius:"4px",marginBottom:"20px",fontSize:"14px"},children:[t.jsx("strong",{children:"Test Info:"}),t.jsx("br",{}),"This page tests if the ErrorBoundary component is working correctly.",t.jsx("br",{}),"If you see an error message below, the ErrorBoundary is working.",t.jsx("br",{}),"If you see a white screen or the app crashes, there's an issue."]}),t.jsx(eE,{children:t.jsx(XT,{})})]})]})})}),nE=()=>{const[e,r]=x.useState(""),[o,i]=x.useState(""),[l,d]=x.useState(""),[u,p]=x.useState(!1),[f,y]=x.useState(!1),[g,v]=x.useState(""),[w,T]=x.useState(null),A=hr();x.useEffect(()=>{localStorage.getItem("adminUser")&&A("/admin/dashboard")},[A]);const k=async O=>{try{const N=Fe(je(),"admins",O.uid),R=await Jn(N);if(!R.exists())return await Tr(N,{email:O.email,role:"admin",displayName:O.displayName||"",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()}),!0;const $=R.data();return(!$?.role||$.role!=="admin")&&await Tr(N,{role:"admin",lastLogin:new Date().toISOString()},{merge:!0}),!0}catch(N){throw console.error("Error verifying admin status:",N),N}},L=async O=>{O.preventDefault(),d(""),p(!0);try{const{user:N,needsDisplayName:R}=await Co.loginUser(e,o);if(R){T(N),y(!0),p(!1);return}await k(N),localStorage.setItem("adminUser",JSON.stringify({...N,role:"admin"})),A("/admin/dashboard")}catch(N){d(N.message||"Failed to sign in. Please try again.")}finally{p(!1)}},P=async O=>{if(O.preventDefault(),!g.trim()){d("Please enter a display name");return}p(!0);try{await Co.updateDisplayName(w.uid,g.trim()),await k(w),localStorage.setItem("adminUser",JSON.stringify({...w,displayName:g.trim(),role:"admin"})),A("/admin/dashboard")}catch(N){d(N.message||"Failed to update display name. Please try again.")}finally{p(!1)}};return f?t.jsxs("div",{className:"admin-login-container",children:[t.jsxs("button",{className:"back-button",onClick:()=>A("/"),children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back to Home"]}),t.jsxs("div",{className:"admin-login-card",children:[t.jsxs("div",{className:"admin-login-header",children:[t.jsx("h1",{children:"Set Your Display Name"}),t.jsx("p",{children:"Please enter your display name to continue"})]}),l&&t.jsx("div",{className:"error-message",children:l}),t.jsxs("form",{onSubmit:P,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"displayName",children:"Display Name"}),t.jsx("input",{type:"text",id:"displayName",value:g,onChange:O=>v(O.target.value),placeholder:"Enter your display name",required:!0})]}),t.jsx("button",{type:"submit",className:"submit-button",disabled:u,children:u?"Saving...":"Continue"})]})]})]}):t.jsxs("div",{className:"admin-login-container",children:[t.jsxs("button",{className:"back-button",onClick:()=>A("/"),children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back to Home"]}),t.jsxs("div",{className:"admin-login-card",children:[t.jsxs("div",{className:"admin-login-header",children:[t.jsx("h1",{children:"Admin Login"}),t.jsx("p",{children:"Sign in to access the admin dashboard"})]}),l&&t.jsx("div",{className:"error-message",children:l}),t.jsxs("form",{onSubmit:L,className:"login-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email"}),t.jsx("input",{type:"email",id:"email",value:e,onChange:O=>r(O.target.value),placeholder:"Enter your email",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:"Password"}),t.jsx("input",{type:"password",id:"password",value:o,onChange:O=>i(O.target.value),placeholder:"Enter your password",required:!0})]}),t.jsx("button",{type:"submit",className:"login-button",disabled:u,children:u?"Signing in...":"Sign In"})]})]})]})},rE=async(e,r={})=>{try{const o=Fe(je(),"admins",e.uid);await Tr(o,{email:e.email,role:"admin",displayName:e.displayName||"",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),...r},{merge:!0})}catch(o){throw console.error("Error creating admin entry:",o),o}},sE=async(e,r)=>{try{const i=(await av(tt,e,r)).user;return await rE(i),i}catch(o){throw console.error("Error creating admin user:",o),o}},oE=()=>{const[e,r]=x.useState(""),[o,i]=x.useState(""),[l,d]=x.useState(""),[u,p]=x.useState(""),[f,y]=x.useState(""),[g,v]=x.useState(!1),w=async T=>{if(T.preventDefault(),p(""),y(""),v(!0),o!==l){p("Passwords do not match"),v(!1);return}if(o.length<6){p("Password must be at least 6 characters long"),v(!1);return}try{await sE(e,o),y("Admin user created successfully! You can now log in."),r(""),i(""),d("")}catch(A){console.error("Error creating admin:",A),A.code==="auth/email-already-in-use"?p("This email is already registered"):p(A.message||"Failed to create admin user")}finally{v(!1)}};return t.jsx("div",{className:"admin-setup-container",children:t.jsxs("div",{className:"admin-setup-card",children:[t.jsx("h1",{children:"Create Admin User"}),t.jsx("p",{children:"Set up your first admin account"}),u&&t.jsx("div",{className:"error-message",children:u}),f&&t.jsx("div",{className:"success-message",children:f}),t.jsxs("form",{onSubmit:w,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email"}),t.jsx("input",{type:"email",id:"email",value:e,onChange:T=>r(T.target.value),placeholder:"Enter admin email",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:"Password"}),t.jsx("input",{type:"password",id:"password",value:o,onChange:T=>i(T.target.value),placeholder:"Enter password",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),t.jsx("input",{type:"password",id:"confirmPassword",value:l,onChange:T=>d(T.target.value),placeholder:"Confirm password",required:!0})]}),t.jsx("button",{type:"submit",className:"submit-button",disabled:g,children:g?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"loading-spinner"}),"Creating Admin..."]}):"Create Admin User"})]})]})})},iE=()=>{const[e,r]=x.useState([]),[o,i]=x.useState(null),[l,d]=x.useState(!1),[u,p]=x.useState(!1),[f,y]=x.useState({title:"",description:"",icon:"",keySteps:[""],quickTips:[""],tags:[""]});x.useEffect(()=>{g()},[]);const g=async()=>{try{const N=Me(je(),"customerServiceCategories"),$=(await Oe(N)).docs.map(U=>({id:U.id,...U.data()}));r($)}catch(N){console.error("Error loading categories:",N)}},v=async()=>{try{const N=Me(je(),"customerServiceCategories");await yn(N,{...f,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),d(!1),A(),g()}catch(N){console.error("Error adding category:",N)}},w=async()=>{try{if(!o)return;const N=Fe(je(),"customerServiceCategories",o.id);await sn(N,{...f,updatedAt:new Date().toISOString()}),p(!1),A(),g()}catch(N){console.error("Error updating category:",N)}},T=async N=>{if(window.confirm("Are you sure you want to delete this category?"))try{const R=Fe(je(),"customerServiceCategories",N);await vn(R),g()}catch(R){console.error("Error deleting category:",R)}},A=()=>{y({title:"",description:"",icon:"",keySteps:[""],quickTips:[""],tags:[""]}),i(null)},k=(N,R)=>{y($=>({...$,[R]:N.target.value}))},L=(N,R,$)=>{y(U=>({...U,[$]:U[$].map((J,ee)=>ee===N?R:J)}))},P=N=>{y(R=>({...R,[N]:[...R[N],""]}))},O=(N,R)=>{y($=>({...$,[R]:$[R].filter((U,J)=>J!==N)}))};return t.jsxs("div",{className:"customer-service-manager",children:[t.jsxs("div",{className:"manager-header",children:[t.jsx("h1",{children:"Customer Service Content Manager"}),t.jsx("button",{className:"add-button",onClick:()=>{A(),d(!0)},children:"Add New Category"})]}),t.jsx("div",{className:"categories-grid",children:e.map(N=>t.jsxs("div",{className:"category-card",children:[t.jsxs("div",{className:"category-header",children:[t.jsx("span",{className:"category-icon",children:N.icon}),t.jsx("h3",{children:N.title})]}),t.jsx("p",{className:"category-description",children:N.description}),t.jsxs("div",{className:"category-actions",children:[t.jsx("button",{onClick:()=>{i(N),y(N),p(!0)},className:"edit-button",children:"Edit"}),t.jsx("button",{onClick:()=>T(N.id),className:"delete-button",children:"Delete"})]})]},N.id))}),l&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h2",{children:"Add New Category"}),t.jsxs("form",{onSubmit:N=>{N.preventDefault(),v()},children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Title"}),t.jsx("input",{type:"text",value:f.title,onChange:N=>k(N,"title"),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:f.description,onChange:N=>k(N,"description"),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Icon (emoji)"}),t.jsx("input",{type:"text",value:f.icon,onChange:N=>k(N,"icon"),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Key Steps"}),f.keySteps.map((N,R)=>t.jsxs("div",{className:"array-input-group",children:[t.jsx("input",{type:"text",value:N,onChange:$=>L(R,$.target.value,"keySteps"),required:!0}),t.jsx("button",{type:"button",onClick:()=>O(R,"keySteps"),className:"remove-button",children:"Remove"})]},R)),t.jsx("button",{type:"button",onClick:()=>P("keySteps"),className:"add-item-button",children:"Add Step"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Quick Tips"}),f.quickTips.map((N,R)=>t.jsxs("div",{className:"array-input-group",children:[t.jsx("input",{type:"text",value:N,onChange:$=>L(R,$.target.value,"quickTips"),required:!0}),t.jsx("button",{type:"button",onClick:()=>O(R,"quickTips"),className:"remove-button",children:"Remove"})]},R)),t.jsx("button",{type:"button",onClick:()=>P("quickTips"),className:"add-item-button",children:"Add Tip"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tags"}),f.tags.map((N,R)=>t.jsxs("div",{className:"array-input-group",children:[t.jsx("input",{type:"text",value:N,onChange:$=>L(R,$.target.value,"tags"),required:!0}),t.jsx("button",{type:"button",onClick:()=>O(R,"tags"),className:"remove-button",children:"Remove"})]},R)),t.jsx("button",{type:"button",onClick:()=>P("tags"),className:"add-item-button",children:"Add Tag"})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"submit",className:"save-button",children:"Save"}),t.jsx("button",{type:"button",onClick:()=>{d(!1),A()},className:"cancel-button",children:"Cancel"})]})]})]})}),u&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h2",{children:"Edit Category"}),t.jsxs("form",{onSubmit:N=>{N.preventDefault(),w()},children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Title"}),t.jsx("input",{type:"text",value:f.title,onChange:N=>k(N,"title"),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:f.description,onChange:N=>k(N,"description"),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Icon (emoji)"}),t.jsx("input",{type:"text",value:f.icon,onChange:N=>k(N,"icon"),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Key Steps"}),f.keySteps.map((N,R)=>t.jsxs("div",{className:"array-input-group",children:[t.jsx("input",{type:"text",value:N,onChange:$=>L(R,$.target.value,"keySteps"),required:!0}),t.jsx("button",{type:"button",onClick:()=>O(R,"keySteps"),className:"remove-button",children:"Remove"})]},R)),t.jsx("button",{type:"button",onClick:()=>P("keySteps"),className:"add-item-button",children:"Add Step"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Quick Tips"}),f.quickTips.map((N,R)=>t.jsxs("div",{className:"array-input-group",children:[t.jsx("input",{type:"text",value:N,onChange:$=>L(R,$.target.value,"quickTips"),required:!0}),t.jsx("button",{type:"button",onClick:()=>O(R,"quickTips"),className:"remove-button",children:"Remove"})]},R)),t.jsx("button",{type:"button",onClick:()=>P("quickTips"),className:"add-item-button",children:"Add Tip"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tags"}),f.tags.map((N,R)=>t.jsxs("div",{className:"array-input-group",children:[t.jsx("input",{type:"text",value:N,onChange:$=>L(R,$.target.value,"tags"),required:!0}),t.jsx("button",{type:"button",onClick:()=>O(R,"tags"),className:"remove-button",children:"Remove"})]},R)),t.jsx("button",{type:"button",onClick:()=>P("tags"),className:"add-item-button",children:"Add Tag"})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"submit",className:"save-button",children:"Save Changes"}),t.jsx("button",{type:"button",onClick:()=>{p(!1),A()},className:"cancel-button",children:"Cancel"})]})]})]})})]})},aE=({onInstall:e,isCollapsed:r=!1})=>{const[o,i]=x.useState(null),[l,d]=x.useState(!1),[u,p]=x.useState(!1),[f,y]=x.useState(!1);x.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0){p(!0);return}const k=O=>{O.preventDefault(),i(O),d(!0),console.log("Install prompt available")},L=()=>{p(!0),d(!1),i(null),console.log("PWA was installed"),T(),setTimeout(()=>{g()},1e3)},P=()=>{if("serviceWorker"in navigator&&"PushManager"in window){const O=document.querySelector('link[rel="manifest"]'),N=navigator.serviceWorker.controller;O&&N&&(console.log("App is installable"),d(!0))}};return window.addEventListener("beforeinstallprompt",k),window.addEventListener("appinstalled",L),setTimeout(P,1e3),()=>{window.removeEventListener("beforeinstallprompt",k),window.removeEventListener("appinstalled",L)}},[]);const g=async()=>{if("Notification"in window&&Notification.permission==="default")try{await Notification.requestPermission()==="granted"&&v("StayOnScript Installed!",{body:"You can now receive notifications for updates and new features.",icon:"/icons/icon-192x192.png"})}catch{console.log("Notification permission denied")}},v=(k,L={})=>{if("Notification"in window&&Notification.permission==="granted"){const P={icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",vibrate:[100,50,100],...L};return new Notification(k,P)}},w=async()=>{if(o)try{o.prompt();const{outcome:k}=await o.userChoice;k==="accepted"?(console.log("User accepted the install prompt"),p(!0),d(!1),T()):(console.log("User dismissed the install prompt"),A()),i(null),e&&e(k);return}catch(k){console.error("Deferred prompt failed:",k)}try{if("serviceWorker"in navigator&&"PushManager"in window){const k=new Event("beforeinstallprompt");window.dispatchEvent(k),setTimeout(()=>{o||A()},1e3)}else A()}catch(k){console.error("Programmatic install failed:",k),A()}},T=()=>{"Notification"in window&&Notification.permission==="granted"?new Notification("StayOnScript Installed!",{body:"The app has been successfully installed on your device.",icon:"/icons/icon-192x192.png"}):alert(`✅ StayOnScript has been successfully installed on your device!

You can now:
• Use the app offline
• Access it from your Start Menu/Home Screen
• Enjoy faster loading times`)},A=()=>{const k=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),L=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),P=/Edg/.test(navigator.userAgent),O=/Firefox/.test(navigator.userAgent),N=/iPad|iPhone|iPod/.test(navigator.userAgent);let R=`📱 Install StayOnScript App

`;k?N?R+=`📱 iPhone/iPad Installation:
1. Tap the share button (📤) in Safari
2. Scroll down and tap "Add to Home Screen"
3. Tap "Add" to install the app

The app will appear on your home screen like a native app!`:R+=`📱 Android Installation:
1. Tap the menu (⋮) in Chrome
2. Tap "Install app" or "Add to Home screen"
3. Tap "Install" to confirm

The app will appear on your home screen!`:L?R+=`💻 Chrome Desktop Installation:
1. Look for the install icon (📱) in the address bar
2. Click the install icon
3. Click "Install" in the popup

The app will install and appear in your Start Menu!`:P?R+=`💻 Edge Desktop Installation:
1. Look for the install icon (📱) in the address bar
2. Click the install icon
3. Click "Install" in the popup

The app will install and appear in your Start Menu!`:O?R+=`💻 Firefox Desktop Installation:
1. Look for the install icon (📱) in the address bar
2. Click the install icon
3. Click "Install" in the popup

The app will install and appear in your Start Menu!`:R+=`💻 Desktop Installation:
• Chrome/Edge: Look for install icon (📱) in address bar
• Firefox: Look for install icon (📱) in address bar
• Safari: Not supported for PWA installation

The app will install and appear in your Start Menu!`,R+=`

✨ Once installed, the app will work offline and feel like a native app!`,alert(R)};return u?t.jsxs("div",{className:"pwa-installed",style:{display:"flex",alignItems:"center",gap:"0.5em",background:"#22c55e",color:"white",borderRadius:"8px",padding:r?"0.25em 0.75em":"0.5em 1em",fontWeight:600,fontSize:r?"0.95em":"1.1em",justifyContent:"center"},children:[t.jsx("span",{className:"pwa-installed-icon",style:{fontSize:r?"1.1em":"1.2em"},children:"✅"}),t.jsx("span",{className:"pwa-installed-text",children:"Installed"})]}):!l&&!u?t.jsxs("button",{className:"pwa-loading",onClick:A,title:"Install App",children:[t.jsx("span",{className:"pwa-icon",children:"⏳"}),!r&&t.jsx("span",{className:"pwa-text",children:"Checking..."})]}):l?t.jsxs("button",{className:"pwa-install-button",onClick:w,title:"Install StayOnScript App",children:[t.jsx("span",{className:"pwa-icon",children:"⬇️"}),!r&&t.jsx("span",{className:"pwa-text",children:"Install App"})]}):t.jsxs("button",{className:"pwa-manual-install",onClick:A,title:"Install App",children:[t.jsx("span",{className:"pwa-icon",children:"📱"}),!r&&t.jsx("span",{className:"pwa-text",children:"Install App"})]})},lE=()=>{const[e,r]=x.useState(!1),[o,i]=x.useState(null);x.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(u=>{i(u),u.addEventListener("updatefound",()=>{const p=u.installing;p.addEventListener("statechange",()=>{p.state==="installed"&&navigator.serviceWorker.controller&&r(!0)})})})},[]);const l=()=>{o&&o.waiting&&(o.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())},d=()=>{r(!1)};return e?t.jsx("div",{className:"pwa-update-notification",children:t.jsxs("div",{className:"pwa-update-content",children:[t.jsx("div",{className:"pwa-update-icon",children:"🔄"}),t.jsxs("div",{className:"pwa-update-text",children:[t.jsx("h3",{children:"New Version Available!"}),t.jsx("p",{children:"A new version of StayOnScript is ready to install."})]}),t.jsxs("div",{className:"pwa-update-actions",children:[t.jsx("button",{className:"pwa-update-button",onClick:l,children:"Update Now"}),t.jsx("button",{className:"pwa-dismiss-button",onClick:d,children:"Later"})]})]})}):null},cE=({isCollapsed:e=!1})=>{const[r,o]=x.useState({isInstalled:!1,isStandalone:!1,hasServiceWorker:!1,isOnline:navigator.onLine,cacheSize:"0 MB",swRegistered:!1,swActive:!1,swError:null,isLoading:!0});x.useEffect(()=>{(async()=>{console.log("Checking PWA status...");const y={isInstalled:window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,isStandalone:window.matchMedia("(display-mode: standalone)").matches,hasServiceWorker:"serviceWorker"in navigator&&navigator.serviceWorker.controller,isOnline:navigator.onLine,swRegistered:!1,swActive:!1,swError:null,cacheSize:"0 MB",isLoading:!0};o(y);try{const g=eg(),v=new Promise((T,A)=>setTimeout(()=>A(new Error("Service worker check timeout")),3e3)),w=await Promise.race([g,v]);console.log("Service worker status:",w),o(T=>({...T,swRegistered:w.registered||!1,swActive:w.active||!1,swError:w.error||null,isLoading:!1}))}catch(g){console.log("Service worker check failed:",g.message),o(v=>({...v,swError:g.message,isLoading:!1}))}if("caches"in window)try{const g=(async()=>{const T=await caches.keys();let A=0;for(const k of T){const P=await(await caches.open(k)).keys();A+=P.length}return`${Math.round(A/10)} MB`})(),v=new Promise((T,A)=>setTimeout(()=>A(new Error("Cache check timeout")),2e3)),w=await Promise.race([g,v]);o(T=>({...T,cacheSize:w,isLoading:!1}))}catch(g){console.log("Cache check failed:",g.message),o(v=>({...v,cacheSize:"Unknown",isLoading:!1}))}})();const f=()=>{o(y=>({...y,isOnline:navigator.onLine}))};return window.addEventListener("online",f),window.addEventListener("offline",f),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",f)}},[]);const i=()=>r.isLoading?"⏳":r.isInstalled?"✅":r.swActive?"⚡":r.swRegistered?"🔄":r.swError?"❌":"📱",l=()=>r.isLoading?"Checking...":r.isInstalled?"App Installed":r.swActive?"SW Active":r.swRegistered?"SW Registered":r.swError?"SW Error":"Install Available",d=()=>r.isLoading?"#F59E0B":r.isInstalled?"#10B981":r.swActive?"#3B82F6":r.swRegistered?"#F59E0B":r.swError?"#EF4444":"#6B7280",u=async()=>{console.log("Refreshing PWA status...");const p=await eg();console.log("Updated SW Status:",p),p.error&&(console.log("Service worker error detected, reloading page..."),window.location.reload())};return e?t.jsx("div",{className:"pwa-status-collapsed-center",style:{color:d()},children:t.jsx("span",{className:"pwa-status-icon",style:{fontSize:"2rem",display:"block",textAlign:"center"},children:i()})}):t.jsxs("div",{className:"pwa-status",style:{color:d()},children:[t.jsx("span",{className:"pwa-status-icon",children:i()}),!e&&t.jsx("span",{className:"pwa-status-text",children:l()}),t.jsx("div",{className:"pwa-status-tooltip",children:t.jsxs("div",{className:"tooltip-content",children:[t.jsx("h4",{children:"PWA Status"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Installed: ",r.isInstalled?"Yes":"No"]}),t.jsxs("li",{children:["Standalone: ",r.isStandalone?"Yes":"No"]}),t.jsxs("li",{children:["Service Worker: ",r.swActive?"Active":r.swRegistered?"Registered":"Inactive"]}),t.jsxs("li",{children:["Online: ",r.isOnline?"Yes":"No"]}),t.jsxs("li",{children:["Cache: ",r.cacheSize]}),r.swError&&t.jsxs("li",{style:{color:"red"},children:["Error: ",r.swError]})]}),t.jsx("button",{onClick:u,style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Refresh Status"})]})})]})},fo=({children:e})=>{const r=hr(),o=cs(),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[p,f]=x.useState(!1);Mj();const y=[{path:"/",label:"Home",icon:"🏠"},{path:"/rebuttals",label:"Rebuttals",icon:"💬"},{path:"/disposition",label:"Disposition",icon:"📋"},{path:"/customerService",label:"Customer Service",icon:"👥"},{path:"/faq",label:"FAQ",icon:"❓"},{path:"/scheduleScript",label:"Schedule Script",icon:"📅"}],g=A=>{A==="accepted"&&console.log("PWA installed successfully!")},v=()=>{l(!i)},w=()=>{u(!d)},T=A=>{r(A),setTimeout(Mi,0),setTimeout(Mi,200)};return t.jsxs("div",{className:"layout",children:[t.jsx("main",{className:`main-content ${i?"expanded":""}`,children:e}),!d&&t.jsxs("nav",{className:`side-nav ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"nav-header",children:[t.jsx("h2",{children:"StayOnScript"}),t.jsxs("div",{className:"nav-buttons",children:[t.jsx("button",{className:"nav-toggle",onClick:v,"aria-label":i?"Expand navigation":"Collapse navigation",children:i?"→":"←"}),i&&t.jsx("button",{className:"nav-hide",onClick:w,"aria-label":"Hide navigation",children:"✕"})]})]}),t.jsx("ul",{className:"nav-items",children:y.map(A=>t.jsxs("li",{className:`nav-item ${o.pathname===A.path?"active":""}`,onClick:()=>T(A.path),children:[t.jsx("span",{className:"nav-icon",children:A.icon}),!i&&t.jsx("span",{className:"nav-label",children:A.label})]},A.path))}),t.jsxs("div",{className:"nav-footer",children:[t.jsx(aE,{onInstall:g,isCollapsed:i}),t.jsx(cE,{isCollapsed:i})]})]}),d&&t.jsx("button",{className:"show-nav-button",onClick:w,"aria-label":"Show navigation",children:"→"}),t.jsx(lE,{})]})},dE=()=>t.jsx("div",{className:"loading-screen",children:t.jsxs("div",{className:"loading-container",children:[t.jsxs("div",{className:"logo-container",children:[t.jsx("div",{className:"logo-circle"}),t.jsxs("div",{className:"logo-text",children:[t.jsx("span",{children:"L"}),t.jsx("span",{children:"H"}),t.jsx("span",{children:"P"})]})]}),t.jsxs("div",{className:"loading-animation",children:[t.jsx("div",{className:"loading-bar",children:t.jsx("div",{className:"loading-progress"})}),t.jsxs("div",{className:"loading-dots",children:[t.jsx("div",{className:"dot"}),t.jsx("div",{className:"dot"}),t.jsx("div",{className:"dot"})]})]}),t.jsxs("div",{className:"loading-text",children:[t.jsx("span",{children:"L"}),t.jsx("span",{children:"o"}),t.jsx("span",{children:"a"}),t.jsx("span",{children:"d"}),t.jsx("span",{children:"i"}),t.jsx("span",{children:"n"}),t.jsx("span",{children:"g"}),t.jsx("span",{className:"dot-1",children:"."}),t.jsx("span",{className:"dot-2",children:"."}),t.jsx("span",{className:"dot-3",children:"."})]})]})}),ki=({children:e})=>e,uE=({Component:e})=>{const r=hr(),o=i=>{r(`/${i}`),Mi()};return t.jsx(e,{onNavigate:o})};function hE(){const[e,r]=ts.useState(!0);return ts.useEffect(()=>(document.body.classList.add("dark"),()=>{document.body.classList.remove("dark")})),ts.useEffect(()=>{(async()=>{try{console.log("Initializing PWA..."),await Ij(),Fj(),console.log("PWA initialized successfully")}catch(i){console.error("Failed to initialize PWA:",i)}})()},[]),ts.useEffect(()=>{const o=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(o)},[]),e?t.jsx(dE,{}):t.jsx(Lj,{children:t.jsxs(kj,{children:[t.jsx(Wt,{path:"/admin",element:t.jsx(Km,{to:"/admin/dashboard",replace:!0})}),t.jsx(Wt,{path:"/admin/setup",element:t.jsx(oE,{})}),t.jsx(Wt,{path:"/admin/login",element:t.jsx(nE,{})}),t.jsx(Wt,{path:"/admin/dashboard",element:t.jsx(ki,{children:t.jsx(KT,{})})}),t.jsx(Wt,{path:"/admin/test",element:t.jsx(ki,{children:t.jsx(ZT,{})})}),t.jsx(Wt,{path:"/admin/firebase-test",element:t.jsx(JT,{})}),t.jsx(Wt,{path:"/admin/error-test",element:t.jsx(tE,{})}),t.jsx(Wt,{path:"/admin/rebuttals/new",element:t.jsx(ki,{children:t.jsx(lh,{})})}),t.jsx(Wt,{path:"/admin/rebuttals/edit/:id",element:t.jsx(ki,{children:t.jsx(lh,{})})}),t.jsx(Wt,{path:"/admin/customer-service",element:t.jsx(ki,{children:t.jsx(iE,{})})}),t.jsx(Wt,{path:"/",element:t.jsx(fo,{children:t.jsx(uE,{Component:Gj})})}),t.jsx(Wt,{path:"/rebuttals",element:t.jsx(fo,{children:t.jsx(Qj,{})})}),t.jsx(Wt,{path:"/disposition",element:t.jsx(fo,{children:t.jsx(eb,{})})}),t.jsx(Wt,{path:"/customerService",element:t.jsx(fo,{children:t.jsx(hb,{})})}),t.jsx(Wt,{path:"/faq",element:t.jsx(fo,{children:t.jsx(NN,{})})}),t.jsx(Wt,{path:"/scheduleScript",element:t.jsx(fo,{children:t.jsx(IT,{})})}),t.jsx(Wt,{path:"*",element:t.jsx(Km,{to:"/",replace:!0})})]})})}const pE=()=>{const e=console.warn,r=console.error,o=console.log;console.log=(...i)=>{const l=i.join(" ");!l.includes("res 65.246.84.74")&&!l.includes("got ip")&&!l.includes("timeDifference")&&!l.includes("firebase mounted")&&!l.includes("should call")&&!l.includes("called")&&!l.includes("Firebase apps")&&!l.includes("Initializing Firebase")&&!l.includes("Firebase initialized")&&!l.includes("Firebase Messaging initialized")&&!l.includes("req token")&&!l.includes("Requesting permission")&&!l.includes("firebase")&&!l.includes("worker init")&&!l.includes("worker messaging")&&!l.includes("loadAppData is resolved")&&!l.includes("Click is in the middle bottom")&&!l.includes("Click is in the bottom-right corner")&&!l.includes("Basemap iframe loaded successfully")&&o(...i)},console.warn=(...i)=>{const l=i.join(" ");!l.includes("mapContainer")&&!l.includes("Google Maps JavaScript API")&&!l.includes("Permissions policy violation")&&!l.includes("getNotifications")&&!l.includes("Invalid DOM property")&&!l.includes("componentWillMount")&&!l.includes("componentWillReceiveProps")&&!l.includes("ReactDOM.render is no longer supported")&&!l.includes("string ref")&&!l.includes("strict-mode-string-ref")&&!l.includes("mapTypeId_changed")&&!l.includes("styles_changed")&&!l.includes("google.maps.places.AutocompleteService")&&!l.includes("google.maps.places.PlacesService")&&!l.includes("google.maps.Marker")&&!l.includes("mapId is present")&&!l.includes("map styles are controlled via the cloud console")&&!l.includes("deprecated")&&!l.includes("not available to new customers")&&!l.includes("not scheduled to be discontinued")&&!l.includes("will continue to receive bug fixes")&&!l.includes("at least 12 months notice")&&!l.includes("migration guide")&&!l.includes("As of March 1st, 2025")&&!l.includes("As of February 21st, 2024")&&e(...i)},console.error=(...i)=>{const l=i.join(" ");!l.includes("getNotifications")&&!l.includes("Geolocation access has been blocked")&&!l.includes("InvalidValueError: in property address")&&!l.includes("Failed to decode downloaded font")&&!l.includes("OTS parsing error")&&!l.includes("Failed to load resource")&&!l.includes("Uncaught SyntaxError")&&!l.includes("InvalidAccessError: Failed to execute")&&!l.includes("applicationServerKey is not valid")&&!l.includes("Initialization error")&&!l.includes("Error while retrieving token")&&!l.includes("subscribe on PushManager")&&!l.includes("Error getting location")&&!l.includes("Geolocation has been disabled")&&!l.includes("worker init")&&!l.includes("worker messaging")&&!l.includes("ReferenceError: getNotifications")&&!l.includes("Geolocation has been disabled in this document")&&!l.includes("The notification permission was not granted and blocked instead")&&!l.includes("messaging/permission-blocked")&&r(...i)}};pE();YN();window.addEventListener("error",e=>{const r=e.message||"";if(r.includes("getNotifications")||r.includes("Geolocation")||r.includes("applicationServerKey")||r.includes("PushManager")||r.includes("mapContainer")||r.includes("InvalidValueError")||r.includes("ReferenceError")||r.includes("Failed to decode downloaded font")||r.includes("OTS parsing error")||r.includes("The notification permission was not granted and blocked instead")||r.includes("messaging/permission-blocked")||r.includes("Geolocation has been disabled in this document by permissions policy"))return e.preventDefault(),!1});const fE={...console};console=new Proxy(console,{get(e,r){return r==="warn"||r==="error"||r==="log"?(...o)=>{const i=o.join(" ");i.includes("mapContainer")||i.includes("Google Maps JavaScript API")||i.includes("Permissions policy violation")||i.includes("getNotifications")||i.includes("Invalid DOM property")||i.includes("componentWillMount")||i.includes("componentWillReceiveProps")||i.includes("ReactDOM.render is no longer supported")||i.includes("string ref")||i.includes("strict-mode-string-ref")||i.includes("mapTypeId_changed")||i.includes("styles_changed")||i.includes("Geolocation access has been blocked")||i.includes("InvalidValueError: in property address")||i.includes("Failed to decode downloaded font")||i.includes("OTS parsing error")||i.includes("Failed to load resource")||i.includes("Uncaught SyntaxError")||i.includes("InvalidAccessError: Failed to execute")||i.includes("applicationServerKey is not valid")||i.includes("Initialization error")||i.includes("Error while retrieving token")||i.includes("subscribe on PushManager")||i.includes("Error getting location")||i.includes("Geolocation has been disabled")||i.includes("worker init")||i.includes("worker messaging")||i.includes("res 65.246.84.74")||i.includes("got ip")||i.includes("timeDifference")||i.includes("firebase mounted")||i.includes("should call")||i.includes("called")||i.includes("Firebase apps")||i.includes("Initializing Firebase")||i.includes("Firebase initialized")||i.includes("Firebase Messaging initialized")||i.includes("req token")||i.includes("Requesting permission")||i.includes("firebase")||i.includes("loadAppData is resolved")||i.includes("Click is in the middle bottom")||i.includes("Click is in the bottom-right corner")||i.includes("google.maps.places.AutocompleteService")||i.includes("google.maps.places.PlacesService")||i.includes("google.maps.Marker")||i.includes("mapId is present")||i.includes("map styles are controlled via the cloud console")||i.includes("deprecated")||i.includes("not available to new customers")||i.includes("not scheduled to be discontinued")||i.includes("will continue to receive bug fixes")||i.includes("at least 12 months notice")||i.includes("migration guide")||i.includes("ReferenceError: getNotifications")||i.includes("Geolocation has been disabled in this document")||i.includes("The notification permission was not granted and blocked instead")||i.includes("messaging/permission-blocked")||i.includes("Geolocation has been disabled in this document by permissions policy")||fE[r](...o)}:e[r]}});const mE=async()=>{try{console.log("Starting app initialization...");const e=document.getElementById("root");if(!e)throw new Error("Root element not found");console.log("Root element found, creating React root...");const r=D1.createRoot(e);console.log("Rendering app..."),r.render(t.jsx(ts.StrictMode,{children:t.jsx(Zj,{children:t.jsx(hE,{})})})),console.log("App rendered successfully")}catch(e){console.error("Failed to initialize app:",e);const r=document.getElementById("root");r&&(r.innerHTML=`
        <div style="color: red; padding: 20px; font-family: Arial, sans-serif;">
          <h2>Failed to initialize application</h2>
          <p>Please try refreshing the page.</p>
          <p><strong>Error:</strong> ${e.message}</p>
          <p><strong>Stack:</strong> ${e.stack}</p>
        </div>
      `)}};console.log("main.jsx loaded, starting initialization...");mE();
